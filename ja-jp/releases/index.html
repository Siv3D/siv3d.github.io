
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Siv3D: 創造のための C++ フレームワーク">
      
      
        <meta name="author" content="Ryo Suzuki">
      
      
        <link rel="canonical" href="https://siv3d.github.io/ja-jp/releases/">
      
      
        <link rel="prev" href="../sponsorship/corporate-sponsor-guideline/">
      
      
        <link rel="next" href="../mascot/">
      
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.3.1">
    
    
      
        <title>リリースノート - Siv3D</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.046329b4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="siv3d" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#リリースノート" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href=".." title="Siv3D" class="md-header__button md-logo" aria-label="Siv3D" data-md-component="logo">
      
  <img src="../assets/code-white-48dp.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Siv3D
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              リリースノート
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="言語切り替え">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="https://siv3d.github.io/ja-jp/" hreflang="ja" class="md-select__link">
              日本語
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="https://siv3d.github.io/en-us/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="検索">
        
        <button type="reset" class="md-search__icon md-icon" title="クリア" aria-label="クリア" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Siv3D/OpenSiv3D" title="リポジトリへ" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Siv3D/OpenSiv3D
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Siv3D" class="md-nav__button md-logo" aria-label="Siv3D" data-md-component="logo">
      
  <img src="../assets/code-white-48dp.svg" alt="logo">

    </a>
    Siv3D
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Siv3D/OpenSiv3D" title="リポジトリへ" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Siv3D/OpenSiv3D
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Siv3D をはじめよう
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../learn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Siv3D を学ぶ
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Siv3D の機能
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ダウンロード
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            ダウンロード
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../download/windows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Windows
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../download/macos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    macOS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../download/ubuntu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ubuntu
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../download/web/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    チュートリアル
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            チュートリアル
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    入門チュートリアル 1
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            入門チュートリアル 1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/hello/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. はじめての Siv3D
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Siv3D の基本
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/mainloop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Main 関数の構成
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/app-basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. アプリケーションの基本操作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/print/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. 簡易的なデータ表示
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/basic-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. 基本的なデータ型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/background/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. 背景の色を変える
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/circle-rect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8. 円と長方形を描く
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/pattern/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9. 模様を描く
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/emoji/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10. 絵文字を描く
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/text/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11. テキストを表示する
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/motion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12. 変数と動き
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/keyboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13. キーボード入力を扱う
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/mouse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14. マウス入力を扱う
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/button/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15. ボタンを作る
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/cookie-clicker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    16. クッキークリッカー風のゲームを作る
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    入門チュートリアル 2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            入門チュートリアル 2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/shape/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    17. 図形を描く
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/motion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    18. 動きを作る
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/string/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    19. 文字列クラス
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/array/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    20. 動的配列
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/grid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    21. 二次元配列
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/hash-table/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    22. ハッシュテーブル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/optional/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    23. 無効値を表現できる型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/2d-intersection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    24. あたり判定
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/texture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    25. テクスチャを描く
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/video/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    26. 動画を描く
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/format/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    27. 数値と文字列の変換
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/gui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    28. GUI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/random/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    29. ランダム
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/time/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    30. 日付と時刻、時間
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/font/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    31. テキストを表示する
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/scene/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    32. シーンとウィンドウ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/keyboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    33. キーボード入力
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/mouse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    34. マウス入力
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/utility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    35. 便利な関数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial2/interaction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    36. インタラクションの実装
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    入門チュートリアル 3
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            入門チュートリアル 3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/audio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    37. オーディオ再生
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/asset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    38. アセット管理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/2d-render-state/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    39. 2D レンダーステート
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/effect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    40. エフェクト
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/render-texture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    41. レンダーテクスチャ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/filesystem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    42. ファイルシステム
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/text-file/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    43. テキストファイル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/config-file/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    44. 設定ファイル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/binary-file/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    45. バイナリファイル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/file-dialog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    46. ファイルダイアログ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/dragdrop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    47. ドラッグ & ドロップ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/messagebox/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    48. メッセージボックス
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/resource-file/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    49. リソースファイル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/http-client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    50. HTTP クライアント
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/scene-manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    51. シーン管理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/gamepad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    52. ゲームパッド
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/image/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    53. 画像編集
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/wave/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    54. 音声波形
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/microphone/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    55. マイク入力
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/webcam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    56. Web カメラ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/geometry2d/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    57. 高度な図形処理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/profiler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    58. プロファイラと最適化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/openai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    59. OpenAI API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial3/release/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    60. アプリの公開
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    入門チュートリアル 4
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            入門チュートリアル 4
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/2d-shader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    61. 2D カスタムシェーダ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/3d-shape/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    62. 3D 形状を描く
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/3d-shape-advanced/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    63. 3D 形状を描く（発展）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/3d-intersection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    64. 3D の交差判定
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/tcp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    65. TCP 通信
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/multiplayer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    66. マルチプレイヤー
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/serial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    67. シリアル通信
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/osc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    68. OSC 通信
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/pipe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    69. パイプ通信
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/text-to-speech/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    70. 文章の読み上げ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/qr-code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    71. QR コード
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/compression/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    72. ファイルの圧縮
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/video-edit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    73. 動画編集
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/pentablet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    74. ペンタブレット
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/leap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    75. Leap デバイス
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/navmesh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    76. ナビメッシュ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/physics2d/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    77. 2D 物理演算
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/math-parser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    78. 数式パーサ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/user/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    79. ユーザ環境の取得
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial4/addon/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    80. アドオンを作る
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    サンプル
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            サンプル
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../samples/games/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ゲームのサンプル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../samples/apps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    アプリケーションのサンプル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../samples/web/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web サービスとの連係サンプル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../samples/shapes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    図形のサンプル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../samples/2d/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2D 描画のサンプル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../samples/image/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    画像のサンプル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../samples/text/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文字表示のサンプル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../samples/ui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UI のサンプル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../samples/visualize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    データ可視化のサンプル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../samples/motion-graphics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    モーショングラフィックスのサンプル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../samples/sound/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    音のサンプル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../samples/physics2d/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2D 物理演算のサンプル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../samples/3d/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3D 描画のサンプル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../samples/gamelauncher/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ゲームランチャーを作る
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../api/classes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    クラス一覧
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    記事
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            記事
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/game_tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ゲーム開発のヒント集
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/messagebox/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    メッセージボックス
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/async/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    非同期処理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/adapter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    自作クラスと Siv3D の連係
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/helloworld/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Siv3D で Hello world する 21 の方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/avoid-global-variable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    グローバル変数として作成できないクラス
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/polymorphism/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    多態性を使ったクラスの実装
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    開発に便利なツール
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            開発に便利なツール
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tools/palette/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Siv3D Palette Browser
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tools/emoji/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    絵文字とアイコンの検索
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tools/easing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Easing Functions Cheat Sheet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tools/gist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Gist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tools/scrapbox/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scrapbox
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tools/gamebar/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Xbox Game Bar
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tools/vscoloroutput/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VSColorOutput
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tools/gitignore/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    .gitignore
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tools/hot-reload/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ホットリロード
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tools/msvc-exception/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    例外の発生個所の表示
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    コミュニティ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            コミュニティ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../community/community/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コミュニティ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../community/history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    これまでのイベント
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    開発に参加する
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            開発に参加する
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../develop/report/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    報告や提案
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../develop/build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    自前ビルドの手順
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../develop/commit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コントリビューションガイド
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../develop/coding-style/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    コーディングスタイル
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    勉強会
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            勉強会
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../study/quikstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    高速チュートリアル
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../study/polymorphism/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    多態性入門
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../study/openai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAI API の使用
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    協賛企業の募集
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            協賛企業の募集
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../sponsorship/corporate-sponsor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    協賛企業の募集について
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../sponsorship/corporate-sponsor-guideline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    協賛特典
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    リリースノート
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    リリースノート
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#v06-世代" class="md-nav__link">
    v0.6 世代
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#v04-世代" class="md-nav__link">
    v0.4 世代
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#v00v03-世代" class="md-nav__link">
    v0.0～v0.3 世代
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#旧-siv3d" class="md-nav__link">
    旧 Siv3D
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../mascot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Siv3D くん
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../acknowledgments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    謝辞
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#v06-世代" class="md-nav__link">
    v0.6 世代
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#v04-世代" class="md-nav__link">
    v0.4 世代
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#v00v03-世代" class="md-nav__link">
    v0.0～v0.3 世代
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#旧-siv3d" class="md-nav__link">
    旧 Siv3D
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="リリースノート">リリースノート<a class="headerlink" href="#リリースノート" title="Permanent link">&para;</a></h1>
<h2 id="v06-世代">v0.6 世代<a class="headerlink" href="#v06-世代" title="Permanent link">&para;</a></h2>
<details class="summary" open="open">
<summary>v0.6.12 | 2023-09-27</summary>
<h4 id="新機能">新機能<a class="headerlink" href="#新機能" title="Permanent link">&para;</a></h4>
<ul>
<li><code>Rect</code>, <code>RectF</code> から角度を指定して平行四辺形の <code>Quad</code> を作る関数を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1056">#1056</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1070">#1070</a>)<ul>
<li><a href="https://zenn.dev/link/comments/2f28a4366b3b2f">サンプル</a></li>
</ul>
</li>
<li>2D および 3D の Morton Order を計算する関数を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1072">#1072</a>)<ul>
<li><a href="https://zenn.dev/link/comments/a9015b37d00cc2">サンプル</a></li>
</ul>
</li>
<li>Windows 11 で IME を使用する際に、変換候補ウィンドウを描画する <code>SimpleGUI::IMECandidateWindow()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1106">#1106</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1107">#1107</a>)<ul>
<li><a href="https://zenn.dev/link/comments/f9c5f75094806f">サンプル</a></li>
</ul>
</li>
<li><code>Point</code>, <code>Vector2D</code> に <code>.rotate90(N)</code> などを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1093">#1093</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1102">#1102</a>)<ul>
<li><a href="https://zenn.dev/link/comments/664156e39d1e3f">サンプル</a></li>
</ul>
</li>
<li><code>SceneManager::init()</code> に最初のフェードイン時間を指定できるようにしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1078">#1078</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1081">#1081</a>)<ul>
<li><a href="https://zenn.dev/link/comments/1dae79127cb0c5">サンプル</a></li>
</ul>
</li>
<li>2 つの <code>Image</code> を比較する <code>==</code>, <code>!=</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1099">#1099</a>)</li>
<li><code>Image::rotate90(N)</code> オーバーロードを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1089">#1089</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1090">#1090</a>)</li>
<li><code>Point3D</code> 型を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1073">#1073</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1074">#1074</a>)</li>
<li><code>Point</code> 型に <code>operator%</code> と <code>operator%=</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1055">#1055</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1058">#1058</a>)</li>
</ul>
<h4 id="仕様変更">仕様変更<a class="headerlink" href="#仕様変更" title="Permanent link">&para;</a></h4>
<ul>
<li><code>ScreenCapture::</code> の一部関数の引数の一貫性を改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1080">#1080</a>)</li>
<li>サードパーティライブラリを更新しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1100">#1100</a>)</li>
</ul>
<h4 id="パフォーマンス向上">パフォーマンス向上<a class="headerlink" href="#パフォーマンス向上" title="Permanent link">&para;</a></h4>
<ul>
<li>SDF/MSDF 方式のフォントのプリロードコストを大幅に改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1095">#1095</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1096">#1096</a>)</li>
<li><code>Image::clipped()</code> などの実行時性能を大幅に改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1087">#1087</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1108">#1108</a>)</li>
<li><code>Shape2D::indices()</code> が参照ではなく値を返していた非効率を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1065">#1065</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1071">#1071</a>)</li>
<li>右辺値の <code>Array</code>, <code>String</code>, <code>Polygon</code> 等のための効率的なメンバ関数オーバーロードを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1059">#1059</a>, <a href="https://github.com/Siv3D/OpenSiv3D/issues/1060">#1060</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1064">#1064</a>)</li>
</ul>
<h4 id="不具合バグ修正">不具合・バグ修正<a class="headerlink" href="#不具合バグ修正" title="Permanent link">&para;</a></h4>
<ul>
<li>複雑な字体の SDF/MSDF フォントの文字にノイズが入ることがあった不具合を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1082">#1082</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1096">#1096</a>)</li>
<li>ウィンドウが非アクティブなとき、キーを押していないのに <code>.pressed()</code> が <code>true</code> を返すことがあったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1083">#1083</a>)</li>
<li>v0.6.11 で <code>RoundRect::drawShadow()</code> の一部ケースの描画に異常が生じたバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1076">#1076</a>)</li>
<li><code>RandomHSV(hMinMax, sMinMax, vMinMax)</code> の結果が正しくなかったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1084">#1084</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1088">#1088</a>)</li>
<li><code>String::trimmed()</code> に空白文字のみで構成される文字列を渡すと実行時エラーになったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1101">#1101</a>)</li>
<li>Windows 版における IME の挙動を改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1104">#1104</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1107">#1107</a>)</li>
<li><code>P2Body</code> が空の <code>Polygon</code> を持つときの実行時エラーを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1075">#1075</a>)</li>
<li><code>Wave::MaxSampleRate</code> が <code>Wave::MaxSamlpeRate</code> になっていた誤字を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/1105">#1105</a>)</li>
<li><code>PhongMaterial::ambientColor</code> が <code>PhongMaterial::amibientColor</code> になっていた誤字を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/1105">#1105</a>)</li>
<li><code>AsyncTask::wait_until()</code> がコンパイルエラーを起こすバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1068">#1068</a>)</li>
<li>一部のシェーダファイルの誤字を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/1105">#1105</a>)</li>
<li>ドキュメンテーションの誤りを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/1054">#1054</a>)</li>
</ul>
<h4 id="コントリビューション">コントリビューション<a class="headerlink" href="#コントリビューション" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://github.com/Raclamusi">Raclamusi</a>: <strong>右辺値の <code>Array</code> などのクラス向けの効率的なメンバ関数オーバーロードの実装</strong>, <strong><code>Image::clipped()</code> 等の高速化</strong>, 一部の関数の戻り値の不具合の修正</li>
<li><a href="https://github.com/yama-can">yama-can</a>: <strong><code>Rect::skewedX()</code> 等の実装</strong>, <strong><code>SceneManager::init()</code> のフェード時間指定の実装</strong></li>
<li><a href="https://github.com/comefrombottom">comefrombottom</a>: <strong><code>Image::rotate90(n)</code> 等の実装</strong>, <strong><code>Point</code> や <code>Vector2D</code> の <code>.rotate90()</code> の実装</strong></li>
<li><a href="https://github.com/ozone010">ozone010</a>: <strong><code>Point</code> 型に <code>operator%</code> と <code>operator%=</code> を追加</strong></li>
<li><a href="https://github.com/voidproc">voidproc</a>: ドキュメントとソースコードの誤字修正</li>
<li><a href="https://github.com/naga-karupi">naga-karupi</a>: <code>RandomHSV()</code> のバグ修正</li>
<li><a href="https://github.com/sfpgmr">sfpgmr</a>: 内部コードの修正</li>
<li><a href="https://github.com/aoriika05">aoriika05</a>: ドキュメントの修正</li>
</ul>
</details>
<details class="summary">
<summary>v0.6.11 | 2023-08-11</summary>
<h4 id="新機能_1">新機能<a class="headerlink" href="#新機能_1" title="Permanent link">&para;</a></h4>
<ul>
<li>2D の軌跡を描画する機能を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1006">#1006</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1043">#1043</a>)<ul>
<li><a href="https://zenn.dev/link/comments/7de4b612bbc195">サンプル</a></li>
</ul>
</li>
<li>「9 スライス」を簡単に扱えるクラスを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1030">#1030</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1036">#1036</a>)<ul>
<li><a href="https://zenn.dev/link/comments/f62cd1a9e45fb0">サンプル</a></li>
</ul>
</li>
<li>目標に追従するシンプルな 3D カメラクラス <code>SimpleFollowCamera3D</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1048">#1048</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1049">#1049</a>)<ul>
<li><a href="https://zenn.dev/link/comments/7034d12f405985">サンプル</a></li>
</ul>
</li>
<li>OpenAI Chat API のモデル定数に <code>GPT3_5_Turbo_16K</code>（<code>gpt-3.5-turbo-16k</code>）を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1055">#1050</a>)</li>
<li><code>Rect</code>, <code>RectF</code>, <code>RoundRectF</code> の <code>.drawShadow()</code> に、内部をすべて塗りつぶさないオプションを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1039">#1039</a>)</li>
<li>ベクトルの各要素間で最大値 / 最小値を計算する <code>Math::Max()</code>, <code>Math::Min()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1032">#1032</a>)</li>
<li><code>Line::normalizedVector()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1029">#1029</a>)</li>
<li><code>Triangle::isClockwise()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1028">#1028</a>)</li>
<li><code>Transition::reset()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1025">#1025</a>)</li>
<li><code>Math::MoveTowards()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1024">#1024</a>)</li>
<li>3 つの頂点から時計回りの <code>Triangle</code> を作成する <code>Triangle::FromPoints(p0, p1, p2)</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1015">#1015</a>)</li>
<li><code>Quaternion::RollPitchYaw()</code> に、<code>Vec3</code> を引数にとるオーバーロードを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1014">#1014</a>)</li>
</ul>
<h4 id="ユーザビリティ向上">ユーザビリティ向上<a class="headerlink" href="#ユーザビリティ向上" title="Permanent link">&para;</a></h4>
<ul>
<li>初心者が踏みやすいランタイムエラーを踏んだ際にトラブルシューティングの Web ページを開く機能を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1007">#1007</a>, <a href="https://github.com/Siv3D/OpenSiv3D/issues/1034">#1034</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1035">#1035</a>)</li>
<li>エンジン起動前のアセットクラス初期化検知の対象を拡大しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1047">#1047</a>)</li>
<li><code>SimpleGUI::TextBox()</code> の挙動を改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/997">#997</a>)</li>
</ul>
<h4 id="仕様変更_1">仕様変更<a class="headerlink" href="#仕様変更_1" title="Permanent link">&para;</a></h4>
<ul>
<li><code>Circle::drawPie()</code>, <code>Circle::drawArc()</code>, <code>Circle::drawSegmentFromAngles()</code> で負の angle を指定した際にも、通常通り時計回りの三角形が描画されるようにしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1042">#1042</a>)</li>
</ul>
<h4 id="パフォーマンス向上_1">パフォーマンス向上<a class="headerlink" href="#パフォーマンス向上_1" title="Permanent link">&para;</a></h4>
<ul>
<li><code>Circle</code>, <code>Rect</code>, <code>RectF</code>, <code>RoundrRect</code> の <code>.drawShadow()</code> の CPU コストを 20～50 % 削減しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1037">#1037</a>)</li>
</ul>
<h4 id="不具合バグ修正_1">不具合・バグ修正<a class="headerlink" href="#不具合バグ修正_1" title="Permanent link">&para;</a></h4>
<ul>
<li>Windows 版でプログラムの終了時に mutex のエラーでクラッシュすることがあったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1033">#1033</a>)</li>
<li><code>DrawableText::getXAdvances()</code> の結果に改行文字の分が含まれていなかったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1038">#1038</a>)</li>
<li><code>RoundRect::drawShadow()</code> で <code>spread</code> を指定すると描画の r がずれていた不具合を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1040">#1040</a>)</li>
<li><code>Font::renderPolygon()</code> で輪郭と穴が逆転することがあったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1019">#1019</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1027">#1027</a>)</li>
<li><code>Font</code> 描画時にタブ空白の間隔が乱れることがあったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1002">#1002</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1026">#1026</a>)</li>
<li><code>Circle::pieAsPolygon()</code> と <code>Circle::arcAsPolygon()</code> が反時計回り頂点の <code>Polygon</code> を生成していたバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1041">#1041</a>)</li>
<li>一部のコンパイラでのビルドの問題を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/1021">#1021</a>)</li>
<li><code>SimpleGUI::TextBoxAt()</code> での Home, End キーの動作を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/999">#999</a>)</li>
<li>ドキュメントや引数の誤字を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1016">#1016</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/1017">#1017</a>)</li>
</ul>
<h4 id="コントリビューション_1">コントリビューション<a class="headerlink" href="#コントリビューション_1" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://github.com/Raclamusi">Raclamusi</a>: <strong><code>Font::renderPolygon()</code> のバグを修正</strong>, <strong><code>Font</code> のタブ空白描画のバグを修正</strong></li>
<li><a href="https://github.com/yksake">yksake</a>: <code>SimpleGUI::TextBoxAt()</code> の挙動改善</li>
<li><a href="https://github.com/polyester-CTRL">polyester-CTRL</a>: 一部のコンパイラでのビルドの問題の修正</li>
<li><a href="https://github.com/voidproc">voidproc</a>: ドキュメントや引数の誤字修正</li>
</ul>
</details>
<details class="summary">
<summary>v0.6.10 | 2023-05-17</summary>
<h4 id="重要">重要<a class="headerlink" href="#重要" title="Permanent link">&para;</a></h4>
<ul>
<li>Visual Studio 2022 17.6 でのビルドの問題を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1011">#1011</a>)<ul>
<li>v0.6.9 以前のプロジェクトでは、<a href="https://github.com/Siv3D/OpenSiv3D/issues/1011" target="_blank">プロジェクトのプロパティから「ISO C++23 標準ライブラリモジュールのビルド」を無効にする</a>ことで解決します。</li>
</ul>
</li>
</ul>
<h4 id="新機能_2">新機能<a class="headerlink" href="#新機能_2" title="Permanent link">&para;</a></h4>
<ul>
<li><code>JSON</code> において Binary Values に対応しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1010">#1010</a>)</li>
</ul>
<h4 id="パフォーマンス向上_2">パフォーマンス向上<a class="headerlink" href="#パフォーマンス向上_2" title="Permanent link">&para;</a></h4>
<ul>
<li><code>Optional::Optional(Optional&lt;U&gt;&amp;&amp;)</code> の実装を改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1008">#1008</a>)</li>
</ul>
<h4 id="不具合バグ修正_2">不具合・バグ修正<a class="headerlink" href="#不具合バグ修正_2" title="Permanent link">&para;</a></h4>
<ul>
<li><code>ParseOr&lt;double&gt;()</code> と <code>ParseOpt&lt;double&gt;()</code> が <code>float</code> 精度で行われていたバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1009">#1009</a>)</li>
<li>バイナリフォーマット (BSON/CBOR/MessagePack) から作成した JSON の要素を一部適切に読み込めなかったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/1010">#1010</a>)</li>
</ul>
</details>
<details class="summary">
<summary>v0.6.9 | 2023-04-16</summary>
<h4 id="新機能_3">新機能<a class="headerlink" href="#新機能_3" title="Permanent link">&para;</a></h4>
<ul>
<li>表を描画する <code>SimpleTable</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/988">#988</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/991">#991</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/992">#992</a>)<ul>
<li><a href="https://zenn.dev/link/comments/6a2a05060c1dda">サンプル</a></li>
</ul>
</li>
<li>複数行のテキストボックス <code>SimpleGUI::TextArea()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/789">#789</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/994">#994</a>, <a href="https://github.com/Siv3D/OpenSiv3D/issues/996">#996</a>)<ul>
<li><a href="https://zenn.dev/link/comments/98f2844dae5705">サンプル</a></li>
</ul>
</li>
</ul>
<h4 id="仕様変更_2">仕様変更<a class="headerlink" href="#仕様変更_2" title="Permanent link">&para;</a></h4>
<ul>
<li><code>Timer::isRunnning()</code> は 0 に達したときに <code>false</code> を返すよう仕様変更しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/987">#987</a>)</li>
<li><code>Grid::resize(w, 0)</code> および <code>Grid::resize(0, h)</code> は <code>w</code> と <code>h</code> を保存するようにしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/989">#989</a>)</li>
</ul>
<h4 id="パフォーマンス向上_3">パフォーマンス向上<a class="headerlink" href="#パフォーマンス向上_3" title="Permanent link">&para;</a></h4>
<ul>
<li><code>Array::fetch()</code> 等の実装を改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/990">#990</a>)</li>
</ul>
<h4 id="不具合バグ修正_3">不具合・バグ修正<a class="headerlink" href="#不具合バグ修正_3" title="Permanent link">&para;</a></h4>
<ul>
<li><code>Array::fetch()</code> 等の未定義動作を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/990">#990</a>)</li>
<li><code>Grid::assign()</code> のバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/995">#995</a>)</li>
</ul>
<h4 id="コントリビューション_2">コントリビューション<a class="headerlink" href="#コントリビューション_2" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://github.com/tomolatoon">tomolatoon</a>: <code>Array::fetch()</code> 等の修正・改善</li>
<li><a href="https://github.com/m4saka">m4saka</a>: SimpleTable の typo 修正</li>
</ul>
</details>
<details class="summary">
<summary>v0.6.8 | 2023-04-01</summary>
<h4 id="新機能_4">新機能<a class="headerlink" href="#新機能_4" title="Permanent link">&para;</a></h4>
<ul>
<li>指定したファイルをデフォルトのアプリケーションで開く <code>System::LaunchFile(fileName)</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/888">#888</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/981">#981</a>)<ul>
<li><a href="https://zenn.dev/link/comments/8c7c4076bfbb6d">サンプル</a></li>
</ul>
</li>
<li>指定したファイルをテキストエディタで開く <code>System::LaunchFileWithTextEditor(fileName)</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/888">#888</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/981">#981</a>)<ul>
<li><a href="https://zenn.dev/link/comments/4b67ba5b069306">サンプル</a></li>
</ul>
</li>
<li>同梱カラー絵文字を Unicode 14.0 から Unicode 15.0 に更新しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/980">#980</a>)<ul>
<li><a href="https://zenn.dev/link/comments/7e722e60bed8dc">サンプル</a></li>
</ul>
</li>
<li>同梱 Material Design Icons を v6.5.95 から v7.2.96 に更新しました（700 種類のアイコンが追加） (<a href="https://github.com/Siv3D/OpenSiv3D/issues/980">#980</a>)<ul>
<li><a href="https://zenn.dev/link/comments/adaafc47825fb1">サンプル</a></li>
</ul>
</li>
<li>OpenAI の Embeddings API を扱う機能を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/982">#982</a>)<ul>
<li><a href="https://zenn.dev/link/comments/6a8483ccd76a7f">サンプル</a></li>
</ul>
</li>
<li>ユーザのコンピュータ名や名前、言語を取得する関数を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/678">#678</a>, <a href="https://github.com/Siv3D/OpenSiv3D/issues/968">#968</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/974">#974</a>)<ul>
<li><a href="https://zenn.dev/link/comments/381ae3d6c2b201">サンプル</a></li>
</ul>
</li>
<li>ドライブの情報を取得する関数を追加しました（Windows 版）(<a href="https://github.com/Siv3D/OpenSiv3D/issues/709">#709</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/978">#978</a>)<ul>
<li><a href="https://zenn.dev/link/comments/8d3df3d50eb1fa">サンプル</a></li>
</ul>
</li>
<li>インターネットに接続されているかを返す <code>Network::IsConnected()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/975">#975</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/976">#976</a>)</li>
</ul>
<h4 id="ユーザビリティ向上_1">ユーザビリティ向上<a class="headerlink" href="#ユーザビリティ向上_1" title="Permanent link">&para;</a></h4>
<ul>
<li><code>SimpleGUI::ListBox()</code> の項目を上下キーで選択できるようになりました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/984">#984</a>)</li>
</ul>
<h4 id="不具合バグ修正_4">不具合・バグ修正<a class="headerlink" href="#不具合バグ修正_4" title="Permanent link">&para;</a></h4>
<ul>
<li>フォールバックに設定した絵文字が特定条件下で正しく表示されなかったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/971">#971</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/973">#973</a>)</li>
<li><code>SimpleGUI::ListBox()</code> の項目数が多いときに、スクロールバーのつまみが細くなる / 消失していたバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/985">#985</a>)</li>
</ul>
<h4 id="コントリビューション_3">コントリビューション<a class="headerlink" href="#コントリビューション_3" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://github.com/Raclamusi">Raclamusi</a>: <strong>絵文字フォントのフォールバックのバグを修正</strong></li>
</ul>
</details>
<details class="summary">
<summary>v0.6.7 | 2023-03-18</summary>
<h4 id="新機能_5">新機能<a class="headerlink" href="#新機能_5" title="Permanent link">&para;</a></h4>
<ul>
<li>OpenAI API (Chat, Image) を扱う機能を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/957">#957</a>)<ul>
<li><a href="https://zenn.dev/link/comments/39ca09ff7febbf">サンプル</a></li>
</ul>
</li>
<li>OSC 通信を扱う機能を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/515">#515</a>, <a href="https://github.com/Siv3D/OpenSiv3D/issues/919">#919</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/922">#922</a>)<ul>
<li><a href="https://zenn.dev/link/comments/37cb05690d7a9c">サンプル</a></li>
</ul>
</li>
<li>円を割線で切り取った形を描く関数 <code>Circle::drawSegment()</code>, <code>Circle::drawSegmentFromAngles()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/956">#956</a>)<ul>
<li><a href="https://zenn.dev/link/comments/3deaea6384f9e9">サンプル</a></li>
</ul>
</li>
<li>長方形を斜め方向のグラデーションで描く関数を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/955">#955</a>)<ul>
<li><a href="https://zenn.dev/link/comments/b184c90a6682d5">サンプル</a></li>
</ul>
</li>
<li>SimpleMenuBar が項目のチェックに対応しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/948">#948</a>)<ul>
<li><a href="https://zenn.dev/link/comments/a1638e9fd4ca82">サンプル</a></li>
</ul>
</li>
<li>JSON のバリデーションを行うクラス <code>JSONValidator</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/931">#931</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/959">#959</a>)<ul>
<li><a href="https://zenn.dev/link/comments/9a60ef0856e4fa">サンプル</a></li>
</ul>
</li>
<li>コマンドライン引数を直接取得する関数 <code>System::GetArgc()</code>, <code>System::GetArgv()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/964">#964</a>)<ul>
<li><a href="https://zenn.dev/link/comments/9c62e50a751464">サンプル</a></li>
</ul>
</li>
<li>アドオンの実行優先度を <code>update()</code> と <code>draw()</code> を個別に指定できるようにしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/949">#949</a>)<ul>
<li><a href="https://zenn.dev/link/comments/d5204d4530f196">サンプル</a></li>
</ul>
</li>
<li>SimpleHTTP の非同期リクエストに関する関数を拡充しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/911">#911</a>, <a href="https://github.com/Siv3D/OpenSiv3D/issues/962">#962</a>)</li>
<li>角度を <code>[0, TwoPi)</code> または <code>[-Pi, Pi)</code> の範囲に正規化する <code>Math::NormalizeAngle()</code> 関数を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/927">#927</a>)</li>
<li>時間に対して、デューティー比を指定した矩形波を返す <code>Periodic::Pulse0_1()</code> / <code>Periodic::Pulse1_1()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/966">#966</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/967">#967</a>)</li>
<li><code>Input</code> をシリアライズする <code>Input::Serialize()</code>, <code>Input::Deserialize()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/920">#920</a>)</li>
<li><code>IAddon</code> に <code>postPresent()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/942">#942</a>)</li>
<li><code>TextEditState</code> がシリアライズに対応しました（文字列のみ保存） (<a href="https://github.com/Siv3D/OpenSiv3D/issues/930">#930</a>)</li>
<li>Base64 のデコードに妥当性チェックを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/845">#845</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/961">#961</a>)</li>
<li><code>Math::Damp()</code>, <code>Math::SmoothDamp()</code> が <code>ColorF</code> 型に対応しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/947">#947</a>)</li>
<li>C++23 との一貫性のため、<code>StringView</code>, <code>String</code>, <code>Array</code> に、<code>.includes()</code>, <code>.includes_if()</code> と同機能の <code>.contains()</code>, <code>.contains_if()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/944">#944</a>)</li>
<li><code>JSON</code> の機能を強化しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/925">#925</a>, <a href="https://github.com/Siv3D/OpenSiv3D/issues/931">#931</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/959">#959</a>)</li>
</ul>
<h4 id="ユーザビリティ向上_2">ユーザビリティ向上<a class="headerlink" href="#ユーザビリティ向上_2" title="Permanent link">&para;</a></h4>
<ul>
<li>アセットの毎フレーム作成・破棄の問題をメッセージボックスで通知するようにしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/926">#926</a>)</li>
</ul>
<h4 id="仕様変更_3">仕様変更<a class="headerlink" href="#仕様変更_3" title="Permanent link">&para;</a></h4>
<ul>
<li>デフォルトのサンプルプログラム Hello, Siv3D をリニューアルしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/940">#940</a>)</li>
<li>Photon アドオンを最新の Photon SDK に対応させました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/954">#954</a>)</li>
</ul>
<h4 id="パフォーマンス向上_4">パフォーマンス向上<a class="headerlink" href="#パフォーマンス向上_4" title="Permanent link">&para;</a></h4>
<ul>
<li>Base64 のデコードを高速化しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/845">#845</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/961">#961</a>)</li>
<li><code>Array</code> や <code>MultiPolygon</code> などの一部のメンバ関数のパフォーマンスを改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/948">#948</a>)</li>
<li><code>Array::includes()</code>, <code>Array::contains()</code> をパフォーマンスを改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/945">#945</a>)</li>
</ul>
<h4 id="不具合バグ修正_5">不具合・バグ修正<a class="headerlink" href="#不具合バグ修正_5" title="Permanent link">&para;</a></h4>
<ul>
<li>macOS でカレントディレクトリにファイルを作成できないことがあった不具合を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/963">#963</a>)</li>
<li><code>Optional</code> の挙動が <code>std::optional</code> と異なっていたバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/938">#938</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/939">#939</a>)</li>
<li><code>HTTPResponse</code> の内容がリダイレクト前のデータになっていたバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/958">#958</a>)</li>
<li><code>IReader</code> を引数に取る <code>JSON::Load()</code> がコンパイルエラーになるバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/937">#937</a>)</li>
<li><code>Polygon::calculateBuffer()</code>, <code>Polygon::calculateRoundBuffer()</code> が失敗することがあったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/965">#965</a>)</li>
<li><code>SimpleMenuBar</code> 上でのマスカーソルの挙動を改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/950">#950</a>)</li>
<li><code>App/example/script/piano.as</code> スクリプトで音が鳴らなかったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/935">#935</a>)</li>
<li><code>PlayingCard::Pack</code> をデフォルト構築してジョーカーのカードを描画するとクラッシュしたバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/921">#921</a>)</li>
<li><code>GeoJSONGeometry::get()</code> が使えなかったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/933">#933</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/934">#934</a>)</li>
<li>シリアライズの一部マクロのバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/923">#923</a>)</li>
<li>Arch Linux でのビルドの問題を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/917">#917</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/918">#918</a>)</li>
</ul>
<h4 id="コントリビューション_4">コントリビューション<a class="headerlink" href="#コントリビューション_4" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://github.com/nokotan">nokotan</a>: <strong>Web 版を更新</strong></li>
<li><a href="https://github.com/tomolatoon">tomolatoon</a>: <strong><code>JSONValidator</code> を追加</strong>, <strong><code>JSON</code> の機能強化</strong></li>
<li><a href="https://github.com/m4saka">m4saka</a>: <strong><code>Optional</code> のバグを修正</strong></li>
<li><a href="https://github.com/Raclamusi">Raclamusi</a>: <strong>Base64 のデコードの改善</strong>, <code>Array</code> 等の性能改善</li>
<li><a href="https://github.com/voidproc">voidproc</a>: <strong>Periodic 関数の追加</strong></li>
<li><a href="https://github.com/yksake">yksake</a>: SimpleMenuBar の挙動改善、ドキュメントの改善</li>
<li><a href="https://github.com/sthairno">sthairno</a>: <code>GeoJSONGeometry</code> のバグを修正</li>
<li><a href="https://github.com/Aikawa3311">Aikawa3311</a>: スクリプトを修正</li>
<li><a href="https://github.com/sfpgmr">sfpgmr</a>: シリアライズ API のバグを修正</li>
<li><a href="https://github.com/hashitaku">hashitaku</a> Arch Linux でのビルドを修正</li>
</ul>
</details>
<details class="summary">
<summary>v0.6.6 | 2022-11-22</summary>
<h4 id="新機能_6">新機能<a class="headerlink" href="#新機能_6" title="Permanent link">&para;</a></h4>
<ul>
<li>シンプルなメニューバーを扱う機能を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/898">#898</a>)<ul>
<li><a href="https://zenn.dev/link/comments/2deb08c8839b7c">サンプル</a></li>
</ul>
</li>
<li>入力処理を打ち切る機能を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/897">#897</a>)<ul>
<li><a href="https://zenn.dev/link/comments/0199a3d4069432">サンプル</a></li>
</ul>
</li>
<li><code>std::map</code> の置き換えとなる <code>OrderedTable</code> 型を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/909">#909</a>)<ul>
<li><a href="https://zenn.dev/link/comments/310475d5bb43b5">サンプル</a></li>
</ul>
</li>
<li><code>RoundRect::draw()</code> において、上下の色グラデーションを指定できるようになりました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/906">#906</a>)<ul>
<li><a href="https://zenn.dev/link/comments/b075516ffa7b4e">サンプル</a></li>
</ul>
</li>
<li><code>Rect::drawFrame()</code>, <code>RectF::drawFrame()</code>, <code>RoundRect::draw()</code>, <code>RoundRect::drawFrame()</code> において、上下の色グラデーションを指定できるようになりました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/906">#906</a>)<ul>
<li><a href="https://zenn.dev/link/comments/ea380caf8b5979">サンプル</a></li>
</ul>
</li>
<li>（Windows 版）タスクバーにタスクの進捗状況を表示する機能を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/904">#904</a>)<ul>
<li><a href="https://zenn.dev/link/comments/bb445a346947d3">サンプル</a></li>
</ul>
</li>
<li>2 つの長方形の重なる領域を長方形で返す関数を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/872">#872</a>)<ul>
<li><a href="https://zenn.dev/link/comments/5fd7bc5a3814a8">サンプル</a></li>
</ul>
</li>
<li><code>P2Body</code> に弾丸モードを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/901">#901</a>)</li>
<li>時間型が <code>_fmt()</code> に対応しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/894">#894</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/895">#895</a>)</li>
<li>空の長方形を作成する <code>Rect::Empty()</code>, <code>RectF::Empty()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/881">#881</a>)</li>
<li>長方形が空であるかを返す <code>Rect::isEmpty()</code>, <code>Rect::operator bool()</code>, <code>RectF::isEmpty()</code>, <code>RectF::operator bool()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/879">#879</a>, <a href="https://github.com/Siv3D/OpenSiv3D/issues/880">#880</a>)</li>
<li><code>Array::partition()</code>, <code>Array::stable_partition()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/869">#869</a>)</li>
<li><code>Camera2DParameters</code>, <code>LicenseManager</code>, <code>LicenseInfo</code>, <code>XInput</code> がスクリプト内で使えるようになりました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/868">#868</a>)</li>
</ul>
<h4 id="ユーザビリティ向上_3">ユーザビリティ向上<a class="headerlink" href="#ユーザビリティ向上_3" title="Permanent link">&para;</a></h4>
<ul>
<li>ヘッダの軽量化のためのリファクタリングを行いました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/883">#883</a>, <a href="https://github.com/Siv3D/OpenSiv3D/issues/886">#886</a>)</li>
<li>Windows 版における、フルスクリーン時にメッセージボックスを表示すると操作不能になる問題を解決しました。シーン内にフォールバックのメッセージボックスが表示されます (<a href="https://github.com/Siv3D/OpenSiv3D/issues/915">#915</a>)</li>
<li><code>Array</code> のテンプレート引数推論を改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/887">#887</a>)</li>
<li><code>CITATION.cff</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/882">#882</a>)</li>
<li><code>Grid::resize()</code> のオーバーロードを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/876">#876</a>)</li>
</ul>
<h4 id="仕様変更_4">仕様変更<a class="headerlink" href="#仕様変更_4" title="Permanent link">&para;</a></h4>
<ul>
<li>各種サードパーティライブラリを更新しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/914">#914</a>) </li>
<li><code>PlayingCard</code> のデザインを微修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/905">#905</a>)</li>
<li><code>PlayingCard.hpp</code> は experimental から正式な機能になりました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/885">#885</a>)</li>
</ul>
<h4 id="パフォーマンス向上_5">パフォーマンス向上<a class="headerlink" href="#パフォーマンス向上_5" title="Permanent link">&para;</a></h4>
<ul>
<li><code>DisjointSet</code> のメモリ消費を削減しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/878">#878</a>)</li>
</ul>
<h4 id="不具合バグ修正_6">不具合・バグ修正<a class="headerlink" href="#不具合バグ修正_6" title="Permanent link">&para;</a></h4>
<ul>
<li>Web 版の不具合修正、互換性向上を行いました</li>
<li><code>XMLReader</code> の一部のコンストラクタが使えなかった不具合を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/896">#896</a>) </li>
<li>ドキュメントを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/871">#871</a>, <a href="https://github.com/Siv3D/OpenSiv3D/issues/903">#903</a>)</li>
<li>正規表現におけるキャプチャの仕様の不具合を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/893">#893</a>)</li>
<li><code>String::removed(StringView)</code> に空の文字列を渡すと無限ループになるバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/892">#892</a>)</li>
<li><code>Allocator</code> の不具合を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/889">#889</a>, <a href="https://github.com/Siv3D/OpenSiv3D/pull/891">#891</a>)</li>
<li><code>DisjointSet::operator bool()</code> の戻り値の <code>true</code>, <code>false</code> が逆だったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/877">#877</a>)</li>
<li>各種クラスの <code>_fmt()</code> 対応の不具合を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/873">#873</a>)</li>
<li><code>LineString::calculateBufferClosed()</code>, <code>LineString::calculateRoundBufferClosed()</code> が閉じないことがあった不具合を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/870">#870</a>)</li>
</ul>
<h4 id="コントリビューション_5">コントリビューション<a class="headerlink" href="#コントリビューション_5" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://github.com/nokotan">nokotan</a>: <strong>Web 版を更新</strong></li>
<li><a href="https://github.com/MayFlyOvO">MayFlyOvO</a>: <strong><code>OrderedTable</code> の追加</strong></li>
<li><a href="https://github.com/Raclamusi">Raclamusi</a>: <code>Array</code>, <code>Allocator</code>, "fmt" の改善・バグ修正</li>
<li><a href="https://github.com/AngelCase">AngelCase</a>: <code>String::removed()</code> のバグ修正</li>
<li><a href="https://github.com/yunba28">yunba28</a>: ドキュメントの改善</li>
<li><a href="https://github.com/sknjpn">sknjpn</a>: ドキュメントの改善</li>
</ul>
</details>
<details class="summary">
<summary>v0.6.5 | 2022-08-10</summary>
<h4 id="新機能_7">新機能<a class="headerlink" href="#新機能_7" title="Permanent link">&para;</a></h4>
<ul>
<li>Visual Studio 2022 17.3 に対応しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/859">#859</a>)</li>
<li><code>LineString::extractLineString(double, CloseRing)</code> オーバーロードを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/866">#866</a>)<ul>
<li><a href="https://zenn.dev/link/comments/883084a7d6a77d">サンプル</a></li>
</ul>
</li>
<li><code>JSON</code> がバイナリフォーマット (BSON/CBOR/MessagePack) との相互変換に対応しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/842">#842</a>)<ul>
<li><a href="https://zenn.dev/link/comments/baec402709773f">サンプル</a></li>
</ul>
</li>
<li>ファイルパスを結合する <code>FileSystem::PathAppend()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/825">#825</a>)<ul>
<li><a href="https://zenn.dev/link/comments/d45decf3cb32f2">サンプル</a></li>
</ul>
</li>
<li><code>TextEditState</code> に、Tab キーや Enter キーによる入力完了を取得できるメンバ変数を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/808">#808</a>)<ul>
<li><a href="https://zenn.dev/link/comments/11eff1e53bffcb">サンプル</a></li>
</ul>
</li>
<li>底辺の中心、頂点、底辺の長さから二等辺三角形を作成する <code>Triangle::FromPoints()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/865">#865</a>)</li>
<li>文字列をパーセントエンコードする <code>PercentEncode()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/864">#864</a>)</li>
<li><code>NavMesh::query()</code> に、結果の格納先を参照で渡すオーバーロードを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/861">#861</a>)</li>
<li><code>Math::</code> に <code>Dot()</code> と <code>Cross()</code> を追加しました。これまでは <code>Vec2, Vec3</code> などのメンバ関数を使う必要がありました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/848">#848</a>)</li>
<li>長方形の各辺・中心の X 座標、Y 座標だけを返す関数を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/853">#853</a>)</li>
<li>長方形の左上を (0 ,0), 右下を (1, 1) としたときの (relativeX, relativeY) の座標を返すメンバ関数を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/850">#850</a>)</li>
<li>同梱する Font Awesome を 5.15.2 → 6.1.1 に更新しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/846">#846</a>)</li>
<li><code>Blob</code> にメンバ関数を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/843">#843</a>)</li>
<li><code>Font::height(double size)</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/830">#830</a>)</li>
<li>同梱するモノクロ Noto Emoji を更新しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/816">#816</a>)</li>
<li>水平方向のアスペクト比を返す <code>.horizontalAspectRatio()</code> 関数を <code>Point</code>, <code>Float2</code>, <code>Vec2</code>, <code>Rect</code>, <code>RectF</code>, <code>Image</code>, <code>Texture</code>, <code>Emoji</code>, <code>Scene::</code>, <code>RoundRect</code> に追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/810">#810</a>), (<a href="https://github.com/Siv3D/OpenSiv3D/issues/812">#812</a>)</li>
<li><code>Multiplayer_Photon</code> に、タイムスタンプ関連の関数を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/807">#807</a>)</li>
<li><code>Multiplayer_Photon</code> に <code>.joinRandomRoomOrCreate()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/806">#806</a>)</li>
<li><code>NotImplementedError</code> 例外クラスを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/787">#787</a>)</li>
</ul>
<h4 id="ユーザビリティ向上_4">ユーザビリティ向上<a class="headerlink" href="#ユーザビリティ向上_4" title="Permanent link">&para;</a></h4>
<ul>
<li>Linux 版の CMake を改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/829">#829</a>)</li>
<li>Linux 版の CMakeLists.txt において、boost のバージョンを範囲指定するようにしました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/847">#847</a>)</li>
<li><code>SimpleGUI::TextBox()</code> の挙動を改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/832">#832</a>), (<a href="https://github.com/Siv3D/OpenSiv3D/issues/804">#804</a>)</li>
<li>誤用防止のため <code>BigInt operator ""_big(long double x)</code> を <code>= delete</code> 指定しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/826">#826</a>)</li>
<li>いくつかのヘッダファイルでドキュメントを追加しました</li>
</ul>
<h4 id="仕様変更_5">仕様変更<a class="headerlink" href="#仕様変更_5" title="Permanent link">&para;</a></h4>
<ul>
<li><code>BigFloat</code> の文字列変換を改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/839">#839</a>)</li>
<li><code>Multiplayer_Photon::getLocalPlayerID()</code> の戻り値を <code>LocalPlayerID</code> に変更しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/809">#809</a>)</li>
<li><code>AsyncHTTPTask::isReady</code> を const メンバ関数に変更しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/805">#805</a>)</li>
<li>各種サードパーティライブラリを更新しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/801">#801</a>)</li>
<li>engine ファイルを更新しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/817">#817</a>)</li>
</ul>
<h4 id="パフォーマンス向上_6">パフォーマンス向上<a class="headerlink" href="#パフォーマンス向上_6" title="Permanent link">&para;</a></h4>
<ul>
<li><code>NavMesh::query()</code> の実行性能を改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/861">#861</a>)</li>
<li><code>HLSL</code> や <code>GLSL</code> クラスのコンストラクタを改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/835">#835</a>)</li>
<li><code>SimpleGUI</code> の文字列引数を <code>const String&amp;</code> → <code>StringView</code> に変更しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/827">#827</a>)</li>
<li>算術型から <code>BigInt</code>, <code>BigFloat</code> を引くときの実行性能を改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/822">#822</a>)</li>
<li><code>Rect</code>, <code>RectF</code> の <code>constexpr</code> 対応を改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/813">#813</a>)</li>
</ul>
<h4 id="不具合バグ修正_7">不具合・バグ修正<a class="headerlink" href="#不具合バグ修正_7" title="Permanent link">&para;</a></h4>
<ul>
<li><code>LineString::extractLineString()</code> が正しくない結果を返すことがあったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/862">#862</a>)</li>
<li>始点と終点が一致する <code>LineString</code> の <code>.calculateRoundBuffer()</code> に失敗することがあることがあったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/860">#860</a>)</li>
<li>macOS, Linux 版で NULL がマクロで空文字列に置換される不具合を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/858">#858</a>)</li>
<li><code>RoundRect::drawFrmae()</code> で不正な値を渡したときに、描画が乱れることがあった不具合を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/856">#856</a>)</li>
<li><code>BasicCamera3D</code> のメンバ関数名を <code>.getVerticlaFOV()</code> → <code>.getVerticalFOV()</code> に修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/854">#854</a>)</li>
<li><code>Grid::choice()</code> がコンパイルに失敗するバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/840">#840</a>)</li>
<li><code>Base64::Decode()</code> で、特定条件においてバッファオーバーランが発生することがあったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/837">#837</a>)</li>
<li><code>Parse&lt;double&gt;</code> が <code>float</code> 型の精度で行われていたバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/831">#831</a>)</li>
<li>一部条件で Line 同士の Intersect, IntersectAt の判定が誤っていたバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/823">#823</a>)</li>
<li><code>BigInt</code>, <code>BigFloat</code> の比較演算子のバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/821">#821</a>)</li>
<li>macOS 版、Linux 版の <code>FileSystem::SelectFolder()</code> が結果の末尾に <code>/</code> を付けなかったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/824">#824</a>)</li>
<li>macOS 版の <code>FileSystem::FullPath()</code> の結果が不正になることがあったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/824">#824</a>)</li>
<li><code>SFMT</code> のヘッダ・フォルダ名の typo を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/818">#818</a>)</li>
<li>macOS 版で <code>TCPClient</code> の切断が <code>TCPServer</code> に伝わらなかった不具合を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/799">#799</a>)</li>
</ul>
<h4 id="コントリビューション_6">コントリビューション<a class="headerlink" href="#コントリビューション_6" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://github.com/nokotan">nokotan</a>: <strong>Web 版を更新</strong></li>
<li><a href="https://github.com/MurakamiShun">MurakamiShun</a>: <strong>Linux 版の CMake を改善</strong></li>
<li><a href="https://github.com/m4saka">m4saka</a>: <strong>Line 同士の Intersect, IntersectAt のバグを修正</strong></li>
<li><a href="https://github.com/Raclamusi">Raclamusi</a>: <code>BigInt</code>, <code>BigFloat</code> の改善・バグ修正、ドキュメントの改善</li>
<li><a href="https://github.com/kestrel-90r">kestrel-90r</a>: ソースファイル名の typo の修正</li>
<li><a href="https://github.com/ShivAlley">ShivAlley</a>: <code>Math::</code> の数学関数を追加</li>
<li><a href="https://github.com/tas9n">tas9n</a>: <code>AsyncHTTPTask</code> の改善</li>
<li><a href="https://github.com/ROCKTAKEY">ROCKTAKEY</a>: CMakeLists.txt の改善</li>
<li><a href="https://github.com/yknishidate">yknishidate</a>: コードの改善</li>
<li><a href="https://github.com/agehama">agehama</a>: ドキュメントの改善</li>
<li><a href="https://github.com/curay168">curay168</a>: ドキュメントの改善</li>
</ul>
</details>
<details class="summary">
<summary>v0.6.4 | 2022-05-21</summary>
<h4 id="新機能_8">新機能<a class="headerlink" href="#新機能_8" title="Permanent link">&para;</a></h4>
<ul>
<li>Visual Studio 2022 17.2 以降に対応しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/790">#790</a>)</li>
<li>Xcode 13.3 以降に対応しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/753">#753</a>)</li>
<li>Photon SDK と連係する <code>Multiplayer_Photon</code>（マルチプレイヤー機能）アドオンを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/734">#734</a>)<ul>
<li><a href="https://zenn.dev/reputeless/scraps/03d951dddb53ab">チュートリアル</a></li>
<li><a href="https://zenn.dev/link/comments/10e5a407500f04">サンプル</a></li>
</ul>
</li>
<li>3D 標準頂点シェーダの定数バッファに UV transform を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/764">#764</a>)<ul>
<li><a href="https://zenn.dev/link/comments/8247739e3be0fb">サンプル</a></li>
</ul>
</li>
<li><code>MeshData::RoundedBox()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/769">#769</a>)<ul>
<li><a href="https://zenn.dev/link/comments/654aede40de72c">サンプル</a></li>
</ul>
</li>
<li>再生中のオーディオに動的に波形を書き込む機能を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/736">#736</a>)<ul>
<li><a href="https://zenn.dev/link/comments/8af1a8f60deaa1">サンプル</a></li>
</ul>
</li>
<li>Windows 版のトースト通知における通知音の無効化オプションを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/748">#748</a>)<ul>
<li><a href="https://zenn.dev/link/comments/c076465eed0f45">サンプル</a></li>
</ul>
</li>
<li><code>DisjointSet</code> (Union Find) を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/742">#742</a>)<ul>
<li><a href="https://zenn.dev/link/comments/5a327d5c40b86f">サンプル</a></li>
</ul>
</li>
<li><code>Shader::LinearToScreen()</code> においてテクスチャフィルタを変更可能にしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/762">#762</a>)<ul>
<li><a href="https://zenn.dev/link/comments/81ffc408b80ac8">サンプル</a></li>
</ul>
</li>
<li><code>Polygon::addHole()</code> オーバーロードを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/786">#786</a>)<ul>
<li><a href="https://zenn.dev/link/comments/3a5e307fa484c6">サンプル</a></li>
</ul>
</li>
<li><code>Font</code> に合字を回避するオプションを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/792">#792</a>)<ul>
<li><a href="https://zenn.dev/link/comments/b4e3e69c91b3a0">サンプル</a></li>
</ul>
</li>
<li>-1.0 ～ 1.0 の範囲を返す<code>Periodic::</code> 関数を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/761">#761</a>)<ul>
<li><a href="https://zenn.dev/link/comments/e321c3bf3fc6cc">サンプル</a></li>
</ul>
</li>
<li><code>ManagedScript</code> に、リロードを発生させるカスタムトリガーを設定する関数を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/768">#768</a>)<ul>
<li><a href="https://zenn.dev/link/comments/9726f79f84c446">サンプル</a></li>
</ul>
</li>
<li><code>Script</code> 内で include したファイルを取得する機能を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/767">#767</a>)<ul>
<li><a href="https://zenn.dev/link/comments/052f71ba876683">サンプル</a></li>
</ul>
</li>
<li><code>JSON::push_back()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/725">#725</a>)</li>
<li><code>String::replace()</code> のオーバーロードを増やしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/729">#729</a>)</li>
<li><code>ImageProcessing::GenerateMips()</code> で最大レベルを指定できるようにしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/763">#763</a>)</li>
<li>スクリプトで enum の値を表示可能にしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/774">#774</a>)</li>
<li>スクリプトに <code>OpenMode</code>, <code>TextEncoding</code>, <code>TextReader</code>, <code>TextWriter</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/775">#775</a>)</li>
<li>スクリプトに <code>Parse</code> 系の関数を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/782">#782</a>)</li>
<li>スクリプトに <code>INI</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/783">#783</a>)</li>
<li><code>Deserializer&lt;MemoryViewReader&gt;</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/777">#777</a>)</li>
<li><code>Serializer&lt;Writer&gt;::operator -&gt;() const</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/776">#776</a>)</li>
<li><code>Geometry2D::Or()</code> のオーバーロードを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/793">#793</a>)</li>
</ul>
<h4 id="ユーザビリティ向上_5">ユーザビリティ向上<a class="headerlink" href="#ユーザビリティ向上_5" title="Permanent link">&para;</a></h4>
<ul>
<li>(非公式) ARM 向けのビルドを改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/707">#707</a>)</li>
<li><code>SceneManager</code> のコードを改善しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/750">#750</a>)</li>
<li><code>NavMesh</code> コンストラクタでマップ構築を可能にしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/785">#785</a>)<ul>
<li><a href="https://zenn.dev/link/comments/af9b9deb7f205c">サンプル</a></li>
</ul>
</li>
</ul>
<h4 id="仕様変更_6">仕様変更<a class="headerlink" href="#仕様変更_6" title="Permanent link">&para;</a></h4>
<ul>
<li>各種サードパーティライブラリを更新しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/726">#726</a>), (<a href="https://github.com/Siv3D/OpenSiv3D/issues/728">#728</a>), (<a href="https://github.com/Siv3D/OpenSiv3D/issues/727">#727</a>), (<a href="https://github.com/Siv3D/OpenSiv3D/issues/731">#731</a>), (<a href="https://github.com/Siv3D/OpenSiv3D/issues/756">#756</a>), (<a href="https://github.com/Siv3D/OpenSiv3D/issues/757">#757</a>), (<a href="https://github.com/Siv3D/OpenSiv3D/issues/758">#758</a>), (<a href="https://github.com/Siv3D/OpenSiv3D/issues/759">#759</a>), (<a href="https://github.com/Siv3D/OpenSiv3D/issues/773">#773</a>), (<a href="https://github.com/Siv3D/OpenSiv3D/issues/760">#760</a>)</li>
<li><code>Polygon::addHole()</code> の仕様を変更しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/786">#786</a>)</li>
<li>engine / example ファイルを更新しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/740">#740</a>)</li>
</ul>
<h4 id="不具合バグ修正_8">不具合・バグ修正<a class="headerlink" href="#不具合バグ修正_8" title="Permanent link">&para;</a></h4>
<ul>
<li><code>Circle::boundingRect()</code> のバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/718">#718</a>)</li>
<li><code>SimpleAnimation::isDone()</code> の戻り値を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/710">#710</a>)</li>
<li><code>TextEditState::TextEditState(String&amp;&amp; defaultText)</code> の use after move バグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/703">#703</a>)</li>
<li><code>JSON</code> クラスで空の配列を作れなかったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/723">#723</a>)</li>
<li><code>operator&gt;&gt;(basic_istream&amp;, Color&amp;)</code> の警告を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/720">#720</a>)</li>
<li>リモートデスクトップ環境で <code>System::EnumActiveMonitors()</code> に失敗した不具合を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/719">#719</a>)</li>
<li><code>TOMLReader</code> で存在しないファイルをロードしても失敗判定にならなかったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/732">#732</a>)</li>
<li>Windows 版でメッセージボックスがウィンドウの背面に表示されることがあった不具合を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/706">#706</a>)</li>
<li>スクリプトのバインドのバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/741">#741</a>)</li>
<li><code>Shape2D::Stairs()</code> の第 5 引数が <code>false</code> だと三角形の向きが逆になっていたバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/708">#708</a>)</li>
<li>macOS 版で <code>RectanglePacking</code> が利用できなかったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/754">#754</a>)</li>
<li>ARM 向けビルドにおける <code>Image</code> と OpenCV の連携を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/778">#778</a>)</li>
<li><code>SimpleGUI::ListBox()</code> で範囲外アクセスが発生することがあったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/780">#780</a>)</li>
<li><code>WaveSample</code> の変換のバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/795">#795</a>)</li>
</ul>
<h4 id="コントリビューション_7">コントリビューション<a class="headerlink" href="#コントリビューション_7" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://github.com/nokotan">nokotan</a>: <strong>Web 版を更新</strong></li>
<li><a href="https://github.com/tana">tana</a>: <strong>ARM 向けビルドの改善</strong></li>
<li><a href="https://github.com/mak1a">mak1a</a>: <strong>Multiplayer_Photon の実装</strong>, <code>SimpleAnimation::isDone()</code> の修正</li>
<li><a href="https://github.com/Ryoga-exe">Ryoga-exe</a>: コードの改善</li>
<li><a href="https://github.com/k-sunako">k-sunako</a>: CMakeLists.txt の改善</li>
<li><a href="https://github.com/falrnd">falrnd</a>: <code>Circle::boundingRect()</code> の修正</li>
<li><a href="https://github.com/polyester-CTRL">polyester-CTRL</a>: OpenCV_Bridge の改善</li>
<li><a href="https://github.com/yaito3014">yaito3014</a>: コードの改善</li>
<li><a href="https://github.com/NachiaVivias">NachiaVivias</a>: <code>WaveSample</code> の改善</li>
</ul>
<h4 id="opensiv3d-チャレンジ">OpenSiv3D チャレンジ<a class="headerlink" href="#opensiv3d-チャレンジ" title="Permanent link">&para;</a></h4>
<ul>
<li>#12 Photon: mak1a, Luke, sthairno</li>
</ul>
</details>
<details class="summary">
<summary>v0.6.3 | 2021-11-14</summary>
<h4 id="新機能_9">新機能<a class="headerlink" href="#新機能_9" title="Permanent link">&para;</a></h4>
<ul>
<li>Visual Studio 2022 に対応しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/683">#683</a>)</li>
<li>SimpleGUI にリストボックスを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/659">#659</a>)
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="p">{</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">	</span><span class="n">Window</span><span class="o">::</span><span class="n">Resize</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">);</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">0.8</span><span class="p">,</span><span class="w"> </span><span class="mf">0.9</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="p">});</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">	</span><span class="n">ListBoxState</span><span class="w"> </span><span class="n">ls1</span><span class="p">{</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;北海道&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;青森県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;岩手県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;宮城県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;秋田県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;山形県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;福島県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;茨城県&quot;</span><span class="p">,</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;栃木県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;群馬県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;埼玉県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;千葉県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;東京都&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;神奈川県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;新潟県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;富山県&quot;</span><span class="p">,</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;石川県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;福井県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;山梨県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;長野県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;岐阜県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;静岡県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;愛知県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;三重県&quot;</span><span class="p">,</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;滋賀県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;京都府&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;大阪府&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;兵庫県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;奈良県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;和歌山県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;鳥取県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;島根県&quot;</span><span class="p">,</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;岡山県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;広島県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;山口県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;徳島県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;香川県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;愛媛県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;高知県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;福岡県&quot;</span><span class="p">,</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;佐賀県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;長崎県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;熊本県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;大分県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;宮崎県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;鹿児島県&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;沖縄県&quot;</span><span class="p">,</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="w">	</span><span class="p">};</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="w">	</span><span class="n">ListBoxState</span><span class="w"> </span><span class="n">ls2</span><span class="p">{</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;吾輩は猫である（1905年1月 - 1906年8月、『ホトトギス』/1905年10月 - 1907年5月、大倉書店・服部書店）&quot;</span><span class="p">,</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;坊っちゃん（1906年4月、『ホトトギス』/1907年、春陽堂刊『鶉籠』収録）&quot;</span><span class="p">,</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;草枕（1906年9月、『新小説』/『鶉籠』収録）&quot;</span><span class="p">,</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;二百十日（1906年10月、『中央公論』/『鶉籠』収録）&quot;</span><span class="p">,</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;野分（1907年1月、『ホトトギス』/1908年、春陽堂刊『草合』収録）&quot;</span><span class="p">,</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;虞美人草（1907年6月 - 10月、『朝日新聞』/1908年1月、春陽堂）&quot;</span><span class="p">,</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;坑夫（1908年1月 - 4月、『朝日新聞』/『草合』収録）&quot;</span><span class="p">,</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;三四郎（1908年9 - 12月、『朝日新聞』/1909年5月、春陽堂）&quot;</span><span class="p">,</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;それから（1909年6 - 10月、『朝日新聞』/1910年1月、春陽堂）&quot;</span><span class="p">,</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;門（1910年3月 - 6月、『朝日新聞』/1911年1月、春陽堂）&quot;</span><span class="p">,</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;彼岸過迄（1912年1月 - 4月、『朝日新聞』/1912年9月、春陽堂）&quot;</span><span class="p">,</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;行人（1912年12月 - 1913年11月、『朝日新聞』/1914年1月、大倉書店）&quot;</span><span class="p">,</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;こゝろ（1914年4月 - 8月、『朝日新聞』/1914年9月、岩波書店）&quot;</span><span class="p">,</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;道草（1915年6月 - 9月、『朝日新聞』/1915年10月、岩波書店）&quot;</span><span class="p">,</span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a><span class="w">			</span><span class="sa">U</span><span class="s">&quot;明暗（1916年5月 - 12月、『朝日新聞』/1917年1月、岩波書店）&quot;</span><span class="p">,</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a><span class="w">	</span><span class="p">};</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a><span class="w">	</span><span class="n">ls2</span><span class="p">.</span><span class="n">selectedItemIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a><span class="w">	</span><span class="n">ListBoxState</span><span class="w"> </span><span class="n">ls3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ls2</span><span class="p">;</span>
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">ListBox</span><span class="p">(</span><span class="n">ls1</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">{</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="mi">156</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ls1</span><span class="p">.</span><span class="n">selectedItemIndex</span><span class="p">)</span>
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a>
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#__codelineno-0-48"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#__codelineno-0-49"></a>
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#__codelineno-0-50"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">ListBox</span><span class="p">(</span><span class="n">ls2</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">{</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">240</span><span class="p">,</span><span class="w"> </span><span class="mi">156</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ls2</span><span class="p">.</span><span class="n">selectedItemIndex</span><span class="p">)</span>
<a id="__codelineno-0-51" name="__codelineno-0-51" href="#__codelineno-0-51"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-0-52" name="__codelineno-0-52" href="#__codelineno-0-52"></a>
<a id="__codelineno-0-53" name="__codelineno-0-53" href="#__codelineno-0-53"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-0-54" name="__codelineno-0-54" href="#__codelineno-0-54"></a>
<a id="__codelineno-0-55" name="__codelineno-0-55" href="#__codelineno-0-55"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">ListBox</span><span class="p">(</span><span class="n">ls3</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">{</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">1020</span><span class="p">,</span><span class="w"> </span><span class="mi">480</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ls3</span><span class="p">.</span><span class="n">selectedItemIndex</span><span class="p">)</span>
<a id="__codelineno-0-56" name="__codelineno-0-56" href="#__codelineno-0-56"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-0-57" name="__codelineno-0-57" href="#__codelineno-0-57"></a>
<a id="__codelineno-0-58" name="__codelineno-0-58" href="#__codelineno-0-58"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-0-59" name="__codelineno-0-59" href="#__codelineno-0-59"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-0-60" name="__codelineno-0-60" href="#__codelineno-0-60"></a><span class="p">}</span>
</code></pre></div></li>
<li>同梱する Color Emoji を更新し、Unicode 14.0 の絵文字を扱えるようにしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/694">#694</a>)
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="p">{</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="w"> </span><span class="p">});</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">e0</span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;🫠&quot;</span><span class="n">_emoji</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">e1</span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;🫣&quot;</span><span class="n">_emoji</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">e2</span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;🫡&quot;</span><span class="n">_emoji</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">e3</span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;🫥&quot;</span><span class="n">_emoji</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">e4</span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;🫵&quot;</span><span class="n">_emoji</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">e5</span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;🧌&quot;</span><span class="n">_emoji</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">e6</span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;🪸&quot;</span><span class="n">_emoji</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">e7</span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;🪺&quot;</span><span class="n">_emoji</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">e8</span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;🫘&quot;</span><span class="n">_emoji</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">e9</span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;🫙&quot;</span><span class="n">_emoji</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">e10</span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;🫧&quot;</span><span class="n">_emoji</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">e11</span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;🛞&quot;</span><span class="n">_emoji</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="w">		</span><span class="n">e0</span><span class="p">.</span><span class="n">drawAt</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a><span class="w">		</span><span class="n">e1</span><span class="p">.</span><span class="n">drawAt</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a><span class="w">		</span><span class="n">e2</span><span class="p">.</span><span class="n">drawAt</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a><span class="w">		</span><span class="n">e3</span><span class="p">.</span><span class="n">drawAt</span><span class="p">(</span><span class="mi">700</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a><span class="w">		</span><span class="n">e4</span><span class="p">.</span><span class="n">drawAt</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">);</span>
<a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a><span class="w">		</span><span class="n">e5</span><span class="p">.</span><span class="n">drawAt</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">);</span>
<a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a><span class="w">		</span><span class="n">e6</span><span class="p">.</span><span class="n">drawAt</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">);</span>
<a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a><span class="w">		</span><span class="n">e7</span><span class="p">.</span><span class="n">drawAt</span><span class="p">(</span><span class="mi">700</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">);</span>
<a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a><span class="w">		</span><span class="n">e8</span><span class="p">.</span><span class="n">drawAt</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">);</span>
<a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a><span class="w">		</span><span class="n">e9</span><span class="p">.</span><span class="n">drawAt</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">);</span>
<a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a><span class="w">		</span><span class="n">e10</span><span class="p">.</span><span class="n">drawAt</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">);</span>
<a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a><span class="w">		</span><span class="n">e11</span><span class="p">.</span><span class="n">drawAt</span><span class="p">(</span><span class="mi">700</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">);</span>
<a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a><span class="p">}</span>
</code></pre></div></li>
<li>GUI フォントに、デフォルトでアイコンフォントへのフォールバックを追加しました。SimpleGUI のテキストで <code>U"\U000F0493 Setting"</code> のようにアイコンコードを使ってアイコンを表示できます (<a href="https://github.com/Siv3D/OpenSiv3D/issues/698">#698</a>)
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="p">{</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">0.8</span><span class="p">,</span><span class="w"> </span><span class="mf">0.9</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="p">});</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">	</span><span class="kt">double</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="p">;</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;</span><span class="se">\U000F1677</span><span class="s"> ゆっくり&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">{</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">160</span><span class="p">);</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;</span><span class="se">\U000F0907</span><span class="s"> いそいで&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">{</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">160</span><span class="p">);</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;</span><span class="se">\U000F0493</span><span class="s"> 設定&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">{</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">160</span><span class="p">);</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Slider</span><span class="p">(</span><span class="mf">0.5</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;</span><span class="se">\U000F057E</span><span class="s">&quot;</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="w">			</span><span class="o">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;</span><span class="se">\U000F0580</span><span class="s">&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;</span><span class="se">\U000F0581</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">volume</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">{</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">140</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">130</span><span class="p">);</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="p">}</span>
</code></pre></div></li>
<li>Windows 版の <code>System::EnumerateMonitors()</code> において、より区別しやすいモニターの名前を取得するようにしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/695">#695</a>)</li>
<li>文字を 3D の Mesh で表現するための <code>MeshGlyph</code> クラスを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/680">#680</a>)
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="k">class</span><span class="w"> </span><span class="nc">Font3D</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="p">{</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">	</span><span class="n">Font3D</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">default</span><span class="p">;</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">	</span><span class="n">SIV3D_NODISCARD_CXX20</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">	</span><span class="k">explicit</span><span class="w"> </span><span class="n">Font3D</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Font</span><span class="o">&amp;</span><span class="w"> </span><span class="n">font</span><span class="p">)</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">		</span><span class="o">:</span><span class="w"> </span><span class="n">m_font</span><span class="p">{</span><span class="w"> </span><span class="n">font</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">	</span><span class="p">[[</span><span class="n">nodiscard</span><span class="p">]]</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">	</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">MeshGlyph</span><span class="o">&gt;</span><span class="w"> </span><span class="n">getGlyphs</span><span class="p">(</span><span class="n">StringView</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">const</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="w">		</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">MeshGlyph</span><span class="o">&gt;</span><span class="w"> </span><span class="n">results</span><span class="p">;</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">s</span><span class="p">)</span>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="w">			</span><span class="k">auto</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m_table</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">ch</span><span class="p">);</span>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">it</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">m_table</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="w">				</span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m_table</span><span class="p">.</span><span class="n">emplace</span><span class="p">(</span><span class="n">ch</span><span class="p">,</span><span class="w"> </span><span class="n">m_font</span><span class="p">.</span><span class="n">createMesh</span><span class="p">(</span><span class="n">ch</span><span class="p">)).</span><span class="n">first</span><span class="p">;</span>
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="w">			</span><span class="n">results</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">it</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">;</span>
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>
<a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">results</span><span class="p">;</span>
<a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a>
<a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a><span class="w">	</span><span class="kt">void</span><span class="w"> </span><span class="n">drawCylindricalInner</span><span class="p">(</span><span class="n">StringView</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">center</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">scale</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">startAngle</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ColorF</span><span class="o">&amp;</span><span class="w"> </span><span class="n">color</span><span class="p">)</span><span class="w"> </span><span class="k">const</span>
<a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">perimeter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">r</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Math</span><span class="o">::</span><span class="n">TwoPi</span><span class="p">);</span>
<a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a><span class="w">		</span><span class="kt">double</span><span class="w"> </span><span class="n">penPosX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a><span class="w">		</span><span class="n">startAngle</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">90</span><span class="n">_deg</span><span class="p">;</span>
<a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a>
<a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">meshGlyph</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">getGlyphs</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
<a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-3-41" name="__codelineno-3-41" href="#__codelineno-3-41"></a><span class="w">			</span><span class="n">penPosX</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="n">meshGlyph</span><span class="p">.</span><span class="n">xOffset</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">scale</span><span class="p">);</span>
<a id="__codelineno-3-42" name="__codelineno-3-42" href="#__codelineno-3-42"></a>
<a id="__codelineno-3-43" name="__codelineno-3-43" href="#__codelineno-3-43"></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">meshGlyph</span><span class="p">.</span><span class="n">mesh</span><span class="p">)</span>
<a id="__codelineno-3-44" name="__codelineno-3-44" href="#__codelineno-3-44"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-3-45" name="__codelineno-3-45" href="#__codelineno-3-45"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">angle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">penPosX</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">perimeter</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">360</span><span class="n">_deg</span><span class="p">;</span>
<a id="__codelineno-3-46" name="__codelineno-3-46" href="#__codelineno-3-46"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">Quaternion</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Quaternion</span><span class="o">::</span><span class="n">RotateY</span><span class="p">(</span><span class="mi">-90</span><span class="n">_deg</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">angle</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">startAngle</span><span class="p">);</span>
<a id="__codelineno-3-47" name="__codelineno-3-47" href="#__codelineno-3-47"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cylindrical</span><span class="p">{</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="mi">-180</span><span class="n">_deg</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">angle</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">startAngle</span><span class="p">),</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">center</span><span class="p">;</span>
<a id="__codelineno-3-48" name="__codelineno-3-48" href="#__codelineno-3-48"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">Mat4x4</span><span class="w"> </span><span class="n">mat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Mat4x4</span><span class="o">::</span><span class="n">Translate</span><span class="p">(</span><span class="o">-</span><span class="n">meshGlyph</span><span class="p">.</span><span class="n">xOffset</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-3-49" name="__codelineno-3-49" href="#__codelineno-3-49"></a><span class="w">					</span><span class="p">.</span><span class="n">scaled</span><span class="p">(</span><span class="n">scale</span><span class="p">)</span>
<a id="__codelineno-3-50" name="__codelineno-3-50" href="#__codelineno-3-50"></a><span class="w">					</span><span class="p">.</span><span class="n">rotated</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<a id="__codelineno-3-51" name="__codelineno-3-51" href="#__codelineno-3-51"></a><span class="w">					</span><span class="p">.</span><span class="n">translated</span><span class="p">(</span><span class="n">pos</span><span class="p">);</span>
<a id="__codelineno-3-52" name="__codelineno-3-52" href="#__codelineno-3-52"></a><span class="w">				</span><span class="n">meshGlyph</span><span class="p">.</span><span class="n">mesh</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">);</span>
<a id="__codelineno-3-53" name="__codelineno-3-53" href="#__codelineno-3-53"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-3-54" name="__codelineno-3-54" href="#__codelineno-3-54"></a>
<a id="__codelineno-3-55" name="__codelineno-3-55" href="#__codelineno-3-55"></a><span class="w">			</span><span class="n">penPosX</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="n">meshGlyph</span><span class="p">.</span><span class="n">xAdvance</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">meshGlyph</span><span class="p">.</span><span class="n">xOffset</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">scale</span><span class="p">;</span>
<a id="__codelineno-3-56" name="__codelineno-3-56" href="#__codelineno-3-56"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-3-57" name="__codelineno-3-57" href="#__codelineno-3-57"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-3-58" name="__codelineno-3-58" href="#__codelineno-3-58"></a>
<a id="__codelineno-3-59" name="__codelineno-3-59" href="#__codelineno-3-59"></a><span class="w">	</span><span class="kt">void</span><span class="w"> </span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="n">StringView</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">center</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">scale</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">startAngle</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ColorF</span><span class="o">&amp;</span><span class="w"> </span><span class="n">color</span><span class="p">)</span><span class="w"> </span><span class="k">const</span>
<a id="__codelineno-3-60" name="__codelineno-3-60" href="#__codelineno-3-60"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-3-61" name="__codelineno-3-61" href="#__codelineno-3-61"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">perimeter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">r</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Math</span><span class="o">::</span><span class="n">TwoPi</span><span class="p">);</span>
<a id="__codelineno-3-62" name="__codelineno-3-62" href="#__codelineno-3-62"></a><span class="w">		</span><span class="kt">double</span><span class="w"> </span><span class="n">penPosX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<a id="__codelineno-3-63" name="__codelineno-3-63" href="#__codelineno-3-63"></a><span class="w">		</span><span class="n">startAngle</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">90</span><span class="n">_deg</span><span class="p">;</span>
<a id="__codelineno-3-64" name="__codelineno-3-64" href="#__codelineno-3-64"></a>
<a id="__codelineno-3-65" name="__codelineno-3-65" href="#__codelineno-3-65"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">meshGlyph</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">getGlyphs</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
<a id="__codelineno-3-66" name="__codelineno-3-66" href="#__codelineno-3-66"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-3-67" name="__codelineno-3-67" href="#__codelineno-3-67"></a><span class="w">			</span><span class="n">penPosX</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="n">meshGlyph</span><span class="p">.</span><span class="n">xOffset</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">scale</span><span class="p">);</span>
<a id="__codelineno-3-68" name="__codelineno-3-68" href="#__codelineno-3-68"></a>
<a id="__codelineno-3-69" name="__codelineno-3-69" href="#__codelineno-3-69"></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">meshGlyph</span><span class="p">.</span><span class="n">mesh</span><span class="p">)</span>
<a id="__codelineno-3-70" name="__codelineno-3-70" href="#__codelineno-3-70"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-3-71" name="__codelineno-3-71" href="#__codelineno-3-71"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">angle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">penPosX</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">perimeter</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">360</span><span class="n">_deg</span><span class="p">;</span>
<a id="__codelineno-3-72" name="__codelineno-3-72" href="#__codelineno-3-72"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">Quaternion</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Quaternion</span><span class="o">::</span><span class="n">RotateY</span><span class="p">(</span><span class="mi">90</span><span class="n">_deg</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">angle</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">startAngle</span><span class="p">);</span>
<a id="__codelineno-3-73" name="__codelineno-3-73" href="#__codelineno-3-73"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cylindrical</span><span class="p">{</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="mi">180</span><span class="n">_deg</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">angle</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">startAngle</span><span class="p">),</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">center</span><span class="p">;</span>
<a id="__codelineno-3-74" name="__codelineno-3-74" href="#__codelineno-3-74"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">Mat4x4</span><span class="w"> </span><span class="n">mat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Mat4x4</span><span class="o">::</span><span class="n">Translate</span><span class="p">(</span><span class="o">-</span><span class="n">meshGlyph</span><span class="p">.</span><span class="n">xOffset</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-3-75" name="__codelineno-3-75" href="#__codelineno-3-75"></a><span class="w">					</span><span class="p">.</span><span class="n">scaled</span><span class="p">(</span><span class="n">scale</span><span class="p">)</span>
<a id="__codelineno-3-76" name="__codelineno-3-76" href="#__codelineno-3-76"></a><span class="w">					</span><span class="p">.</span><span class="n">rotated</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<a id="__codelineno-3-77" name="__codelineno-3-77" href="#__codelineno-3-77"></a><span class="w">					</span><span class="p">.</span><span class="n">translated</span><span class="p">(</span><span class="n">pos</span><span class="p">);</span>
<a id="__codelineno-3-78" name="__codelineno-3-78" href="#__codelineno-3-78"></a><span class="w">				</span><span class="n">meshGlyph</span><span class="p">.</span><span class="n">mesh</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">);</span>
<a id="__codelineno-3-79" name="__codelineno-3-79" href="#__codelineno-3-79"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-3-80" name="__codelineno-3-80" href="#__codelineno-3-80"></a>
<a id="__codelineno-3-81" name="__codelineno-3-81" href="#__codelineno-3-81"></a><span class="w">			</span><span class="n">penPosX</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="n">meshGlyph</span><span class="p">.</span><span class="n">xAdvance</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">meshGlyph</span><span class="p">.</span><span class="n">xOffset</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">scale</span><span class="p">;</span>
<a id="__codelineno-3-82" name="__codelineno-3-82" href="#__codelineno-3-82"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-3-83" name="__codelineno-3-83" href="#__codelineno-3-83"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-3-84" name="__codelineno-3-84" href="#__codelineno-3-84"></a>
<a id="__codelineno-3-85" name="__codelineno-3-85" href="#__codelineno-3-85"></a><span class="k">private</span><span class="o">:</span>
<a id="__codelineno-3-86" name="__codelineno-3-86" href="#__codelineno-3-86"></a>
<a id="__codelineno-3-87" name="__codelineno-3-87" href="#__codelineno-3-87"></a><span class="w">	</span><span class="n">Font</span><span class="w"> </span><span class="n">m_font</span><span class="p">;</span>
<a id="__codelineno-3-88" name="__codelineno-3-88" href="#__codelineno-3-88"></a>
<a id="__codelineno-3-89" name="__codelineno-3-89" href="#__codelineno-3-89"></a><span class="w">	</span><span class="k">mutable</span><span class="w"> </span><span class="n">HashTable</span><span class="o">&lt;</span><span class="n">char32</span><span class="p">,</span><span class="w"> </span><span class="n">MeshGlyph</span><span class="o">&gt;</span><span class="w"> </span><span class="n">m_table</span><span class="p">;</span>
<a id="__codelineno-3-90" name="__codelineno-3-90" href="#__codelineno-3-90"></a><span class="p">};</span>
<a id="__codelineno-3-91" name="__codelineno-3-91" href="#__codelineno-3-91"></a>
<a id="__codelineno-3-92" name="__codelineno-3-92" href="#__codelineno-3-92"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-3-93" name="__codelineno-3-93" href="#__codelineno-3-93"></a><span class="p">{</span>
<a id="__codelineno-3-94" name="__codelineno-3-94" href="#__codelineno-3-94"></a><span class="w">	</span><span class="n">Window</span><span class="o">::</span><span class="n">Resize</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">);</span>
<a id="__codelineno-3-95" name="__codelineno-3-95" href="#__codelineno-3-95"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">ColorF</span><span class="w"> </span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">();</span>
<a id="__codelineno-3-96" name="__codelineno-3-96" href="#__codelineno-3-96"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">uvChecker</span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;example/texture/uv.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">TextureDesc</span><span class="o">::</span><span class="n">MippedSRGB</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-3-97" name="__codelineno-3-97" href="#__codelineno-3-97"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">MSRenderTexture</span><span class="w"> </span><span class="n">renderTexture</span><span class="p">{</span><span class="w"> </span><span class="n">Scene</span><span class="o">::</span><span class="n">Size</span><span class="p">(),</span><span class="w"> </span><span class="n">TextureFormat</span><span class="o">::</span><span class="n">R8G8B8A8_Unorm_SRGB</span><span class="p">,</span><span class="w"> </span><span class="n">HasDepth</span><span class="o">::</span><span class="n">Yes</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-3-98" name="__codelineno-3-98" href="#__codelineno-3-98"></a><span class="w">	</span><span class="n">DebugCamera3D</span><span class="w"> </span><span class="n">camera</span><span class="p">{</span><span class="w"> </span><span class="n">renderTexture</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="mi">30</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">-32</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-3-99" name="__codelineno-3-99" href="#__codelineno-3-99"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Font3D</span><span class="w"> </span><span class="n">font3D</span><span class="p">{</span><span class="w"> </span><span class="n">Font</span><span class="p">{</span><span class="w"> </span><span class="mi">60</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-3-100" name="__codelineno-3-100" href="#__codelineno-3-100"></a>
<a id="__codelineno-3-101" name="__codelineno-3-101" href="#__codelineno-3-101"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-3-102" name="__codelineno-3-102" href="#__codelineno-3-102"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-3-103" name="__codelineno-3-103" href="#__codelineno-3-103"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Scene</span><span class="o">::</span><span class="n">Time</span><span class="p">();</span>
<a id="__codelineno-3-104" name="__codelineno-3-104" href="#__codelineno-3-104"></a><span class="w">		</span><span class="n">camera</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="mf">2.0</span><span class="p">);</span>
<a id="__codelineno-3-105" name="__codelineno-3-105" href="#__codelineno-3-105"></a><span class="w">		</span><span class="n">Graphics3D</span><span class="o">::</span><span class="n">SetCameraTransform</span><span class="p">(</span><span class="n">camera</span><span class="p">);</span>
<a id="__codelineno-3-106" name="__codelineno-3-106" href="#__codelineno-3-106"></a>
<a id="__codelineno-3-107" name="__codelineno-3-107" href="#__codelineno-3-107"></a><span class="w">		</span><span class="c1">// 3D 描画</span>
<a id="__codelineno-3-108" name="__codelineno-3-108" href="#__codelineno-3-108"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-3-109" name="__codelineno-3-109" href="#__codelineno-3-109"></a><span class="w">			</span><span class="n">Graphics3D</span><span class="o">::</span><span class="n">SetGlobalAmbientColor</span><span class="p">(</span><span class="n">Graphics3D</span><span class="o">::</span><span class="n">DefaultGlobalAmbientColor</span><span class="p">);</span>
<a id="__codelineno-3-110" name="__codelineno-3-110" href="#__codelineno-3-110"></a><span class="w">			</span><span class="n">Graphics3D</span><span class="o">::</span><span class="n">SetSunColor</span><span class="p">(</span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">0.75</span><span class="w"> </span><span class="p">});</span>
<a id="__codelineno-3-111" name="__codelineno-3-111" href="#__codelineno-3-111"></a>
<a id="__codelineno-3-112" name="__codelineno-3-112" href="#__codelineno-3-112"></a><span class="w">			</span><span class="k">const</span><span class="w"> </span><span class="n">ScopedRenderTarget3D</span><span class="w"> </span><span class="n">target</span><span class="p">{</span><span class="w"> </span><span class="n">renderTexture</span><span class="p">.</span><span class="n">clear</span><span class="p">(</span><span class="n">backgroundColor</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-3-113" name="__codelineno-3-113" href="#__codelineno-3-113"></a><span class="w">			</span><span class="n">Plane</span><span class="p">{</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="p">}.</span><span class="n">draw</span><span class="p">(</span><span class="n">uvChecker</span><span class="p">);</span>
<a id="__codelineno-3-114" name="__codelineno-3-114" href="#__codelineno-3-114"></a><span class="w">			</span><span class="n">Cylinder</span><span class="p">{</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">},</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">},</span><span class="w"> </span><span class="mf">5.6</span><span class="w"> </span><span class="p">}.</span><span class="n">draw</span><span class="p">(</span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">0.25</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-115" name="__codelineno-3-115" href="#__codelineno-3-115"></a>
<a id="__codelineno-3-116" name="__codelineno-3-116" href="#__codelineno-3-116"></a><span class="w">			</span><span class="c1">// 3D Text Circle</span>
<a id="__codelineno-3-117" name="__codelineno-3-117" href="#__codelineno-3-117"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-3-118" name="__codelineno-3-118" href="#__codelineno-3-118"></a><span class="w">				</span><span class="c1">// 両面描画、ライティング無効化</span>
<a id="__codelineno-3-119" name="__codelineno-3-119" href="#__codelineno-3-119"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">ScopedRenderStates3D</span><span class="w"> </span><span class="n">rasterizer</span><span class="p">{</span><span class="w"> </span><span class="n">RasterizerState</span><span class="o">::</span><span class="n">SolidCullNone</span><span class="p">,</span><span class="w"> </span><span class="n">BlendState</span><span class="o">::</span><span class="n">Additive</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-3-120" name="__codelineno-3-120" href="#__codelineno-3-120"></a><span class="w">				</span><span class="n">Graphics3D</span><span class="o">::</span><span class="n">SetGlobalAmbientColor</span><span class="p">(</span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="p">});</span>
<a id="__codelineno-3-121" name="__codelineno-3-121" href="#__codelineno-3-121"></a><span class="w">				</span><span class="n">Graphics3D</span><span class="o">::</span><span class="n">SetSunColor</span><span class="p">(</span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="p">});</span>
<a id="__codelineno-3-122" name="__codelineno-3-122" href="#__codelineno-3-122"></a>
<a id="__codelineno-3-123" name="__codelineno-3-123" href="#__codelineno-3-123"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="n">DateTime</span><span class="o">::</span><span class="n">Now</span><span class="p">().</span><span class="n">format</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;HH:mm:ss&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">11.5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1.2</span><span class="p">,</span><span class="w"> </span><span class="mf">3.0</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1.2</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-25</span><span class="n">_deg</span><span class="p">),</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.98</span><span class="p">,</span><span class="w"> </span><span class="mf">0.9</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-124" name="__codelineno-3-124" href="#__codelineno-3-124"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="n">DateTime</span><span class="o">::</span><span class="n">Now</span><span class="p">().</span><span class="n">format</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;HH:mm:ss&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">11.5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1.2</span><span class="p">,</span><span class="w"> </span><span class="mf">3.0</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1.2</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-25</span><span class="n">_deg</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">180</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.98</span><span class="p">,</span><span class="w"> </span><span class="mf">0.9</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-125" name="__codelineno-3-125" href="#__codelineno-3-125"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Monday, September 27, 2021&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1.2</span><span class="p">,</span><span class="w"> </span><span class="mf">1.2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1.2</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-50</span><span class="n">_deg</span><span class="p">),</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.98</span><span class="p">,</span><span class="w"> </span><span class="mf">0.9</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-126" name="__codelineno-3-126" href="#__codelineno-3-126"></a>
<a id="__codelineno-3-127" name="__codelineno-3-127" href="#__codelineno-3-127"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;NIKKEI 225 30,248.81 +609.41&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-72</span><span class="n">_deg</span><span class="p">),</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.8</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-128" name="__codelineno-3-128" href="#__codelineno-3-128"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;HANG SENG 24,192,16 -318.82&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-62</span><span class="n">_deg</span><span class="p">),</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-129" name="__codelineno-3-129" href="#__codelineno-3-129"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;SHANGHAI 3,613.07 -29.15&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-58</span><span class="n">_deg</span><span class="p">),</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-130" name="__codelineno-3-130" href="#__codelineno-3-130"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;FTSE 7,051.48 -26.87&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-70</span><span class="n">_deg</span><span class="p">),</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-131" name="__codelineno-3-131" href="#__codelineno-3-131"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;CAC 6,638.46 -63.52&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-60</span><span class="n">_deg</span><span class="p">),</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-132" name="__codelineno-3-132" href="#__codelineno-3-132"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;DAX 15,531.75 -112.22&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-66</span><span class="n">_deg</span><span class="p">),</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-133" name="__codelineno-3-133" href="#__codelineno-3-133"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;NASDAQ 15,047.70 -4.54&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-68</span><span class="n">_deg</span><span class="p">),</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-134" name="__codelineno-3-134" href="#__codelineno-3-134"></a>
<a id="__codelineno-3-135" name="__codelineno-3-135" href="#__codelineno-3-135"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;NIKKEI 225 30,248.81 +609.41&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-72</span><span class="n">_deg</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">180</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.8</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-136" name="__codelineno-3-136" href="#__codelineno-3-136"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;HANG SENG 24,192,16 -318.82&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-62</span><span class="n">_deg</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">180</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-137" name="__codelineno-3-137" href="#__codelineno-3-137"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;SHANGHAI 3,613.07 -29.15&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-58</span><span class="n">_deg</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">180</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-138" name="__codelineno-3-138" href="#__codelineno-3-138"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;FTSE 7,051.48 -26.87&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-70</span><span class="n">_deg</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">180</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-139" name="__codelineno-3-139" href="#__codelineno-3-139"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;CAC 6,638.46 -63.52&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-60</span><span class="n">_deg</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">180</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-140" name="__codelineno-3-140" href="#__codelineno-3-140"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;DAX 15,531.75 -112.22&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-66</span><span class="n">_deg</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">180</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-141" name="__codelineno-3-141" href="#__codelineno-3-141"></a><span class="w">				</span><span class="n">font3D</span><span class="p">.</span><span class="n">drawCylindricalOuter</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;NASDAQ 15,047.70 -4.54&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">-68</span><span class="n">_deg</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">180</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-3-142" name="__codelineno-3-142" href="#__codelineno-3-142"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-3-143" name="__codelineno-3-143" href="#__codelineno-3-143"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-3-144" name="__codelineno-3-144" href="#__codelineno-3-144"></a>
<a id="__codelineno-3-145" name="__codelineno-3-145" href="#__codelineno-3-145"></a><span class="w">		</span><span class="c1">// 3D シーンを 2D シーンに描画</span>
<a id="__codelineno-3-146" name="__codelineno-3-146" href="#__codelineno-3-146"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-3-147" name="__codelineno-3-147" href="#__codelineno-3-147"></a><span class="w">			</span><span class="n">Graphics3D</span><span class="o">::</span><span class="n">Flush</span><span class="p">();</span>
<a id="__codelineno-3-148" name="__codelineno-3-148" href="#__codelineno-3-148"></a><span class="w">			</span><span class="n">renderTexture</span><span class="p">.</span><span class="n">resolve</span><span class="p">();</span>
<a id="__codelineno-3-149" name="__codelineno-3-149" href="#__codelineno-3-149"></a><span class="w">			</span><span class="n">Shader</span><span class="o">::</span><span class="n">LinearToScreen</span><span class="p">(</span><span class="n">renderTexture</span><span class="p">);</span>
<a id="__codelineno-3-150" name="__codelineno-3-150" href="#__codelineno-3-150"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-3-151" name="__codelineno-3-151" href="#__codelineno-3-151"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-3-152" name="__codelineno-3-152" href="#__codelineno-3-152"></a><span class="p">}</span>
</code></pre></div></li>
<li>Windows 版において、Leap Motion デバイスをサポートしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/677">#677</a>)
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">// Ultraleap SDK をインストールし、プロジェクトのプロパティの</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="c1">// 1. インクルード ディレクトリに</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="c1">// C:\Program Files\Ultraleap\LeapSDK\include を追加。</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="c1">// 2. ライブラリ ディレクトリに</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="c1">// C:\Program Files\Ultraleap\LeapSDK\lib\x64 を追加。</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="c1">// 3. App フォルダに LeapC.dll をコピー。</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="kr">inline</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">HandScale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.08</span><span class="p">;</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="kt">void</span><span class="w"> </span><span class="nf">DrawSphere</span><span class="p">(</span><span class="n">uint32</span><span class="w"> </span><span class="n">handID</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">pos</span><span class="p">)</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="p">{</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">	</span><span class="n">Sphere</span><span class="p">{</span><span class="w"> </span><span class="p">(</span><span class="n">pos</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">HandScale</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">HandScale</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">	</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">{</span><span class="w"> </span><span class="n">handID</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">60</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="p">}</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="kt">void</span><span class="w"> </span><span class="nf">DrawCylinder</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="o">&amp;</span><span class="w"> </span><span class="n">to</span><span class="p">)</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="p">{</span>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="w">	</span><span class="n">Cylinder</span><span class="p">{</span><span class="w"> </span><span class="p">(</span><span class="n">from</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">HandScale</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">to</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">HandScale</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">HandScale</span><span class="p">)</span><span class="w"> </span><span class="p">}.</span><span class="n">draw</span><span class="p">();</span>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="p">}</span>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="p">{</span>
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="w">	</span><span class="n">Window</span><span class="o">::</span><span class="n">Resize</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">);</span>
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">ColorF</span><span class="w"> </span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.8</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">();</span>
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">uvChecker</span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;example/texture/uv.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">TextureDesc</span><span class="o">::</span><span class="n">MippedSRGB</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">MSRenderTexture</span><span class="w"> </span><span class="n">renderTexture</span><span class="p">{</span><span class="w"> </span><span class="n">Scene</span><span class="o">::</span><span class="n">Size</span><span class="p">(),</span><span class="w"> </span><span class="n">TextureFormat</span><span class="o">::</span><span class="n">R8G8B8A8_Unorm_SRGB</span><span class="p">,</span><span class="w"> </span><span class="n">HasDepth</span><span class="o">::</span><span class="n">Yes</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a><span class="w">	</span><span class="n">DebugCamera3D</span><span class="w"> </span><span class="n">camera</span><span class="p">{</span><span class="w"> </span><span class="n">renderTexture</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="mi">30</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="mi">-32</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a>
<a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Font</span><span class="w"> </span><span class="n">font</span><span class="p">{</span><span class="w"> </span><span class="n">FontMethod</span><span class="o">::</span><span class="n">MSDF</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="p">,</span><span class="w"> </span><span class="n">Typeface</span><span class="o">::</span><span class="n">Bold</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a><span class="w">	</span><span class="kt">size_t</span><span class="w"> </span><span class="n">trackingModeIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a><span class="w">	</span><span class="kt">bool</span><span class="w"> </span><span class="n">showInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a><span class="w">	</span><span class="n">Leap</span><span class="o">::</span><span class="n">Connection</span><span class="w"> </span><span class="n">leap</span><span class="p">{</span><span class="w"> </span><span class="n">Leap</span><span class="o">::</span><span class="n">TrackingMode</span><span class="o">::</span><span class="n">Desktop</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a>
<a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">not</span><span class="w"> </span><span class="n">leap</span><span class="p">)</span>
<a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a><span class="w">		</span><span class="k">throw</span><span class="w"> </span><span class="n">Error</span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Leap device not found&quot;</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-4-39" name="__codelineno-4-39" href="#__codelineno-4-39"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-4-40" name="__codelineno-4-40" href="#__codelineno-4-40"></a>
<a id="__codelineno-4-41" name="__codelineno-4-41" href="#__codelineno-4-41"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-4-42" name="__codelineno-4-42" href="#__codelineno-4-42"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-4-43" name="__codelineno-4-43" href="#__codelineno-4-43"></a><span class="w">		</span><span class="n">leap</span><span class="p">.</span><span class="n">update</span><span class="p">();</span>
<a id="__codelineno-4-44" name="__codelineno-4-44" href="#__codelineno-4-44"></a>
<a id="__codelineno-4-45" name="__codelineno-4-45" href="#__codelineno-4-45"></a><span class="w">		</span><span class="n">camera</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="mf">2.0</span><span class="p">);</span>
<a id="__codelineno-4-46" name="__codelineno-4-46" href="#__codelineno-4-46"></a><span class="w">		</span><span class="n">Graphics3D</span><span class="o">::</span><span class="n">SetCameraTransform</span><span class="p">(</span><span class="n">camera</span><span class="p">);</span>
<a id="__codelineno-4-47" name="__codelineno-4-47" href="#__codelineno-4-47"></a>
<a id="__codelineno-4-48" name="__codelineno-4-48" href="#__codelineno-4-48"></a><span class="w">		</span><span class="c1">// 3D 描画</span>
<a id="__codelineno-4-49" name="__codelineno-4-49" href="#__codelineno-4-49"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-4-50" name="__codelineno-4-50" href="#__codelineno-4-50"></a><span class="w">			</span><span class="k">const</span><span class="w"> </span><span class="n">ScopedRenderTarget3D</span><span class="w"> </span><span class="n">target</span><span class="p">{</span><span class="w"> </span><span class="n">renderTexture</span><span class="p">.</span><span class="n">clear</span><span class="p">(</span><span class="n">backgroundColor</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-4-51" name="__codelineno-4-51" href="#__codelineno-4-51"></a>
<a id="__codelineno-4-52" name="__codelineno-4-52" href="#__codelineno-4-52"></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">trackingModeIndex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-4-53" name="__codelineno-4-53" href="#__codelineno-4-53"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-4-54" name="__codelineno-4-54" href="#__codelineno-4-54"></a><span class="w">				</span><span class="n">Plane</span><span class="p">{</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="p">}.</span><span class="n">draw</span><span class="p">(</span><span class="n">uvChecker</span><span class="p">);</span>
<a id="__codelineno-4-55" name="__codelineno-4-55" href="#__codelineno-4-55"></a>
<a id="__codelineno-4-56" name="__codelineno-4-56" href="#__codelineno-4-56"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
<a id="__codelineno-4-57" name="__codelineno-4-57" href="#__codelineno-4-57"></a>
<a id="__codelineno-4-58" name="__codelineno-4-58" href="#__codelineno-4-58"></a><span class="w">				</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Range</span><span class="p">(</span><span class="mi">-2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<a id="__codelineno-4-59" name="__codelineno-4-59" href="#__codelineno-4-59"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-4-60" name="__codelineno-4-60" href="#__codelineno-4-60"></a><span class="w">					</span><span class="n">Cylinder</span><span class="p">{</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">6.0</span><span class="p">),</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="p">}.</span><span class="n">draw</span><span class="p">(</span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">0.8</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-4-61" name="__codelineno-4-61" href="#__codelineno-4-61"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-4-62" name="__codelineno-4-62" href="#__codelineno-4-62"></a>
<a id="__codelineno-4-63" name="__codelineno-4-63" href="#__codelineno-4-63"></a><span class="w">				</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Range</span><span class="p">(</span><span class="mi">-8</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">))</span>
<a id="__codelineno-4-64" name="__codelineno-4-64" href="#__codelineno-4-64"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-4-65" name="__codelineno-4-65" href="#__codelineno-4-65"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">Box</span><span class="w"> </span><span class="n">box</span><span class="p">{</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="mf">1.8</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-4-66" name="__codelineno-4-66" href="#__codelineno-4-66"></a><span class="w">					</span><span class="kt">bool</span><span class="w"> </span><span class="n">intersect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<a id="__codelineno-4-67" name="__codelineno-4-67" href="#__codelineno-4-67"></a>
<a id="__codelineno-4-68" name="__codelineno-4-68" href="#__codelineno-4-68"></a><span class="w">					</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">hand</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">leap</span><span class="p">.</span><span class="n">getHands</span><span class="p">())</span>
<a id="__codelineno-4-69" name="__codelineno-4-69" href="#__codelineno-4-69"></a><span class="w">					</span><span class="p">{</span>
<a id="__codelineno-4-70" name="__codelineno-4-70" href="#__codelineno-4-70"></a><span class="w">						</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">fingerIndex</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<a id="__codelineno-4-71" name="__codelineno-4-71" href="#__codelineno-4-71"></a><span class="w">						</span><span class="p">{</span>
<a id="__codelineno-4-72" name="__codelineno-4-72" href="#__codelineno-4-72"></a><span class="w">							</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">boneIndex</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span>
<a id="__codelineno-4-73" name="__codelineno-4-73" href="#__codelineno-4-73"></a><span class="w">							</span><span class="p">{</span>
<a id="__codelineno-4-74" name="__codelineno-4-74" href="#__codelineno-4-74"></a><span class="w">								</span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hand</span><span class="p">.</span><span class="n">fingerBone</span><span class="p">(</span><span class="n">fingerIndex</span><span class="p">,</span><span class="w"> </span><span class="n">boneIndex</span><span class="p">).</span><span class="n">to</span><span class="p">;</span>
<a id="__codelineno-4-75" name="__codelineno-4-75" href="#__codelineno-4-75"></a><span class="w">								</span><span class="k">const</span><span class="w"> </span><span class="n">Sphere</span><span class="w"> </span><span class="n">sphere</span><span class="p">{</span><span class="w"> </span><span class="p">(</span><span class="n">to</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">HandScale</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">HandScale</span><span class="p">)</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-4-76" name="__codelineno-4-76" href="#__codelineno-4-76"></a>
<a id="__codelineno-4-77" name="__codelineno-4-77" href="#__codelineno-4-77"></a><span class="w">								</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sphere</span><span class="p">.</span><span class="n">intersects</span><span class="p">(</span><span class="n">box</span><span class="p">))</span>
<a id="__codelineno-4-78" name="__codelineno-4-78" href="#__codelineno-4-78"></a><span class="w">								</span><span class="p">{</span>
<a id="__codelineno-4-79" name="__codelineno-4-79" href="#__codelineno-4-79"></a><span class="w">									</span><span class="n">intersect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<a id="__codelineno-4-80" name="__codelineno-4-80" href="#__codelineno-4-80"></a><span class="w">									</span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-4-81" name="__codelineno-4-81" href="#__codelineno-4-81"></a><span class="w">								</span><span class="p">}</span>
<a id="__codelineno-4-82" name="__codelineno-4-82" href="#__codelineno-4-82"></a><span class="w">							</span><span class="p">}</span>
<a id="__codelineno-4-83" name="__codelineno-4-83" href="#__codelineno-4-83"></a>
<a id="__codelineno-4-84" name="__codelineno-4-84" href="#__codelineno-4-84"></a><span class="w">							</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">intersect</span><span class="p">)</span>
<a id="__codelineno-4-85" name="__codelineno-4-85" href="#__codelineno-4-85"></a><span class="w">							</span><span class="p">{</span>
<a id="__codelineno-4-86" name="__codelineno-4-86" href="#__codelineno-4-86"></a><span class="w">								</span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-4-87" name="__codelineno-4-87" href="#__codelineno-4-87"></a><span class="w">							</span><span class="p">}</span>
<a id="__codelineno-4-88" name="__codelineno-4-88" href="#__codelineno-4-88"></a><span class="w">						</span><span class="p">}</span>
<a id="__codelineno-4-89" name="__codelineno-4-89" href="#__codelineno-4-89"></a>
<a id="__codelineno-4-90" name="__codelineno-4-90" href="#__codelineno-4-90"></a><span class="w">						</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">intersect</span><span class="p">)</span>
<a id="__codelineno-4-91" name="__codelineno-4-91" href="#__codelineno-4-91"></a><span class="w">						</span><span class="p">{</span>
<a id="__codelineno-4-92" name="__codelineno-4-92" href="#__codelineno-4-92"></a><span class="w">							</span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-4-93" name="__codelineno-4-93" href="#__codelineno-4-93"></a><span class="w">						</span><span class="p">}</span>
<a id="__codelineno-4-94" name="__codelineno-4-94" href="#__codelineno-4-94"></a><span class="w">					</span><span class="p">}</span>
<a id="__codelineno-4-95" name="__codelineno-4-95" href="#__codelineno-4-95"></a>
<a id="__codelineno-4-96" name="__codelineno-4-96" href="#__codelineno-4-96"></a><span class="w">					</span><span class="n">box</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">{</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">40</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">intersect</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">0.8</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">0.15</span><span class="p">),</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="p">}.</span><span class="n">removeSRGBCurve</span><span class="p">());</span>
<a id="__codelineno-4-97" name="__codelineno-4-97" href="#__codelineno-4-97"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-4-98" name="__codelineno-4-98" href="#__codelineno-4-98"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-4-99" name="__codelineno-4-99" href="#__codelineno-4-99"></a>
<a id="__codelineno-4-100" name="__codelineno-4-100" href="#__codelineno-4-100"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">hand</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">leap</span><span class="p">.</span><span class="n">getHands</span><span class="p">())</span>
<a id="__codelineno-4-101" name="__codelineno-4-101" href="#__codelineno-4-101"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-4-102" name="__codelineno-4-102" href="#__codelineno-4-102"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">handID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hand</span><span class="p">.</span><span class="n">id</span><span class="p">();</span>
<a id="__codelineno-4-103" name="__codelineno-4-103" href="#__codelineno-4-103"></a>
<a id="__codelineno-4-104" name="__codelineno-4-104" href="#__codelineno-4-104"></a><span class="w">				</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">fingerIndex</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<a id="__codelineno-4-105" name="__codelineno-4-105" href="#__codelineno-4-105"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-4-106" name="__codelineno-4-106" href="#__codelineno-4-106"></a><span class="w">					</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">boneIndex</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<a id="__codelineno-4-107" name="__codelineno-4-107" href="#__codelineno-4-107"></a><span class="w">					</span><span class="p">{</span>
<a id="__codelineno-4-108" name="__codelineno-4-108" href="#__codelineno-4-108"></a><span class="w">						</span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hand</span><span class="p">.</span><span class="n">fingerBone</span><span class="p">(</span><span class="n">fingerIndex</span><span class="p">,</span><span class="w"> </span><span class="n">boneIndex</span><span class="p">).</span><span class="n">from</span><span class="p">;</span>
<a id="__codelineno-4-109" name="__codelineno-4-109" href="#__codelineno-4-109"></a><span class="w">						</span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hand</span><span class="p">.</span><span class="n">fingerBone</span><span class="p">(</span><span class="n">fingerIndex</span><span class="p">,</span><span class="w"> </span><span class="n">boneIndex</span><span class="p">).</span><span class="n">to</span><span class="p">;</span>
<a id="__codelineno-4-110" name="__codelineno-4-110" href="#__codelineno-4-110"></a>
<a id="__codelineno-4-111" name="__codelineno-4-111" href="#__codelineno-4-111"></a><span class="w">						</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fingerIndex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">boneIndex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-4-112" name="__codelineno-4-112" href="#__codelineno-4-112"></a><span class="w">						</span><span class="p">{</span>
<a id="__codelineno-4-113" name="__codelineno-4-113" href="#__codelineno-4-113"></a><span class="w">							</span><span class="n">DrawSphere</span><span class="p">(</span><span class="n">handID</span><span class="p">,</span><span class="w"> </span><span class="n">from</span><span class="p">);</span>
<a id="__codelineno-4-114" name="__codelineno-4-114" href="#__codelineno-4-114"></a><span class="w">						</span><span class="p">}</span>
<a id="__codelineno-4-115" name="__codelineno-4-115" href="#__codelineno-4-115"></a>
<a id="__codelineno-4-116" name="__codelineno-4-116" href="#__codelineno-4-116"></a><span class="w">						</span><span class="n">DrawSphere</span><span class="p">(</span><span class="n">handID</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="p">);</span>
<a id="__codelineno-4-117" name="__codelineno-4-117" href="#__codelineno-4-117"></a>
<a id="__codelineno-4-118" name="__codelineno-4-118" href="#__codelineno-4-118"></a><span class="w">						</span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">fingerIndex</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">fingerIndex</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">boneIndex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-4-119" name="__codelineno-4-119" href="#__codelineno-4-119"></a><span class="w">						</span><span class="p">{</span>
<a id="__codelineno-4-120" name="__codelineno-4-120" href="#__codelineno-4-120"></a><span class="w">							</span><span class="k">continue</span><span class="p">;</span>
<a id="__codelineno-4-121" name="__codelineno-4-121" href="#__codelineno-4-121"></a><span class="w">						</span><span class="p">}</span>
<a id="__codelineno-4-122" name="__codelineno-4-122" href="#__codelineno-4-122"></a>
<a id="__codelineno-4-123" name="__codelineno-4-123" href="#__codelineno-4-123"></a><span class="w">						</span><span class="n">DrawCylinder</span><span class="p">(</span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="p">);</span>
<a id="__codelineno-4-124" name="__codelineno-4-124" href="#__codelineno-4-124"></a><span class="w">					</span><span class="p">}</span>
<a id="__codelineno-4-125" name="__codelineno-4-125" href="#__codelineno-4-125"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-4-126" name="__codelineno-4-126" href="#__codelineno-4-126"></a>
<a id="__codelineno-4-127" name="__codelineno-4-127" href="#__codelineno-4-127"></a><span class="w">				</span><span class="n">DrawSphere</span><span class="p">(</span><span class="n">handID</span><span class="p">,</span><span class="w"> </span><span class="n">hand</span><span class="p">.</span><span class="n">palmPosition</span><span class="p">());</span>
<a id="__codelineno-4-128" name="__codelineno-4-128" href="#__codelineno-4-128"></a><span class="w">				</span><span class="n">DrawCylinder</span><span class="p">(</span><span class="n">hand</span><span class="p">.</span><span class="n">fingerBone</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">).</span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="n">hand</span><span class="p">.</span><span class="n">fingerBone</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">).</span><span class="n">from</span><span class="p">);</span>
<a id="__codelineno-4-129" name="__codelineno-4-129" href="#__codelineno-4-129"></a><span class="w">				</span><span class="n">DrawCylinder</span><span class="p">(</span><span class="n">hand</span><span class="p">.</span><span class="n">fingerBone</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">).</span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="n">hand</span><span class="p">.</span><span class="n">fingerBone</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">).</span><span class="n">from</span><span class="p">);</span>
<a id="__codelineno-4-130" name="__codelineno-4-130" href="#__codelineno-4-130"></a><span class="w">				</span><span class="n">DrawCylinder</span><span class="p">(</span><span class="n">hand</span><span class="p">.</span><span class="n">fingerBone</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">).</span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="n">hand</span><span class="p">.</span><span class="n">fingerBone</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">).</span><span class="n">from</span><span class="p">);</span>
<a id="__codelineno-4-131" name="__codelineno-4-131" href="#__codelineno-4-131"></a><span class="w">				</span><span class="n">DrawCylinder</span><span class="p">(</span><span class="n">hand</span><span class="p">.</span><span class="n">fingerBone</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">).</span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="n">hand</span><span class="p">.</span><span class="n">fingerBone</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">).</span><span class="n">from</span><span class="p">);</span>
<a id="__codelineno-4-132" name="__codelineno-4-132" href="#__codelineno-4-132"></a><span class="w">				</span><span class="n">DrawCylinder</span><span class="p">(</span><span class="n">hand</span><span class="p">.</span><span class="n">fingerBone</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">).</span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="n">hand</span><span class="p">.</span><span class="n">fingerBone</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">).</span><span class="n">from</span><span class="p">);</span>
<a id="__codelineno-4-133" name="__codelineno-4-133" href="#__codelineno-4-133"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-4-134" name="__codelineno-4-134" href="#__codelineno-4-134"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-4-135" name="__codelineno-4-135" href="#__codelineno-4-135"></a>
<a id="__codelineno-4-136" name="__codelineno-4-136" href="#__codelineno-4-136"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-4-137" name="__codelineno-4-137" href="#__codelineno-4-137"></a><span class="w">			</span><span class="n">Graphics3D</span><span class="o">::</span><span class="n">Flush</span><span class="p">();</span>
<a id="__codelineno-4-138" name="__codelineno-4-138" href="#__codelineno-4-138"></a><span class="w">			</span><span class="n">renderTexture</span><span class="p">.</span><span class="n">resolve</span><span class="p">();</span>
<a id="__codelineno-4-139" name="__codelineno-4-139" href="#__codelineno-4-139"></a><span class="w">			</span><span class="n">Shader</span><span class="o">::</span><span class="n">LinearToScreen</span><span class="p">(</span><span class="n">renderTexture</span><span class="p">);</span>
<a id="__codelineno-4-140" name="__codelineno-4-140" href="#__codelineno-4-140"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-4-141" name="__codelineno-4-141" href="#__codelineno-4-141"></a>
<a id="__codelineno-4-142" name="__codelineno-4-142" href="#__codelineno-4-142"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">RadioButtons</span><span class="p">(</span><span class="n">trackingModeIndex</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Desktop&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Head-mounted&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Screentop&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">Vec2</span><span class="p">{</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="w"> </span><span class="p">}))</span>
<a id="__codelineno-4-143" name="__codelineno-4-143" href="#__codelineno-4-143"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-4-144" name="__codelineno-4-144" href="#__codelineno-4-144"></a><span class="w">			</span><span class="n">leap</span><span class="p">.</span><span class="n">setTrackingMode</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">Leap</span><span class="o">::</span><span class="n">TrackingMode</span><span class="o">&gt;</span><span class="p">(</span><span class="n">trackingModeIndex</span><span class="p">));</span>
<a id="__codelineno-4-145" name="__codelineno-4-145" href="#__codelineno-4-145"></a>
<a id="__codelineno-4-146" name="__codelineno-4-146" href="#__codelineno-4-146"></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">trackingModeIndex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-4-147" name="__codelineno-4-147" href="#__codelineno-4-147"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-4-148" name="__codelineno-4-148" href="#__codelineno-4-148"></a><span class="w">				</span><span class="n">camera</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DebugCamera3D</span><span class="p">{</span><span class="w"> </span><span class="n">renderTexture</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="mi">30</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="mi">-32</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-4-149" name="__codelineno-4-149" href="#__codelineno-4-149"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-4-150" name="__codelineno-4-150" href="#__codelineno-4-150"></a><span class="w">			</span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">trackingModeIndex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-4-151" name="__codelineno-4-151" href="#__codelineno-4-151"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-4-152" name="__codelineno-4-152" href="#__codelineno-4-152"></a><span class="w">				</span><span class="n">camera</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DebugCamera3D</span><span class="p">{</span><span class="w"> </span><span class="n">renderTexture</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="mi">30</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="mi">-24</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-4-153" name="__codelineno-4-153" href="#__codelineno-4-153"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-4-154" name="__codelineno-4-154" href="#__codelineno-4-154"></a><span class="w">			</span><span class="k">else</span>
<a id="__codelineno-4-155" name="__codelineno-4-155" href="#__codelineno-4-155"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-4-156" name="__codelineno-4-156" href="#__codelineno-4-156"></a><span class="w">				</span><span class="n">camera</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DebugCamera3D</span><span class="p">{</span><span class="w"> </span><span class="n">renderTexture</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="mi">30</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="mi">-56</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">Vec3</span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">-24</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-4-157" name="__codelineno-4-157" href="#__codelineno-4-157"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-4-158" name="__codelineno-4-158" href="#__codelineno-4-158"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-4-159" name="__codelineno-4-159" href="#__codelineno-4-159"></a>
<a id="__codelineno-4-160" name="__codelineno-4-160" href="#__codelineno-4-160"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">CheckBox</span><span class="p">(</span><span class="n">showInfo</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;showInfo&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">{</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">140</span><span class="w"> </span><span class="p">});</span>
<a id="__codelineno-4-161" name="__codelineno-4-161" href="#__codelineno-4-161"></a>
<a id="__codelineno-4-162" name="__codelineno-4-162" href="#__codelineno-4-162"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">showInfo</span><span class="p">)</span>
<a id="__codelineno-4-163" name="__codelineno-4-163" href="#__codelineno-4-163"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-4-164" name="__codelineno-4-164" href="#__codelineno-4-164"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">hand</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">leap</span><span class="p">.</span><span class="n">getHands</span><span class="p">())</span>
<a id="__codelineno-4-165" name="__codelineno-4-165" href="#__codelineno-4-165"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-4-166" name="__codelineno-4-166" href="#__codelineno-4-166"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">Vec2</span><span class="w"> </span><span class="n">palmPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">camera</span><span class="p">.</span><span class="n">worldToScreenPoint</span><span class="p">(</span><span class="n">hand</span><span class="p">.</span><span class="n">palmPosition</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">HandScale</span><span class="p">).</span><span class="n">xy</span><span class="p">();</span>
<a id="__codelineno-4-167" name="__codelineno-4-167" href="#__codelineno-4-167"></a>
<a id="__codelineno-4-168" name="__codelineno-4-168" href="#__codelineno-4-168"></a><span class="w">				</span><span class="n">String</span><span class="w"> </span><span class="n">ext</span><span class="p">;</span>
<a id="__codelineno-4-169" name="__codelineno-4-169" href="#__codelineno-4-169"></a><span class="w">				</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">fingerIndex</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<a id="__codelineno-4-170" name="__codelineno-4-170" href="#__codelineno-4-170"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-4-171" name="__codelineno-4-171" href="#__codelineno-4-171"></a><span class="w">					</span><span class="n">ext</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">hand</span><span class="p">.</span><span class="n">isExtended</span><span class="p">(</span><span class="n">fingerIndex</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="sa">U</span><span class="sc">&#39;1&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="sa">U</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
<a id="__codelineno-4-172" name="__codelineno-4-172" href="#__codelineno-4-172"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-4-173" name="__codelineno-4-173" href="#__codelineno-4-173"></a>
<a id="__codelineno-4-174" name="__codelineno-4-174" href="#__codelineno-4-174"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;pinchDistance: {:.2f}</span><span class="se">\n</span><span class="s">grabAngle: {:.2f}</span><span class="se">\n</span><span class="s">pinchStrength: {:.2f}</span><span class="se">\n</span><span class="s">grabStrength: {:.2f}</span><span class="se">\n</span><span class="s">fingers:{}&quot;</span><span class="n">_fmt</span><span class="p">(</span>
<a id="__codelineno-4-175" name="__codelineno-4-175" href="#__codelineno-4-175"></a><span class="w">					</span><span class="n">hand</span><span class="p">.</span><span class="n">pinchDistance</span><span class="p">(),</span><span class="w"> </span><span class="n">hand</span><span class="p">.</span><span class="n">grabAngle</span><span class="p">(),</span><span class="w"> </span><span class="n">hand</span><span class="p">.</span><span class="n">pinchStrength</span><span class="p">(),</span><span class="w"> </span><span class="n">hand</span><span class="p">.</span><span class="n">grabStrength</span><span class="p">(),</span><span class="w"> </span><span class="n">ext</span><span class="p">);</span>
<a id="__codelineno-4-176" name="__codelineno-4-176" href="#__codelineno-4-176"></a>
<a id="__codelineno-4-177" name="__codelineno-4-177" href="#__codelineno-4-177"></a><span class="w">				</span><span class="n">font</span><span class="p">(</span><span class="n">hand</span><span class="p">.</span><span class="n">isLeftHand</span><span class="p">()</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;L&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;R&quot;</span><span class="p">)</span>
<a id="__codelineno-4-178" name="__codelineno-4-178" href="#__codelineno-4-178"></a><span class="w">					</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="n">TextStyle</span><span class="o">::</span><span class="n">Outline</span><span class="p">(</span><span class="mf">0.15</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="p">}),</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="n">Arg</span><span class="o">::</span><span class="n">rightCenter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">palmPos</span><span class="p">.</span><span class="n">movedBy</span><span class="p">(</span><span class="mi">-20</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">));</span>
<a id="__codelineno-4-179" name="__codelineno-4-179" href="#__codelineno-4-179"></a>
<a id="__codelineno-4-180" name="__codelineno-4-180" href="#__codelineno-4-180"></a><span class="w">				</span><span class="n">font</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
<a id="__codelineno-4-181" name="__codelineno-4-181" href="#__codelineno-4-181"></a><span class="w">					</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="n">Arg</span><span class="o">::</span><span class="n">leftCenter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">palmPos</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">{</span><span class="w"> </span><span class="mf">0.15</span><span class="w"> </span><span class="p">});</span>
<a id="__codelineno-4-182" name="__codelineno-4-182" href="#__codelineno-4-182"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-4-183" name="__codelineno-4-183" href="#__codelineno-4-183"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-4-184" name="__codelineno-4-184" href="#__codelineno-4-184"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-4-185" name="__codelineno-4-185" href="#__codelineno-4-185"></a><span class="p">}</span>
</code></pre></div></li>
<li><code>Math::Tau</code> や <code>0.5_tau</code> など、2π を表す定数 τ に対応しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/673">#673</a>)
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="p">{</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">	</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Math</span><span class="o">::</span><span class="n">Pi</span><span class="p">;</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">	</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Math</span><span class="o">::</span><span class="n">Tau</span><span class="p">;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">	</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Math</span><span class="o">::</span><span class="n">PiF</span><span class="p">;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">	</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Math</span><span class="o">::</span><span class="n">TauF</span><span class="p">;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">	</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">0.5</span><span class="n">_pi</span><span class="p">;</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">	</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">0.5</span><span class="n">_tau</span><span class="p">;</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="p">}</span>
</code></pre></div></li>
<li>異なる種類どうしの <code>Optional</code> の比較演算ができるようになりました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/670">#670</a>)</li>
<li><code>BigFloat</code> に <code>.isNan()</code>, <code>.isInf()</code> メンバ関数を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/669">#669</a>)</li>
<li><code>Array</code>, <code>Optional</code>, <code>BigInt</code>, <code>BigFloat</code> に三方比較演算子を実装しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/658">#658</a>)</li>
<li><code>String</code>, <code>StringView</code>, <code>UUIDValue</code> に三方比較演算子を実装しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/664">#664</a>)</li>
<li><code>DrawableText::regionBase()</code> のオーバーロードを追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/666">#666</a>)</li>
<li>Windows 版において、リフレッシュレート以上の頻度でキーボード入力を取得できる関数 <code>Platform::Windows::Keyboard::GetEvents()</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/662">#662</a>)
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="p">{</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">	</span><span class="n">uint64</span><span class="w"> </span><span class="n">eventIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Clear&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">{</span><span class="w"> </span><span class="mi">680</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="p">}))</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">			</span><span class="n">ClearPrint</span><span class="p">();</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">event</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Platform</span><span class="o">::</span><span class="n">Windows</span><span class="o">::</span><span class="n">Keyboard</span><span class="o">::</span><span class="n">GetEvents</span><span class="p">())</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">eventIndex</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="n">eventIndex</span><span class="p">)</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="w">				</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="n">timeMillisec</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Input</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">InputDeviceType</span><span class="o">::</span><span class="n">Keyboard</span><span class="p">,</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="n">code</span><span class="w"> </span><span class="p">}.</span><span class="n">name</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">event</span><span class="p">.</span><span class="n">down</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot; down (event)&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot; up (event)&quot;</span><span class="p">);</span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="w">				</span><span class="n">eventIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="n">eventIndex</span><span class="p">;</span>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>
<a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a><span class="w">		</span><span class="cm">/*</span>
<a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a><span class="cm">		for (const auto&amp; key : Keyboard::GetAllInputs())</span>
<a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a><span class="cm">		{</span>
<a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a><span class="cm">			if (key.down())</span>
<a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a><span class="cm">			{</span>
<a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a><span class="cm">				Print &lt;&lt; Time::GetMillisec() &lt;&lt; U&quot;: &quot; &lt;&lt; key.name() &lt;&lt; U&quot; down&quot;;</span>
<a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a><span class="cm">			}</span>
<a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a><span class="cm">			else if (key.up())</span>
<a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a><span class="cm">			{</span>
<a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a><span class="cm">				Print &lt;&lt; Time::GetMillisec() &lt;&lt; U&quot;: &quot; &lt;&lt; key.name() &lt;&lt; U&quot; up&quot;;</span>
<a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a><span class="cm">			}</span>
<a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a><span class="cm">		}</span>
<a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a><span class="cm">		*/</span>
<a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a><span class="p">}</span>
</code></pre></div></li>
</ul>
<h4 id="パフォーマンス向上_7">パフォーマンス向上<a class="headerlink" href="#パフォーマンス向上_7" title="Permanent link">&para;</a></h4>
<ul>
<li>スクリプトエンジンの初期化を遅延させ、スクリプト機能を使わない場合のアプリケーション初期化にかかる時間を短縮しました（数十ミリ秒） (<a href="https://github.com/Siv3D/OpenSiv3D/issues/657">#657</a>)</li>
<li>GLSL シェーダファイルのライセンス記述を簡素化し、ファイルサイズを少し削減しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/687">#687</a>)</li>
<li><code>HalfFloat</code> のメンバ関数を constexpr にしました (<a href="https://github.com/Siv3D/OpenSiv3D/pull/689">#689</a>)</li>
</ul>
<h4 id="ユーザビリティ向上_6">ユーザビリティ向上<a class="headerlink" href="#ユーザビリティ向上_6" title="Permanent link">&para;</a></h4>
<ul>
<li><code>NotoEmoji-Regular.ttf</code> をエンジンリソースに含まなくてもエンジンを初期化できるようにしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/684">#684</a>)</li>
<li><code>NotoSansCJK-Regular.ttc.zstdcmp</code> や <code>NotoSansJP-Regular.otf.zstdcmp</code> の代替にできる、最低限必要なグリフを格納したフォント <code>engine/font/min/siv3d-min.woff</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/682">#682</a>)</li>
<li>Windows 版インストーラの対応言語を増やしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/671">#671</a>)</li>
</ul>
<h4 id="仕様変更_7">仕様変更<a class="headerlink" href="#仕様変更_7" title="Permanent link">&para;</a></h4>
<ul>
<li>Web 版で通常と同じメインループが書けるようになったため、<code>SIV3D_MAINLOOP_BEGIN</code> を削除しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/674">#674</a>)</li>
<li>macOS 版と Linux 版において、ログは <code>std::cout</code> ではなく <code>std::clog</code> および <code>std::cerr</code> に出力するようにしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/630">#630</a>)</li>
<li><code>engine</code> および <code>example</code> フォルダの更新 (<a href="https://github.com/Siv3D/OpenSiv3D/issues/686">#686</a>)</li>
</ul>
<h4 id="不具合バグ修正_9">不具合・バグ修正<a class="headerlink" href="#不具合バグ修正_9" title="Permanent link">&para;</a></h4>
<ul>
<li><code>DrawableText::draw(double, Arg:: ...)</code> や <code>DrawableText::region(double, Arg ...)</code> の位置が正しくなかったバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/665">#665</a>)</li>
<li>Windows 版において<code>Window::IsToggleFullscreenEnabled()</code> が常に <code>false</code> を返すバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/699">#699</a>)</li>
<li><code>HalfFloat{ 0.0f } == HalfFloat{ -0.0f }</code> が <code>false</code> になるバグを修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/660">#660</a>)</li>
<li><code>CircularBase&lt;float, Oclock&gt;</code> 使用時に発生する警告を解消しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/667">#667</a>)</li>
</ul>
<h4 id="コントリビューション_8">コントリビューション<a class="headerlink" href="#コントリビューション_8" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://github.com/nokotan">nokotan</a>: <strong>Web 版を更新</strong></li>
<li><a href="https://github.com/tetsurom">tetsurom</a>: <code>HalfFloat</code> の実装改善, <code>Optional</code> の実装改善, <code>BigFloat</code> の実装改善, 各種クラスへの三方比較演算子の実装</li>
</ul>
</details>
<details class="summary">
<summary>v0.6.2 | 2021-09-29</summary>
<h4 id="パフォーマンス向上_8">パフォーマンス向上<a class="headerlink" href="#パフォーマンス向上_8" title="Permanent link">&para;</a></h4>
<ul>
<li>Windows 版でアプリケーションの起動を高速化しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/650">#650</a>, <a href="https://github.com/Siv3D/OpenSiv3D/issues/651">#651</a>)</li>
<li>メモリ / VRAM の消費量を削減しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/648">#648</a>)</li>
</ul>
<h4 id="不具合バグ修正_10">不具合・バグ修正<a class="headerlink" href="#不具合バグ修正_10" title="Permanent link">&para;</a></h4>
<ul>
<li>Windows 版で重い描画処理を行ったときに v0.4.3 よりもフレームレートが低下することがあった問題を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/652">#652</a>)</li>
<li>Windows 版、プロジェクトテンプレートの stdafx.h を Header Files フィルタに移動しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/653">#653</a>)</li>
</ul>
</details>
<details class="summary">
<summary>v0.6.1 | 2021-09-21</summary>
<h4 id="新機能_10">新機能<a class="headerlink" href="#新機能_10" title="Permanent link">&para;</a></h4>
<ul>
<li>SDF / MSDF テクスチャ描画時のパラメータを簡単に指定できる <code>Graphics2D::SetSDFParameters(const TextStyle&amp;)</code>, <code>Graphics2D::SetMSDFParameters(const TextStyle&amp;)</code> を追加しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/647">#647</a>)</li>
</ul>
<h4 id="ユーザビリティ向上_7">ユーザビリティ向上<a class="headerlink" href="#ユーザビリティ向上_7" title="Permanent link">&para;</a></h4>
<ul>
<li>Windows 版のプロジェクトで発生していたビルド時の IntelliSense の警告を 2 件抑制しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/643">#643</a>)</li>
<li>ドキュメンテーションを追加しました</li>
</ul>
<h4 id="仕様変更_8">仕様変更<a class="headerlink" href="#仕様変更_8" title="Permanent link">&para;</a></h4>
<ul>
<li><code>Monitor</code> は <code>MonitorInfo</code> に名前が変更されました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/649">#649</a>)</li>
<li><code>UUID</code> は <code>UUIDValue</code> に名前が変更されました</li>
</ul>
<h4 id="不具合バグ修正_11">不具合・バグ修正<a class="headerlink" href="#不具合バグ修正_11" title="Permanent link">&para;</a></h4>
<ul>
<li>v0.6.0 において、Windows 版でタッチ操作をしたときに左クリックと判定されにくくなっていた不具合を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/645">#645</a>)</li>
<li>v0.6.0 において、<code>&lt;Siv3D/Windows/Windows.hpp&gt;</code> をインクルードするとコンパイルエラーになっていた問題を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/644">#644</a>)</li>
<li>v0.6.0 において、<code>Platform::Windows::GetHWND()</code> が実装されていなかった問題を修正しました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/646">#646</a>)</li>
<li><code>MathParser</code> に空の文字列を渡したときに例外を投げないようにしました (<a href="https://github.com/Siv3D/OpenSiv3D/issues/641">#641</a>)</li>
</ul>
</details>
<details class="summary">
<summary>v0.6.0 | 2021-09-18</summary>
<h4 id="新機能_11">新機能<a class="headerlink" href="#新機能_11" title="Permanent link">&para;</a></h4>
<ul>
<li>基本的な 3D 描画に対応しました</li>
<li>C++20 に対応し、Concepts や Designated initialization, コンストラクタへの <code>[[nodiscard]]</code>, 宇宙船演算子、より多くの <code>constexpr</code>, 新しい標準機能ライブラリ機能などが活用されています</li>
<li>試験的な Web 版の実装を追加しました (詳しくは <a href="https://siv3d.kamenokosoft.com/ja/index">OpenSiv3D for Web</a>)</li>
<li>Windows で OpenGL バックエンドが利用可能になりました (詳しくは チュートリアル 35)</li>
<li>ファイルの非同期ダウンロードなどを行う HTTP クライアント機能を追加しました</li>
<li>デフォルトで HighDPI に対応しました</li>
<li>SVG ファイルの読み込みに対応しました</li>
<li>MIDI ファイルの読み込みに対応しました</li>
<li>動画をテクスチャとして扱える <code>VideoTexture</code> クラスを追加しました</li>
<li>Windows でペンタブレットの入力（筆圧・傾き）を取得する機能を追加しました</li>
<li>2D 描画でカスタム頂点シェーダを利用できるようになりました。3D でも頂点シェーダ、ピクセルシェーダをカスタマイズできます</li>
<li>すべてのプラットフォームでオーディオのフェードイン・フェードアウト（再生、停止、音量、パン、スピード）をサポートしました</li>
<li>HPF, LPF, ピッチシフトなどのリアルタイム音声フィルタ機能を追加しました</li>
<li>文字の輪郭や Polygon を正確に取得できるようになりました</li>
<li><code>Font</code> のレンダリング形式に SDF / MSDF を指定できるようになりました</li>
<li><code>Font</code> の拡大縮小描画、輪郭、シャドウに対応しました</li>
<li>オーディオファイルのストリーミング再生に対応しました</li>
<li><code>String</code> 型に対応した、正規表現を扱う機能を追加しました</li>
<li>実行ファイルに埋める文字列の難読化をする機能を追加しました</li>
<li>デマングルを行う関数を追加しました</li>
<li>Kahan の加算アルゴリズムを行うクラスを追加しました</li>
<li>128-bit 整数型を追加しました</li>
<li><code>Stopwatch</code> や <code>Timer</code> がユーザ定義の基準時刻インタフェース <code>ISteadyClock</code> を利用することで、複数の <code>Stopwatch</code> や <code>Timer</code> を一括して一時停止させたり、遅く/早く進行させることが容易になりました</li>
<li><code>TimeProfiler</code> がより詳細な統計情報を提供するようになりました</li>
<li>地理空間データの交換形式である GeoJSON を読み込む機能を追加しました</li>
<li>多くの数学定数を追加しました</li>
<li><code>JSONReader</code>, <code>JSONWriter</code> を統合した <code>JSON</code> クラスを追加しました</li>
<li>簡易的なキーフレームによるアニメーションを行う <code>SimpleAnimation</code> クラスを追加しました</li>
<li>統計処理を行う関数を追加しました</li>
<li>数値に応じたカラーマップを行う機能を追加しました</li>
<li>ベクトルクラスに多数の便利なメンバ関数を追加しました</li>
<li>図形クラスに多数の便利なメンバ関数を追加しました</li>
<li><code>Shape2D</code> にハート形、両方向矢印、Squircle 形を追加しました </li>
<li><code>Polygon</code> に柔軟にテクスチャをマッピングする機能を追加しました</li>
<li>長方形詰込みに 90° 回転を許可するオプションを追加しました</li>
<li>ホモグラフィ変換を行うための機能を追加しました</li>
<li>各種乱数関数が乱数エンジンを引数に取れるようになりました</li>
<li>UUID 生成機能を追加しました</li>
<li>環境変数の取得機能を追加しました</li>
<li>コマンドライン引数の取得機能を追加しました</li>
<li>モニターの物理サイズなど、詳細な情報を取得できるようになりました</li>
<li>シリアル通信の詳細なオプションを追加しました</li>
<li>Klat 方式による音声読み上げ機能を追加しました</li>
<li>画像形式 WebP, TIFF の読み込みに対応しました</li>
<li>音声形式 Opus, AIFF, FLAC, MIDI, WMA の読み込みに対応しました</li>
<li>画像の一部分に画像処理を適用できるようになりました</li>
<li>GrabCut 機能を追加しました</li>
<li>QR コード生成機能を改善しました</li>
<li><code>VideoWriter</code> を改善しました</li>
<li>サウンドフォントファイルを利用できるようになりました</li>
<li>マウスカーソルのスタイルを追加しました</li>
<li>全てのキー入力を取得する関数を追加しました</li>
<li>アセット管理における非同期ロードがより便利になりました</li>
<li>example ファイルを多数追加しました</li>
<li>ナビメッシュがより簡単に使えるようになりました</li>
<li><code>Spline2D</code> クラスを追加しました</li>
<li>図形の輪郭の一部の取得に対応しました</li>
<li>図形の Lerp に対応しました</li>
<li>GPU だけでの三角形描画に対応しました</li>
<li>カスタムマウスカーソルに対応しました</li>
<li>オーディオをグループ化し、グループごとに音量を調整できる機能を追加しました</li>
<li>Ogg Vorbis のループタグ取得に対応しました</li>
<li>レーベンシュタイン距離機能を追加しました</li>
<li>凹包 (Concave hull) 機能を追加しました</li>
<li>柔軟な画像デコーダ、エンコーダクラスを追加されました</li>
<li>閉 / 開区間を指定した乱数生成を追加しました</li>
<li>SIV3D_SET() によるビルド時のエンジン設定機能を追加しました</li>
<li>Effect の再帰が可能になりました</li>
<li>CJK フォントを追加し、<code>Print</code> が中国語、韓国語の表示に対応しました</li>
<li>動画ファイルを読み込む <code>VideoReader</code> クラスを追加しました</li>
<li>2D 物理演算の機能を追加しました</li>
<li>Siv3D くんドット絵素材が追加されました</li>
<li>Siv3D くん .obj 3D モデルファイルが追加されました</li>
<li><code>Image::stamp()</code> が追加されました</li>
<li><code>Line::drawDoubleHeadedArrow()</code> で両方向矢印を描けるようになりました</li>
<li>スクリーンショット保存のショートカットキーをカスタマイズできるようになりました</li>
<li>スクリプト機能を大幅に改善しました</li>
<li>2D 図形の交差判定をより多くの組み合わせに対応しました</li>
<li>多くの 3D 形状のクラスを追加しました</li>
<li>Linux 版の IMEの挙動を改善しました</li>
<li>ユーザアドオンの追加機能を追加しました</li>
<li>その他多数の新機能が追加されています</li>
</ul>
<h4 id="パフォーマンス向上_9">パフォーマンス向上<a class="headerlink" href="#パフォーマンス向上_9" title="Permanent link">&para;</a></h4>
<ul>
<li>Windows 版のアプリの起動時間が数百ミリ秒前後短縮しました</li>
<li><code>Heterogeneous lookup</code> により、文字列リテラルや <code>StringView</code> で <code>HashTable</code> や <code>HashSet</code> のルックアップをする際の実行時性能が向上しました</li>
<li>ファイルの読み書き、画像ファイルや音声ファイルのロードが高速になりました</li>
<li><code>Parse</code> / <code>ParseOpt</code> / <code>ParseOr</code> の速度を改善しました</li>
</ul>
<h4 id="ユーザビリティ向上_8">ユーザビリティ向上<a class="headerlink" href="#ユーザビリティ向上_8" title="Permanent link">&para;</a></h4>
<ul>
<li>インライン関数が .hpp ファイルから .ipp ファイルに移され、ヘッダファイルが読みやすくなりました</li>
<li>Windows 版のプロジェクトがデフォルトでプリコンパイル済みファイルを使用するようになり、ビルドが高速化しました</li>
</ul>
<h4 id="仕様変更_9">仕様変更<a class="headerlink" href="#仕様変更_9" title="Permanent link">&para;</a></h4>
<ul>
<li>bool 型の関数パラメータの多くが、名前の付いた YesNo 型に置き換えられ、コードの可読性が向上しました</li>
<li><code>Optional</code> 型が C++ 標準の <code>std::optional</code> に近い動作をするよう改善されました</li>
<li><code>HashTable</code> 型が C++ 標準の <code>std::unordered_map</code> に近い動作をするよう改善されました</li>
<li><code>KDTree</code> がより短い記述で利用可能になりました</li>
<li><code>Concurrenttask</code> は <code>AsyncTask</code> に名前が変更されました</li>
<li>子プロセス作成関数は <code>ChildProcess</code> クラスに統合されました</li>
<li><code>Unicode::FromWString()</code> は <code>Unicode::FromWstring()</code> に名前が変更されました</li>
<li>浮動小数点数型の <code>U"{}"_fmt(x)</code> は、有効桁数すべてを表示するようになりました</li>
<li><code>Time::Get～</code> はシステム起動時間ではなく、アプリケーション起動からの時間を返すようになりました</li>
<li><code>CustomStopwatch</code> は <code>VariableSpeedStopwatch</code> に名前が変更されました</li>
<li><code>FileSystem::SpecialFolderPath()</code> は <code>FileSystem::GetFolderPath()</code> に名前が変更されました</li>
<li><code>FileSystem::UniqueFilePath()</code> は UUID 機能を使って名前を作るようになりました</li>
<li><code>ByteArray</code> は <code>Blob</code> および <code>MemoryReader</code> に置き換えられました</li>
<li><code>CSVData</code> は <code>CSV</code> に名前が変更されました</li>
<li><code>INIData</code> は <code>INI</code> に名前が変更されました</li>
<li><code>JSONReader</code>, <code>JSONWriter</code> は <code>JSON</code> に統合されました</li>
<li><code>EasingController</code> は <code>EasingAB</code> に名前が変更されました</li>
<li><code>Sprite</code> は <code>Buffer2D</code> に置き換えられました</li>
<li>インデックス配列は <code>TriangleIndex</code> を使うようになりました</li>
<li><code>MessageBox</code> の仕様が変わりました</li>
<li>トースト通知の仕様が変わりました</li>
<li>物体検出機能は <code>CascadeClassifier</code> に置き換えられました</li>
<li><code>Key</code> は <code>Input</code> になりました</li>
<li>絵文字とアイコンデータセットを更新し使える絵文字やアイコンの種類が大幅に増えました</li>
<li><code>Image</code> の最大サイズを 1 辺 8192px → 16384px に拡張しました</li>
<li>ConstantBuffer サイズ 16 × N バイト制約が撤廃されました</li>
<li>並列実行に関する機能は <code>SIV3D_CONCURRENT</code> マクロを定義しなくても使えるようになりました</li>
<li>High DPI ウィンドウがデフォルトになり、<code>SIV3D_WINDOWS_HIGH_DPI</code> マクロは廃止されました</li>
</ul>
<h4 id="不具合バグ修正_12">不具合・バグ修正<a class="headerlink" href="#不具合バグ修正_12" title="Permanent link">&para;</a></h4>
<ul>
<li><code>Array</code> の並列関数の不具合を修正しました</li>
<li><code>AsyncTask</code> のプラットフォーム間による差異を解消しました</li>
<li>Windows の <code>MakeDragDrop()</code> の不具合を修正しました</li>
<li>PPM 画像読み込みの不具合を修正しました</li>
<li>プラットフォームごとの乱数の再現性の改善しました</li>
<li>QR コード生成の不具合を修正しました</li>
</ul>
<h4 id="注意点">注意点<a class="headerlink" href="#注意点" title="Permanent link">&para;</a></h4>
<ul>
<li><code>Math::SmoothDmap()</code> の引数順が変更されています。コンパイルエラーで発見できません</li>
<li>フォントの縦書き機能は一時的に非搭載になりました</li>
<li>自然言語処理機能は一時的に非搭載になりました</li>
<li><code>SimpleGUIManager</code> 機能はキャンセルされました</li>
<li><code>NoiseGenerator</code> クラスは一時的に非搭載になりました</li>
<li>Shift_JIS 形式のテキストファイルはサポートしなくなりました</li>
<li>シーンのリサイズについて、仕組みが変更されました (チュートリアル 15 参照)</li>
<li>絵文字のデザインが変更されました</li>
<li>乱数の再現性が v0.4.3 と互換がありません</li>
<li>2D 物理演算は cm をデフォルトの単位に変更しました</li>
<li><code>Glyph</code> 単位での描画の方法が変更されました</li>
<li>Windows 版は <code>&lt;Siv3D.hpp&gt;</code> のプリコンパイル済みを全てのソースファイルで自動でインクルードするようになりました。Main.cpp にある <code># include &lt;Siv3D.hpp&gt;</code> は実質的には無意味です。<code># define NO_S3D_USING</code> が必要な場合はプリコンパイル済みヘッダ作成用ヘッダ <code>stdafx.h</code> で行ってください</li>
<li><code>Audio</code> は <code>Wave</code> と互換の形式でデータを保持しなくなりました。<code>.getWave()</code> は <code>.getSamples()</code> に置き換わりました。<code>GlobalAudio::BusGetSamples()</code> も利用できます</li>
</ul>
<h4 id="コントリビューション_9">コントリビューション<a class="headerlink" href="#コントリビューション_9" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://github.com/nokotan">nokotan</a>: <strong>Web 版開発を全面的に担当</strong></li>
<li><a href="https://github.com/Ebishu-0309">Ebishu-0309</a>: <strong><code>Geometry2D::</code> に多数の関数を実装</strong>, <strong><code>Shape2D::Squircle()</code> の実装</strong>, <code>Bezier2</code>, <code>Bezier3</code> の <code>.boundingRect()</code> を実装, コードの改善</li>
<li><a href="https://github.com/taotao54321">taotao54321</a>: <code>Grid</code> の修正, コードの改善</li>
<li><a href="https://github.com/sthairno">sthairno</a>: <strong>Linux 版の IME 処理改善</strong></li>
<li><a href="https://github.com/itakawa">itakawa</a> : <strong>Siv3D くん .obj ファイル提供</strong></li>
<li><a href="https://github.com/take-cheeze">take-cheeze</a>: <strong>GitHub Actions を使った CI の整備</strong></li>
<li><a href="https://github.com/Luke256">Luke256</a>: コードの改善</li>
<li><a href="https://github.com/YASAI03">YASAI03</a>: <strong>HTTP クライアント機能 <code>SimpleHTTP</code> の提案・実装</strong></li>
<li><a href="https://github.com/falrnd">falrnd</a>: <code>Geometry2D</code> の交差判定の改善</li>
<li><a href="https://github.com/yurkth">yurkth</a>: <strong><code>GeoJSON</code> 関連の機能を提案・実装</strong></li>
<li><a href="https://github.com/ianCK">ianCK</a>: コードの改善</li>
<li><a href="https://github.com/lriki">lriki</a>: <strong>Siv3D くんドット絵素材の提供</strong></li>
<li><a href="https://github.com/Ryoga-exe">Ryoga-exe</a>: <code>Color::gamma()</code> のバグ修正</li>
<li><a href="https://github.com/sivboard">sivboard</a>: スクリプト機能の実装追加とバグ修正</li>
<li><a href="https://github.com/agehama">agehama</a>: PPM 画像読み込みのバグ修正</li>
<li><a href="https://github.com/kurokoji">kurokoji</a>: <strong>Linux 版 MessageBox の追加</strong></li>
<li><a href="https://github.com/ichi-raven">ichi-raven</a>: コードの改善</li>
<li><a href="https://github.com/azaika">azaika</a>: <strong><code>JSON</code> クラスの設計・実装</strong></li>
</ul>
<h4 id="opensiv3d-チャレンジ_1">OpenSiv3D チャレンジ<a class="headerlink" href="#opensiv3d-チャレンジ_1" title="Permanent link">&para;</a></h4>
<ul>
<li>#01 統計関数: 白坂, マキア, fal_rnd</li>
<li>#03 <code>Shape2D::Heart</code>: 野菜ジュース, てゃいの</li>
<li>#04 2D 図形の交差判定: Ebishu, fal_rnd, きつねび</li>
<li><a href="https://zenn.dev/link/comments/ed180236e76181">#05 Squircle</a>: Ebishu, Ryoga.exe</li>
<li><a href="https://zenn.dev/link/comments/76224190023391">#07 国と都市</a>: torin (yurkth)</li>
<li><a href="https://zenn.dev/link/comments/e75e5e80eee914">#10 <code>OutlineGlyph</code> to <code>Array&lt;Polygon&gt;</code></a>: Ebishu, fal_rnd</li>
</ul>
</details>
<h2 id="v04-世代">v0.4 世代<a class="headerlink" href="#v04-世代" title="Permanent link">&para;</a></h2>
<details class="summary">
<summary>v0.4.3 | 2020-04-11</summary>
<h4 id="1-ドロネー図ボロノイ図の作成">1. ドロネー図、ボロノイ図の作成<a class="headerlink" href="#1-ドロネー図ボロノイ図の作成" title="Permanent link">&para;</a></h4>
<p>ドロネー図、ボロノイ図の計算を行う <code>Subdivision2D</code> クラスが追加されました。
<img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v043/01.gif?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="p">{</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">	</span><span class="n">Window</span><span class="o">::</span><span class="n">Resize</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">);</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.99</span><span class="p">));</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Rect</span><span class="w"> </span><span class="n">rect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="n">Scene</span><span class="o">::</span><span class="n">Size</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Size</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">));</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">	</span><span class="n">Subdivision2D</span><span class="w"> </span><span class="n">subdiv</span><span class="p">(</span><span class="n">rect</span><span class="p">);</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="w">	</span><span class="c1">// ドロネー三角形分割の三角形リスト</span>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="w">	</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">Triangle</span><span class="o">&gt;</span><span class="w"> </span><span class="n">triangles</span><span class="p">;</span>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="w">	</span><span class="c1">// ボロノイ図の情報のリスト</span>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="w">	</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">VoronoiFacet</span><span class="o">&gt;</span><span class="w"> </span><span class="n">facets</span><span class="p">;</span>
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="w">	</span><span class="c1">// facets を長方形でクリップし Polygon に変換したリスト</span>
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="w">	</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">Polygon</span><span class="o">&gt;</span><span class="w"> </span><span class="n">facetPolygons</span><span class="p">;</span>
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="n">Vec2</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cursor</span><span class="o">::</span><span class="n">Pos</span><span class="p">();</span>
<a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a>
<a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a><span class="w">		</span><span class="c1">// 長方形上をクリックしたら</span>
<a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="n">leftClicked</span><span class="p">())</span>
<a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a><span class="w">			</span><span class="c1">// 点を追加</span>
<a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a><span class="w">			</span><span class="n">subdiv</span><span class="p">.</span><span class="n">addPoint</span><span class="p">(</span><span class="n">pos</span><span class="p">);</span>
<a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a>
<a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a><span class="w">			</span><span class="c1">// ドロネー三角形分割の計算</span>
<a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a><span class="w">			</span><span class="n">subdiv</span><span class="p">.</span><span class="n">calculateTriangles</span><span class="p">(</span><span class="n">triangles</span><span class="p">);</span>
<a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a>
<a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a><span class="w">			</span><span class="c1">// ボロノイ図の計算</span>
<a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a><span class="w">			</span><span class="n">subdiv</span><span class="p">.</span><span class="n">calculateVoronoiFacets</span><span class="p">(</span><span class="n">facets</span><span class="p">);</span>
<a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a>
<a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a><span class="w">			</span><span class="c1">// 長方形の範囲外をクリップ</span>
<a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a><span class="w">			</span><span class="n">facetPolygons</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">facets</span><span class="p">.</span><span class="n">map</span><span class="p">([</span><span class="n">rect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="n">asPolygon</span><span class="p">()](</span><span class="k">const</span><span class="w"> </span><span class="n">VoronoiFacet</span><span class="o">&amp;</span><span class="w"> </span><span class="n">f</span><span class="p">)</span>
<a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-7-39" name="__codelineno-7-39" href="#__codelineno-7-39"></a><span class="w">				</span><span class="k">return</span><span class="w"> </span><span class="n">Geometry2D</span><span class="o">::</span><span class="n">And</span><span class="p">(</span><span class="n">Polygon</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">points</span><span class="p">),</span><span class="w"> </span><span class="n">rect</span><span class="p">).</span><span class="n">front</span><span class="p">();</span>
<a id="__codelineno-7-40" name="__codelineno-7-40" href="#__codelineno-7-40"></a><span class="w">			</span><span class="p">});</span>
<a id="__codelineno-7-41" name="__codelineno-7-41" href="#__codelineno-7-41"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-7-42" name="__codelineno-7-42" href="#__codelineno-7-42"></a>
<a id="__codelineno-7-43" name="__codelineno-7-43" href="#__codelineno-7-43"></a><span class="w">		</span><span class="n">rect</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.75</span><span class="p">));</span>
<a id="__codelineno-7-44" name="__codelineno-7-44" href="#__codelineno-7-44"></a>
<a id="__codelineno-7-45" name="__codelineno-7-45" href="#__codelineno-7-45"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">facetPolygon</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Indexed</span><span class="p">(</span><span class="n">facetPolygons</span><span class="p">))</span>
<a id="__codelineno-7-46" name="__codelineno-7-46" href="#__codelineno-7-46"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-7-47" name="__codelineno-7-47" href="#__codelineno-7-47"></a><span class="w">			</span><span class="n">facetPolygon</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">25.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.65</span><span class="p">,</span><span class="w"> </span><span class="mf">0.8</span><span class="p">)).</span><span class="n">drawFrame</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.25</span><span class="p">));</span>
<a id="__codelineno-7-48" name="__codelineno-7-48" href="#__codelineno-7-48"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-7-49" name="__codelineno-7-49" href="#__codelineno-7-49"></a>
<a id="__codelineno-7-50" name="__codelineno-7-50" href="#__codelineno-7-50"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">triangle</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">triangles</span><span class="p">)</span>
<a id="__codelineno-7-51" name="__codelineno-7-51" href="#__codelineno-7-51"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-7-52" name="__codelineno-7-52" href="#__codelineno-7-52"></a><span class="w">			</span><span class="n">triangle</span><span class="p">.</span><span class="n">drawFrame</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.9</span><span class="p">));</span>
<a id="__codelineno-7-53" name="__codelineno-7-53" href="#__codelineno-7-53"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-7-54" name="__codelineno-7-54" href="#__codelineno-7-54"></a>
<a id="__codelineno-7-55" name="__codelineno-7-55" href="#__codelineno-7-55"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">facet</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">facets</span><span class="p">)</span>
<a id="__codelineno-7-56" name="__codelineno-7-56" href="#__codelineno-7-56"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-7-57" name="__codelineno-7-57" href="#__codelineno-7-57"></a><span class="w">			</span><span class="n">Circle</span><span class="p">(</span><span class="n">facet</span><span class="p">.</span><span class="n">center</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">).</span><span class="n">drawFrame</span><span class="p">(</span><span class="mi">5</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.25</span><span class="p">));</span>
<a id="__codelineno-7-58" name="__codelineno-7-58" href="#__codelineno-7-58"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-7-59" name="__codelineno-7-59" href="#__codelineno-7-59"></a>
<a id="__codelineno-7-60" name="__codelineno-7-60" href="#__codelineno-7-60"></a><span class="w">		</span><span class="c1">// 現在のマウスカーソルから最短距離にある点を探す</span>
<a id="__codelineno-7-61" name="__codelineno-7-61" href="#__codelineno-7-61"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">nearestVertexID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subdiv</span><span class="p">.</span><span class="n">findNearest</span><span class="p">(</span><span class="n">pos</span><span class="p">))</span>
<a id="__codelineno-7-62" name="__codelineno-7-62" href="#__codelineno-7-62"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-7-63" name="__codelineno-7-63" href="#__codelineno-7-63"></a><span class="w">			</span><span class="k">const</span><span class="w"> </span><span class="n">Vec2</span><span class="w"> </span><span class="n">nearestVertex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subdiv</span><span class="p">.</span><span class="n">getVertex</span><span class="p">(</span><span class="n">nearestVertexID</span><span class="p">.</span><span class="n">value</span><span class="p">());</span>
<a id="__codelineno-7-64" name="__codelineno-7-64" href="#__codelineno-7-64"></a><span class="w">			</span><span class="n">Line</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">nearestVertex</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">LineStyle</span><span class="o">::</span><span class="n">RoundDot</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.6</span><span class="p">));</span>
<a id="__codelineno-7-65" name="__codelineno-7-65" href="#__codelineno-7-65"></a><span class="w">			</span><span class="n">Circle</span><span class="p">(</span><span class="n">nearestVertex</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">).</span><span class="n">drawFrame</span><span class="p">(</span><span class="mf">3.5</span><span class="p">);</span>
<a id="__codelineno-7-66" name="__codelineno-7-66" href="#__codelineno-7-66"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-7-67" name="__codelineno-7-67" href="#__codelineno-7-67"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-7-68" name="__codelineno-7-68" href="#__codelineno-7-68"></a><span class="p">}</span>
</code></pre></div>
<h4 id="2-長方形詰込み">2. 長方形詰込み<a class="headerlink" href="#2-長方形詰込み" title="Permanent link">&para;</a></h4>
<p>長方形の集合を、別の大きな長方形に効率的に詰め込む問題を解決する <code>std::pair&lt;Array&lt;Rect&gt;, Size&gt;  RectanglePacking::Pack(const Array&lt;Rect&gt;&amp; rects, int32 maxSide)</code> 関数が追加されました。詰め込み後の長方形のリストと、それらを詰め込める最小の長方形のサイズのペアを返します。入力の <code>rects</code> の位置情報は無視されます。<code>maxSide</code> は幅または高さの最大値で、これに収まらない場合は空の配列と <code>Size(0, 0)</code> のペアを返します。配列に含まれる長方形の順番は、入力と出力で変わりません。
<img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v043/02.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="p">{</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.99</span><span class="p">));</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">	</span><span class="c1">// 詰め込む長方形</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">		</span><span class="n">Rect</span><span class="p">(</span><span class="mi">240</span><span class="p">,</span><span class="w"> </span><span class="mi">210</span><span class="p">),</span><span class="w"> </span><span class="n">Rect</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">),</span><span class="w"> </span><span class="n">Rect</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">120</span><span class="p">),</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w">		</span><span class="n">Rect</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="mi">120</span><span class="p">),</span><span class="w"> </span><span class="n">Rect</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">),</span><span class="w"> </span><span class="n">Rect</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="mi">240</span><span class="p">)</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="w">	</span><span class="p">};</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="w">	</span><span class="c1">// 詰め込みを計算</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">Size</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RectanglePacking</span><span class="o">::</span><span class="n">Pack</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="mi">600</span><span class="p">);</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="w">		</span><span class="n">Rect</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">second</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.7</span><span class="p">));</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Indexed</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">first</span><span class="p">))</span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="w">			</span><span class="n">rect</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">40.0</span><span class="p">));</span>
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="p">}</span>
</code></pre></div>
<p>アニメーション</p>
<p><video src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v043/02.mp4?raw=true" autoplay loop muted playsinline></video></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="c1">// ランダムな長方形の配列を作成</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="n">Array</span><span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span><span class="w"> </span><span class="n">GenerateRandomRects</span><span class="p">()</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="p">{</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">	</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rects</span><span class="p">(</span><span class="n">Random</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">));</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">	</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rect</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">rects</span><span class="p">)</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="n">Point</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RandomPoint</span><span class="p">(</span><span class="n">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">Scene</span><span class="o">::</span><span class="n">Size</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Size</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">)));</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="w">		</span><span class="n">rect</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">Random</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">),</span><span class="w"> </span><span class="n">Random</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">));</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="n">rects</span><span class="p">;</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="p">}</span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="kt">void</span><span class="w"> </span><span class="n">Main</span><span class="p">()</span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="p">{</span>
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="w">	</span><span class="n">Window</span><span class="o">::</span><span class="n">Resize</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">);</span>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.99</span><span class="p">));</span>
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="w">	</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span><span class="w"> </span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">;</span>
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="w">	</span><span class="n">Size</span><span class="w"> </span><span class="nf">size</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="w">	</span><span class="n">Point</span><span class="w"> </span><span class="nf">offset</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="w">	</span><span class="n">Stopwatch</span><span class="w"> </span><span class="n">s</span><span class="p">;</span>
<a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a>
<a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">s</span><span class="p">.</span><span class="n">isStarted</span><span class="p">()</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1.8</span><span class="n">s</span><span class="p">)</span>
<a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a><span class="w">			</span><span class="n">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GenerateRandomRects</span><span class="p">();</span>
<a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="w">			</span><span class="n">std</span><span class="o">::</span><span class="n">tie</span><span class="p">(</span><span class="n">output</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RectanglePacking</span><span class="o">::</span><span class="n">Pack</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="mi">1024</span><span class="p">);</span>
<a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a>
<a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a><span class="w">			</span><span class="c1">// 画面中央に表示するよう位置を調整</span>
<a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a><span class="w">			</span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Size</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-9-35" name="__codelineno-9-35" href="#__codelineno-9-35"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rect</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">output</span><span class="p">)</span>
<a id="__codelineno-9-36" name="__codelineno-9-36" href="#__codelineno-9-36"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-9-37" name="__codelineno-9-37" href="#__codelineno-9-37"></a><span class="w">				</span><span class="n">rect</span><span class="p">.</span><span class="n">moveBy</span><span class="p">(</span><span class="n">offset</span><span class="p">);</span>
<a id="__codelineno-9-38" name="__codelineno-9-38" href="#__codelineno-9-38"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-9-39" name="__codelineno-9-39" href="#__codelineno-9-39"></a>
<a id="__codelineno-9-40" name="__codelineno-9-40" href="#__codelineno-9-40"></a><span class="w">			</span><span class="n">s</span><span class="p">.</span><span class="n">restart</span><span class="p">();</span>
<a id="__codelineno-9-41" name="__codelineno-9-41" href="#__codelineno-9-41"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-9-42" name="__codelineno-9-42" href="#__codelineno-9-42"></a>
<a id="__codelineno-9-43" name="__codelineno-9-43" href="#__codelineno-9-43"></a><span class="w">		</span><span class="c1">// アニメーション</span>
<a id="__codelineno-9-44" name="__codelineno-9-44" href="#__codelineno-9-44"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Min</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">sF</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
<a id="__codelineno-9-45" name="__codelineno-9-45" href="#__codelineno-9-45"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Saturate</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">sF</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">0.2</span><span class="p">);</span>
<a id="__codelineno-9-46" name="__codelineno-9-46" href="#__codelineno-9-46"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EaseInOutExpo</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
<a id="__codelineno-9-47" name="__codelineno-9-47" href="#__codelineno-9-47"></a>
<a id="__codelineno-9-48" name="__codelineno-9-48" href="#__codelineno-9-48"></a><span class="w">		</span><span class="n">Rect</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.7</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">));</span>
<a id="__codelineno-9-49" name="__codelineno-9-49" href="#__codelineno-9-49"></a>
<a id="__codelineno-9-50" name="__codelineno-9-50" href="#__codelineno-9-50"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="n">size</span><span class="p">()))</span>
<a id="__codelineno-9-51" name="__codelineno-9-51" href="#__codelineno-9-51"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-9-52" name="__codelineno-9-52" href="#__codelineno-9-52"></a><span class="w">			</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">input</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-9-53" name="__codelineno-9-53" href="#__codelineno-9-53"></a><span class="w">			</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-9-54" name="__codelineno-9-54" href="#__codelineno-9-54"></a><span class="w">			</span><span class="k">const</span><span class="w"> </span><span class="n">Vec2</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="n">pos</span><span class="p">.</span><span class="n">lerp</span><span class="p">(</span><span class="n">out</span><span class="p">.</span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<a id="__codelineno-9-55" name="__codelineno-9-55" href="#__codelineno-9-55"></a><span class="w">			</span><span class="k">const</span><span class="w"> </span><span class="n">RectF</span><span class="w"> </span><span class="nf">rect</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">out</span><span class="p">.</span><span class="n">size</span><span class="p">);</span>
<a id="__codelineno-9-56" name="__codelineno-9-56" href="#__codelineno-9-56"></a><span class="w">			</span><span class="n">rect</span><span class="p">.</span><span class="n">scaledAt</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="n">center</span><span class="p">(),</span><span class="w"> </span><span class="n">k</span><span class="p">)</span>
<a id="__codelineno-9-57" name="__codelineno-9-57" href="#__codelineno-9-57"></a><span class="w">				</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">25.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.65</span><span class="p">,</span><span class="w"> </span><span class="mf">0.9</span><span class="p">))</span>
<a id="__codelineno-9-58" name="__codelineno-9-58" href="#__codelineno-9-58"></a><span class="w">				</span><span class="p">.</span><span class="n">drawFrame</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.25</span><span class="p">));</span>
<a id="__codelineno-9-59" name="__codelineno-9-59" href="#__codelineno-9-59"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-9-60" name="__codelineno-9-60" href="#__codelineno-9-60"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-9-61" name="__codelineno-9-61" href="#__codelineno-9-61"></a><span class="p">}</span>
</code></pre></div>
<h4 id="3-gif-アニメーション読み込み">3. GIF アニメーション読み込み<a class="headerlink" href="#3-gif-アニメーション読み込み" title="Permanent link">&para;</a></h4>
<p>GIF アニメーションファイルを読み込み、一連のフレームの Image と、フレームごとの表示時間を取得する <code>AnimatedGIFReader</code> クラスが追加されました。
<img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v043/03.gif?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="c1">// アニメーション描画用のクラス</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="k">struct</span><span class="w"> </span><span class="nc">AnimationTexture</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="p">{</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">	</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">Texture</span><span class="o">&gt;</span><span class="w"> </span><span class="n">textures</span><span class="p">;</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">	</span><span class="c1">// フレームの時間</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">	</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">int32</span><span class="o">&gt;</span><span class="w"> </span><span class="n">delays</span><span class="p">;</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">	</span><span class="n">int32</span><span class="w"> </span><span class="n">duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">	</span><span class="k">explicit</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="kt">bool</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">noexcept</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="n">textures</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">();</span>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="w">	</span><span class="n">Size</span><span class="w"> </span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">noexcept</span>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">textures</span><span class="p">)</span>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="w">			</span><span class="k">return</span><span class="w"> </span><span class="n">Size</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a>
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">textures</span><span class="p">.</span><span class="n">front</span><span class="p">().</span><span class="n">size</span><span class="p">();</span>
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a>
<a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a><span class="w">	</span><span class="kt">size_t</span><span class="w"> </span><span class="n">frames</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">noexcept</span>
<a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">textures</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
<a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a>
<a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a><span class="w">	</span><span class="kt">size_t</span><span class="w"> </span><span class="n">getFrameIndex</span><span class="p">(</span><span class="n">int32</span><span class="w"> </span><span class="n">timeMillisec</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">noexcept</span>
<a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">AnimatedGIFReader</span><span class="o">::</span><span class="n">MillisecToIndex</span><span class="p">(</span><span class="n">timeMillisec</span><span class="p">,</span><span class="w"> </span><span class="n">delays</span><span class="p">,</span><span class="w"> </span><span class="n">duration</span><span class="p">);</span>
<a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a>
<a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="o">&amp;</span><span class="w"> </span><span class="n">getTexture</span><span class="p">(</span><span class="n">int32</span><span class="w"> </span><span class="n">timeMillisec</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">noexcept</span>
<a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">textures</span><span class="p">[</span><span class="n">getFrameIndex</span><span class="p">(</span><span class="n">timeMillisec</span><span class="p">)];</span>
<a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a><span class="p">};</span>
<a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a>
<a id="__codelineno-10-44" name="__codelineno-10-44" href="#__codelineno-10-44"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-10-45" name="__codelineno-10-45" href="#__codelineno-10-45"></a><span class="p">{</span>
<a id="__codelineno-10-46" name="__codelineno-10-46" href="#__codelineno-10-46"></a><span class="w">	</span><span class="n">AnimationTexture</span><span class="w"> </span><span class="n">animation</span><span class="p">;</span>
<a id="__codelineno-10-47" name="__codelineno-10-47" href="#__codelineno-10-47"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-10-48" name="__codelineno-10-48" href="#__codelineno-10-48"></a><span class="w">		</span><span class="c1">// GIF ファイルを開く</span>
<a id="__codelineno-10-49" name="__codelineno-10-49" href="#__codelineno-10-49"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="n">AnimatedGIFReader</span><span class="w"> </span><span class="n">gif</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;example/test.gif&quot;</span><span class="p">);</span>
<a id="__codelineno-10-50" name="__codelineno-10-50" href="#__codelineno-10-50"></a>
<a id="__codelineno-10-51" name="__codelineno-10-51" href="#__codelineno-10-51"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">gif</span><span class="p">)</span>
<a id="__codelineno-10-52" name="__codelineno-10-52" href="#__codelineno-10-52"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-10-53" name="__codelineno-10-53" href="#__codelineno-10-53"></a><span class="w">			</span><span class="k">throw</span><span class="w"> </span><span class="n">Error</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Failed to open a gif file&quot;</span><span class="p">);</span>
<a id="__codelineno-10-54" name="__codelineno-10-54" href="#__codelineno-10-54"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-10-55" name="__codelineno-10-55" href="#__codelineno-10-55"></a>
<a id="__codelineno-10-56" name="__codelineno-10-56" href="#__codelineno-10-56"></a><span class="w">		</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span><span class="w"> </span><span class="n">images</span><span class="p">;</span>
<a id="__codelineno-10-57" name="__codelineno-10-57" href="#__codelineno-10-57"></a>
<a id="__codelineno-10-58" name="__codelineno-10-58" href="#__codelineno-10-58"></a><span class="w">		</span><span class="c1">// GIF アニメーションを読み込み</span>
<a id="__codelineno-10-59" name="__codelineno-10-59" href="#__codelineno-10-59"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">gif</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">images</span><span class="p">,</span><span class="w"> </span><span class="n">animation</span><span class="p">.</span><span class="n">delays</span><span class="p">,</span><span class="w"> </span><span class="n">animation</span><span class="p">.</span><span class="n">duration</span><span class="p">))</span>
<a id="__codelineno-10-60" name="__codelineno-10-60" href="#__codelineno-10-60"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-10-61" name="__codelineno-10-61" href="#__codelineno-10-61"></a><span class="w">			</span><span class="c1">// Image を Texture に変換</span>
<a id="__codelineno-10-62" name="__codelineno-10-62" href="#__codelineno-10-62"></a><span class="w">			</span><span class="n">animation</span><span class="p">.</span><span class="n">textures</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">images</span><span class="p">.</span><span class="n">map</span><span class="p">([](</span><span class="k">const</span><span class="w"> </span><span class="n">Image</span><span class="o">&amp;</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">Texture</span><span class="p">(</span><span class="n">i</span><span class="p">);</span><span class="w"> </span><span class="p">});</span>
<a id="__codelineno-10-63" name="__codelineno-10-63" href="#__codelineno-10-63"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-10-64" name="__codelineno-10-64" href="#__codelineno-10-64"></a><span class="w">		</span><span class="k">else</span>
<a id="__codelineno-10-65" name="__codelineno-10-65" href="#__codelineno-10-65"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-10-66" name="__codelineno-10-66" href="#__codelineno-10-66"></a><span class="w">			</span><span class="k">throw</span><span class="w"> </span><span class="n">Error</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Failed to load a gif animation&quot;</span><span class="p">);</span>
<a id="__codelineno-10-67" name="__codelineno-10-67" href="#__codelineno-10-67"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-10-68" name="__codelineno-10-68" href="#__codelineno-10-68"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-10-69" name="__codelineno-10-69" href="#__codelineno-10-69"></a>
<a id="__codelineno-10-70" name="__codelineno-10-70" href="#__codelineno-10-70"></a><span class="w">	</span><span class="c1">// 画像のサイズ、フレーム数、アニメーションの長さ（ミリ秒）</span>
<a id="__codelineno-10-71" name="__codelineno-10-71" href="#__codelineno-10-71"></a><span class="w">	</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;{}, {} frames ({} ms)&quot;</span><span class="n">_fmt</span><span class="p">(</span><span class="n">animation</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="n">animation</span><span class="p">.</span><span class="n">frames</span><span class="p">(),</span><span class="w"> </span><span class="n">animation</span><span class="p">.</span><span class="n">duration</span><span class="p">);</span>
<a id="__codelineno-10-72" name="__codelineno-10-72" href="#__codelineno-10-72"></a>
<a id="__codelineno-10-73" name="__codelineno-10-73" href="#__codelineno-10-73"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Point</span><span class="w"> </span><span class="n">pos</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">90</span><span class="p">);</span>
<a id="__codelineno-10-74" name="__codelineno-10-74" href="#__codelineno-10-74"></a>
<a id="__codelineno-10-75" name="__codelineno-10-75" href="#__codelineno-10-75"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-10-76" name="__codelineno-10-76" href="#__codelineno-10-76"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-10-77" name="__codelineno-10-77" href="#__codelineno-10-77"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="n">int32</span><span class="w"> </span><span class="n">timeMillisec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">int32</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Time</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000</span><span class="p">);</span>
<a id="__codelineno-10-78" name="__codelineno-10-78" href="#__codelineno-10-78"></a><span class="w">		</span>
<a id="__codelineno-10-79" name="__codelineno-10-79" href="#__codelineno-10-79"></a><span class="w">		</span><span class="n">animation</span><span class="p">.</span><span class="n">getTexture</span><span class="p">(</span><span class="n">timeMillisec</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">pos</span><span class="p">);</span>
<a id="__codelineno-10-80" name="__codelineno-10-80" href="#__codelineno-10-80"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-10-81" name="__codelineno-10-81" href="#__codelineno-10-81"></a><span class="p">}</span>
</code></pre></div>
<h4 id="4-rectrounded-で-4-つの角に異なる値を指定可能に">4. Rect::rounded() で 4 つの角に異なる値を指定可能に<a class="headerlink" href="#4-rectrounded-で-4-つの角に異なる値を指定可能に" title="Permanent link">&para;</a></h4>
<p><code>Rect::rounded()</code> に、長方形の左上、右上、右下、左下で異なる値を指定するオーバーロードが追加されました。
<img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v043/04.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="p">{</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.3</span><span class="p">));</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">	</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rects</span><span class="p">;</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">	</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="n">Size</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)))</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">		</span><span class="n">rects</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Rect</span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Size</span><span class="p">(</span><span class="mi">220</span><span class="p">,</span><span class="w"> </span><span class="mi">140</span><span class="p">),</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">).</span><span class="n">movedBy</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">);</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="w">		</span><span class="n">rects</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">rounded</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="w">		</span><span class="n">rects</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">rounded</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="w">		</span><span class="n">rects</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">rounded</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>
<a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="w">		</span><span class="n">rects</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="n">rounded</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="w">		</span><span class="n">rects</span><span class="p">[</span><span class="mi">4</span><span class="p">].</span><span class="n">rounded</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a><span class="w">		</span><span class="n">rects</span><span class="p">[</span><span class="mi">5</span><span class="p">].</span><span class="n">rounded</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a>
<a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="w">		</span><span class="n">rects</span><span class="p">[</span><span class="mi">6</span><span class="p">].</span><span class="n">rounded</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">(</span><span class="mi">140</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a><span class="w">		</span><span class="n">rects</span><span class="p">[</span><span class="mi">7</span><span class="p">].</span><span class="n">rounded</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">(</span><span class="mi">160</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a><span class="w">		</span><span class="n">rects</span><span class="p">[</span><span class="mi">8</span><span class="p">].</span><span class="n">rounded</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a>
<a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a><span class="w">		</span><span class="n">rects</span><span class="p">[</span><span class="mi">9</span><span class="p">].</span><span class="n">rounded</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a><span class="w">		</span><span class="n">rects</span><span class="p">[</span><span class="mi">10</span><span class="p">].</span><span class="n">rounded</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">(</span><span class="mi">220</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a><span class="w">		</span><span class="n">rects</span><span class="p">[</span><span class="mi">11</span><span class="p">].</span><span class="n">rounded</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">(</span><span class="mi">240</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-11-31" name="__codelineno-11-31" href="#__codelineno-11-31"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-11-32" name="__codelineno-11-32" href="#__codelineno-11-32"></a><span class="p">}</span>
</code></pre></div>
<h4 id="5-simpleguihorizontalradiobuttons">5. SimpleGUI::HorizontalRadioButtons()<a class="headerlink" href="#5-simpleguihorizontalradiobuttons" title="Permanent link">&para;</a></h4>
<p>水平に並んだラジオボタン <code>SimpleGUI::HorizontalRadioButtons()</code> が SimpleGUI に追加されました。
<img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v043/05.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="p">{</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span><span class="w"> </span><span class="mf">0.9</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Windows&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;macOS&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Linux&quot;</span><span class="w"> </span><span class="p">};</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">	</span><span class="kt">size_t</span><span class="w"> </span><span class="n">indexA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w">	</span><span class="kt">size_t</span><span class="w"> </span><span class="n">indexB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="w">		</span><span class="c1">// 水平</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">HorizontalRadioButtons</span><span class="p">(</span><span class="n">indexA</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">));</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="w">		</span><span class="c1">// 縦</span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">RadioButtons</span><span class="p">(</span><span class="n">indexB</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">));</span>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="p">}</span>
</code></pre></div>
<h4 id="6-mathinvlerp">6. Math::InvLerp()<a class="headerlink" href="#6-mathinvlerp" title="Permanent link">&para;</a></h4>
<ul>
<li><code>Math::Lerp(begin, end, t) == value</code></li>
<li><code>Math::InvLerp(begin, end, value) == t</code></li>
</ul>
<p>となるような値 <code>t</code> を求める <code>Math::InvLerp()</code> が追加されました。
<img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v043/06.gif?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="p">{</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.8</span><span class="p">,</span><span class="w"> </span><span class="mf">0.7</span><span class="p">));</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Font</span><span class="w"> </span><span class="n">font</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="n">Typeface</span><span class="o">::</span><span class="n">Bold</span><span class="p">);</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">begin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">240.0</span><span class="p">;</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">450.0</span><span class="p">;</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cursor</span><span class="o">::</span><span class="n">Pos</span><span class="p">().</span><span class="n">y</span><span class="p">;</span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="w">		</span><span class="c1">// Math::Lerp(begin, end, t) == value になる値 t を求める</span>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Math</span><span class="o">::</span><span class="n">InvLerp</span><span class="p">(</span><span class="n">begin</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a>
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="w">		</span><span class="c1">// 値を [0.0, 1.0] の範囲に収める</span>
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Saturate</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a>
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a><span class="w">		</span><span class="n">font</span><span class="p">(</span><span class="n">st</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span>
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a>
<a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a><span class="w">		</span><span class="n">Line</span><span class="p">(</span><span class="n">Vec2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">begin</span><span class="p">),</span><span class="w"> </span><span class="n">Arg</span><span class="o">::</span><span class="n">direction</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Width</span><span class="p">(),</span><span class="w"> </span><span class="mi">0</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.5</span><span class="p">));</span>
<a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a><span class="w">		</span><span class="n">Line</span><span class="p">(</span><span class="n">Vec2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">),</span><span class="w"> </span><span class="n">Arg</span><span class="o">::</span><span class="n">direction</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Width</span><span class="p">(),</span><span class="w"> </span><span class="mi">0</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.5</span><span class="p">));</span>
<a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a>
<a id="__codelineno-13-26" name="__codelineno-13-26" href="#__codelineno-13-26"></a><span class="w">		</span><span class="n">Circle</span><span class="p">(</span><span class="n">Cursor</span><span class="o">::</span><span class="n">Pos</span><span class="p">(),</span><span class="w"> </span><span class="mi">50</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="n">st</span><span class="p">));</span>
<a id="__codelineno-13-27" name="__codelineno-13-27" href="#__codelineno-13-27"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-13-28" name="__codelineno-13-28" href="#__codelineno-13-28"></a><span class="p">}</span>
</code></pre></div>
<h4 id="7-line-のコンストラクタ追加">7. Line のコンストラクタ追加<a class="headerlink" href="#7-line-のコンストラクタ追加" title="Permanent link">&para;</a></h4>
<p>名前付き引数を使った <code>Line</code> のコンストラクタが 2 種類追加されました。<code>Line(pos, pos + dir)</code> のように <code>pos</code> を 2 回書く必要がなくなります。
<img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v043/07.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="p">{</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">		</span><span class="c1">// 始点の位置、始点から見た終点の方向、終点までの距離</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">		</span><span class="n">Line</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Center</span><span class="p">(),</span><span class="w"> </span><span class="n">Arg</span><span class="o">::</span><span class="n">angle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">45</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">)</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">			</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="n">LineStyle</span><span class="o">::</span><span class="n">RoundCap</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">		</span><span class="c1">// 始点の位置、終点までのベクトル</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">		</span><span class="n">Line</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Center</span><span class="p">(),</span><span class="w"> </span><span class="n">Arg</span><span class="o">::</span><span class="n">direction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">))</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="w">			</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="n">LineStyle</span><span class="o">::</span><span class="n">RoundCap</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">Palette</span><span class="o">::</span><span class="n">Orange</span><span class="p">);</span>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="p">}</span>
</code></pre></div>
<h4 id="8-rectdrawframe-circledrawpie-circledrawarc-の-2-色指定">8. Rect::drawFrame(), Circle::drawPie(), Circle::drawArc() の 2 色指定<a class="headerlink" href="#8-rectdrawframe-circledrawpie-circledrawarc-の-2-色指定" title="Permanent link">&para;</a></h4>
<p><code>Rect::drawFrame()</code>, <code>Circle::drawPie()</code>, <code>Circle::drawArc()</code> に、内側の色と外側の色を別々に指定するオーバーロードが追加されました。
<img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v043/08.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="p">{</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">Palette</span><span class="o">::</span><span class="n">White</span><span class="p">);</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="w">		</span><span class="c1">// 内側 ColorF(0.1, 0.6, 0.3), 外側 ColorF(0.6, 1.0, 0.8)</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="w">		</span><span class="n">Rect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">)</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="w">			</span><span class="p">.</span><span class="n">drawFrame</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">),</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.8</span><span class="p">));</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="w">		</span><span class="c1">// 内側 HSV(50), 外側 HSV(0)</span>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="w">		</span><span class="n">Circle</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="w">			</span><span class="p">.</span><span class="n">drawPie</span><span class="p">(</span><span class="mi">0</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="mi">120</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">HSV</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span><span class="w"> </span><span class="n">HSV</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a>
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a><span class="w">		</span><span class="c1">// 内側 Palette::White, 外側 Palette::Black</span>
<a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a><span class="w">		</span><span class="n">Circle</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
<a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a><span class="w">			</span><span class="p">.</span><span class="n">drawArc</span><span class="p">(</span><span class="mi">180</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="mi">120</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">Palette</span><span class="o">::</span><span class="n">White</span><span class="p">,</span><span class="w"> </span><span class="n">Palette</span><span class="o">::</span><span class="n">Black</span><span class="p">);</span>
<a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a><span class="p">}</span>
</code></pre></div>
<h4 id="9-zip-アーカイブの読み込み">9. ZIP アーカイブの読み込み<a class="headerlink" href="#9-zip-アーカイブの読み込み" title="Permanent link">&para;</a></h4>
<p>ZIP アーカイブ (.zip) の中身の取得や展開を行う <code>ZIPReader</code> クラスが追加されました。<code>ZIPReader::extractToMemory()</code> を使うと、ファイルをメモリ上で展開して <code>Texture</code> や <code>Audio</code> などを作成できます。
- Windows で作成された Shift-JIS エンコードの ZIP アーカイブに含まれる日本語ファイル名は、Windows 以外の環境では正しく扱えません
- 日本語ファイル名をあらゆるプラットフォームで正しく扱いたい場合、<code>UTF-8</code> エンコードで ZIP アーカイブを作成してください (7-zip の場合は <code>cu=on</code> オプションをつける）</p>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v043/09.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="p">{</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">ZIPReader</span><span class="w"> </span><span class="n">zip</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;example/zip/zip_test.zip&quot;</span><span class="p">);</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="w">	</span><span class="c1">// 含まれているファイルやディレクトリの列挙</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="w">	</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">zip</span><span class="p">.</span><span class="n">enumPaths</span><span class="p">())</span>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="w">		</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">path</span><span class="p">;</span>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>
<a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a><span class="w">	</span><span class="c1">// `zip_test/loremipsum.txt` を `unzipped1/` フォルダに展開</span>
<a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="w">	</span><span class="n">zip</span><span class="p">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;zip_test/loremipsum.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;unzipped1/&quot;</span><span class="p">);</span>
<a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>
<a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a><span class="w">	</span><span class="c1">// `zip_test/image/` に含まれているすべてのファイルを `unzipped2/` フォルダに展開</span>
<a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a><span class="w">	</span><span class="n">zip</span><span class="p">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;zip_test/image/*&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;unzipped2/&quot;</span><span class="p">);</span>
<a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a>
<a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a><span class="w">	</span><span class="c1">// すべてを `unzipped3/` フォルダに展開</span>
<a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a><span class="w">	</span><span class="n">zip</span><span class="p">.</span><span class="n">extractAll</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;unzipped3/&quot;</span><span class="p">);</span>
<a id="__codelineno-16-21" name="__codelineno-16-21" href="#__codelineno-16-21"></a>
<a id="__codelineno-16-22" name="__codelineno-16-22" href="#__codelineno-16-22"></a><span class="w">	</span><span class="c1">// `zip_test/image/windmill.png` をメモリ上で展開してテクスチャを作成</span>
<a id="__codelineno-16-23" name="__codelineno-16-23" href="#__codelineno-16-23"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">textureA</span><span class="p">(</span><span class="n">zip</span><span class="p">.</span><span class="n">extractToMemory</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;zip_test/image/windmill.png&quot;</span><span class="p">));</span>
<a id="__codelineno-16-24" name="__codelineno-16-24" href="#__codelineno-16-24"></a><span class="w">	</span>
<a id="__codelineno-16-25" name="__codelineno-16-25" href="#__codelineno-16-25"></a><span class="w">	</span><span class="c1">// `zip_test/image/siv3d-kun.png` をメモリ上で展開してテクスチャを作成</span>
<a id="__codelineno-16-26" name="__codelineno-16-26" href="#__codelineno-16-26"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">textureB</span><span class="p">(</span><span class="n">zip</span><span class="p">.</span><span class="n">extractToMemory</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;zip_test/image/siv3d-kun.png&quot;</span><span class="p">));</span>
<a id="__codelineno-16-27" name="__codelineno-16-27" href="#__codelineno-16-27"></a>
<a id="__codelineno-16-28" name="__codelineno-16-28" href="#__codelineno-16-28"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-16-29" name="__codelineno-16-29" href="#__codelineno-16-29"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-16-30" name="__codelineno-16-30" href="#__codelineno-16-30"></a><span class="w">		</span><span class="n">textureA</span><span class="p">.</span><span class="n">draw</span><span class="p">();</span>
<a id="__codelineno-16-31" name="__codelineno-16-31" href="#__codelineno-16-31"></a><span class="w">		</span><span class="n">textureB</span><span class="p">.</span><span class="n">draw</span><span class="p">();</span>
<a id="__codelineno-16-32" name="__codelineno-16-32" href="#__codelineno-16-32"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-16-33" name="__codelineno-16-33" href="#__codelineno-16-33"></a><span class="p">}</span>
</code></pre></div>
<h4 id="10-不正な-polygon-頂点の自動修正">10. 不正な Polygon 頂点の自動修正<a class="headerlink" href="#10-不正な-polygon-頂点の自動修正" title="Permanent link">&para;</a></h4>
<p>手入力などによる不正な <code>Polygon</code> の頂点を修正し、妥当な <code>Array&lt;Polygon&gt;</code> に変換する機能が追加されました。
<img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v043/10.gif?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="p">{</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">	</span><span class="n">Window</span><span class="o">::</span><span class="n">Resize</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">);</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Font</span><span class="w"> </span><span class="n">font</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="n">Typeface</span><span class="o">::</span><span class="n">Bold</span><span class="p">);</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="w">	</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">Vec2</span><span class="o">&gt;</span><span class="w"> </span><span class="n">points</span><span class="p">;</span>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="w">	</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">Polygon</span><span class="o">&gt;</span><span class="w"> </span><span class="n">solvedPolygons</span><span class="p">;</span>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">MouseL</span><span class="p">.</span><span class="n">down</span><span class="p">())</span>
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="w">			</span><span class="n">points</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Cursor</span><span class="o">::</span><span class="n">Pos</span><span class="p">();</span>
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>
<a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a><span class="w">			</span><span class="c1">// 頂点列から適切な Polygon を作成</span>
<a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a><span class="w">			</span><span class="n">solvedPolygons</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Polygon</span><span class="o">::</span><span class="n">Correct</span><span class="p">(</span><span class="n">points</span><span class="p">,</span><span class="w"> </span><span class="p">{});</span>
<a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a><span class="w">		</span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">MouseR</span><span class="p">.</span><span class="n">down</span><span class="p">())</span>
<a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a><span class="w">			</span><span class="n">points</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
<a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a><span class="w">			</span><span class="n">solvedPolygons</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
<a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a>
<a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">point</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Indexed</span><span class="p">(</span><span class="n">points</span><span class="p">))</span>
<a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a><span class="w">			</span><span class="n">Circle</span><span class="p">(</span><span class="n">point</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">).</span><span class="n">draw</span><span class="p">();</span>
<a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a><span class="w">			</span><span class="n">Line</span><span class="p">(</span><span class="n">points</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">points</span><span class="p">[(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">points</span><span class="p">.</span><span class="n">size</span><span class="p">()])</span>
<a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a><span class="w">				</span><span class="p">.</span><span class="n">drawArrow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">),</span><span class="w"> </span><span class="n">Palette</span><span class="o">::</span><span class="n">Orange</span><span class="p">);</span>
<a id="__codelineno-17-32" name="__codelineno-17-32" href="#__codelineno-17-32"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-17-33" name="__codelineno-17-33" href="#__codelineno-17-33"></a>
<a id="__codelineno-17-34" name="__codelineno-17-34" href="#__codelineno-17-34"></a><span class="w">		</span><span class="n">font</span><span class="p">(</span><span class="n">points</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">Rect</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">));</span>
<a id="__codelineno-17-35" name="__codelineno-17-35" href="#__codelineno-17-35"></a>
<a id="__codelineno-17-36" name="__codelineno-17-36" href="#__codelineno-17-36"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-17-37" name="__codelineno-17-37" href="#__codelineno-17-37"></a><span class="w">			</span><span class="n">Transformer2D</span><span class="w"> </span><span class="n">trans</span><span class="p">(</span><span class="n">Mat3x2</span><span class="o">::</span><span class="n">Translate</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">));</span>
<a id="__codelineno-17-38" name="__codelineno-17-38" href="#__codelineno-17-38"></a>
<a id="__codelineno-17-39" name="__codelineno-17-39" href="#__codelineno-17-39"></a><span class="w">			</span><span class="n">font</span><span class="p">(</span><span class="n">solvedPolygons</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">Rect</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">));</span>
<a id="__codelineno-17-40" name="__codelineno-17-40" href="#__codelineno-17-40"></a>
<a id="__codelineno-17-41" name="__codelineno-17-41" href="#__codelineno-17-41"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">solvedPolygon</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Indexed</span><span class="p">(</span><span class="n">solvedPolygons</span><span class="p">))</span>
<a id="__codelineno-17-42" name="__codelineno-17-42" href="#__codelineno-17-42"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-17-43" name="__codelineno-17-43" href="#__codelineno-17-43"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">HSV</span><span class="w"> </span><span class="n">color</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">40.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.7</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
<a id="__codelineno-17-44" name="__codelineno-17-44" href="#__codelineno-17-44"></a><span class="w">				</span><span class="n">solvedPolygon</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="n">color</span><span class="p">);</span>
<a id="__codelineno-17-45" name="__codelineno-17-45" href="#__codelineno-17-45"></a>
<a id="__codelineno-17-46" name="__codelineno-17-46" href="#__codelineno-17-46"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">outer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solvedPolygon</span><span class="p">.</span><span class="n">outer</span><span class="p">();</span>
<a id="__codelineno-17-47" name="__codelineno-17-47" href="#__codelineno-17-47"></a>
<a id="__codelineno-17-48" name="__codelineno-17-48" href="#__codelineno-17-48"></a><span class="w">				</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">point</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Indexed</span><span class="p">(</span><span class="n">outer</span><span class="p">))</span>
<a id="__codelineno-17-49" name="__codelineno-17-49" href="#__codelineno-17-49"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-17-50" name="__codelineno-17-50" href="#__codelineno-17-50"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">Vec2</span><span class="w"> </span><span class="n">begin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">outer</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
<a id="__codelineno-17-51" name="__codelineno-17-51" href="#__codelineno-17-51"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">Vec2</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">outer</span><span class="p">[(</span><span class="n">k</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">outer</span><span class="p">.</span><span class="n">size</span><span class="p">()];</span>
<a id="__codelineno-17-52" name="__codelineno-17-52" href="#__codelineno-17-52"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">Vec2</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">begin</span><span class="p">).</span><span class="n">normalized</span><span class="p">();</span>
<a id="__codelineno-17-53" name="__codelineno-17-53" href="#__codelineno-17-53"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">Vec2</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">begin</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">end</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-17-54" name="__codelineno-17-54" href="#__codelineno-17-54"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">Vec2</span><span class="w"> </span><span class="n">oc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">v</span><span class="p">.</span><span class="n">rotated</span><span class="p">(</span><span class="mi">-90</span><span class="n">_deg</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<a id="__codelineno-17-55" name="__codelineno-17-55" href="#__codelineno-17-55"></a><span class="w">					</span><span class="n">Line</span><span class="p">(</span><span class="n">oc</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="n">oc</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-17-56" name="__codelineno-17-56" href="#__codelineno-17-56"></a><span class="w">						</span><span class="p">.</span><span class="n">drawArrow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">),</span><span class="w"> </span><span class="n">color</span><span class="p">);</span>
<a id="__codelineno-17-57" name="__codelineno-17-57" href="#__codelineno-17-57"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-17-58" name="__codelineno-17-58" href="#__codelineno-17-58"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-17-59" name="__codelineno-17-59" href="#__codelineno-17-59"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-17-60" name="__codelineno-17-60" href="#__codelineno-17-60"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-17-61" name="__codelineno-17-61" href="#__codelineno-17-61"></a><span class="p">}</span>
</code></pre></div>
<h4 id="11-direct3d-ドライバ--デバイスの種類の変更">11. Direct3D ドライバ / デバイスの種類の変更<a class="headerlink" href="#11-direct3d-ドライバ--デバイスの種類の変更" title="Permanent link">&para;</a></h4>
<p>Windows 版で <code>#include &lt;Siv3D.hpp&gt;</code> の前に特別なマクロを定義すると、アプリケーションが使用する Direct3D ドライバーの種類を WARP, Reference などに変更できるようになりました。GPU のドライバの問題で正常な描画ができない場合に WARP によるたソフトウェアレンダリングを使用してください。描画負荷が軽いアプリケーションであれば、WARP で動かすプログラムをリリースすることも選択肢となります。これらのフラグは重複して指定することはできません。</p>
<ul>
<li>デフォルト → dGPU (GeForce など) 優先</li>
<li><code>SIV3D_WINDOWS_D3D_DRIVER_TYPE_HARDWARE_FAVOR_INTEGRATED</code> → iGPU (Intel UHD Graphics など) 優先</li>
<li><code>SIV3D_WINDOWS_D3D_DRIVER_TYPE_WARP</code> → ソフトウェアラスタライザ</li>
<li><code>SIV3D_WINDOWS_D3D_DRIVER_TYPE_REFERENCE</code> → リファレンスドライバ</li>
<li>参考: https://docs.microsoft.com/en-us/windows/win32/api/d3dcommon/ne-d3dcommon-d3d_driver_type</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1">// ソフトウェアレンダラ―を使用 (Windows でのみ有効）</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="cp"># define SIV3D_WINDOWS_D3D_DRIVER_TYPE_WARP</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="c1">// iGPU (Intel UHD Graphics など) 優先 (Windows でのみ有効）</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="c1">//# define SIV3D_WINDOWS_D3D_DRIVER_TYPE_HARDWARE_FAVOR_INTEGRATED</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="c1">// リファレンスドライバを使用 (Windows でのみ有効）</span>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="c1">//# define SIV3D_WINDOWS_D3D_DRIVER_TYPE_REFERENCE</span>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="c1">// Siv3D.hpp よりも前で定義</span>
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="p">{</span>
<a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span><span class="w"> </span><span class="mf">0.9</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>
<a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">texture</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;example/windmill.png&quot;</span><span class="p">);</span>
<a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a>
<a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a><span class="w">		</span><span class="n">texture</span><span class="p">.</span><span class="n">draw</span><span class="p">();</span>
<a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a><span class="p">}</span>
</code></pre></div>
<h4 id="12-その他">12. その他<a class="headerlink" href="#12-その他" title="Permanent link">&para;</a></h4>
<ul>
<li>Image to Polygon の堅牢性が向上し、クラッシュしなくなりました</li>
<li>Linux 版のビルドで AngelScript のリンクが不要になりました</li>
<li>macOS と Linux の一部環境で <code>Microphone</code> の初期化に失敗することがあった問題を修正しました</li>
<li><code>isOpened()</code> というメンバ関数は <code>isOpen()</code> に名前が変更されました</li>
<li>zlib の圧縮展開を行う <code>Zlib::Compress()</code>, <code>Zlib:: Decompress()</code> を追加しました</li>
<li><code>ParseOpt&lt;float&gt;()</code> が例外を投げることがあった問題を修正しました</li>
<li><code>Math::InvSqrt2_v</code> が正しくなかったのを修正しました</li>
<li>Visual Studio 用のプロジェクトテンプレートにタグを指定しました</li>
<li>Visual Studio のプロジェクト作成時に Main.cpp が自動で開くようにしました</li>
<li>Windows 用プロジェクトの Icon.ico を icon.ico にリネームしました</li>
<li><code>Camera2D</code> の <code>Scene::Size()</code> 依存を解消しました</li>
<li><code>ParticleSystem2DParameters</code> の仕様を改善しました</li>
<li>各種 RNG のシリアライズ、デシリアライズを実装しました</li>
<li><code>Serial</code> が切断されても <code>isOpen()</code> が <code>true</code> を返していた問題を修正しました</li>
<li><code>RoundRect</code> の頂点生成品質の問題を修正しました</li>
<li><code>DynamicTexture</code> でサイズとフォーマットのみ指定した際のエラーを修正しました</li>
<li>macOS で日本語パスを扱うと一部の関数がクラッシュすることがあった問題を修正しました</li>
<li>Windows で <code>Graphics::SetTargetFrameRateHz()</code> が大きく不正確になることがあった問題を修正しました</li>
<li><code>RenderTexture</code> のコンストラクタでは、特に明示しなければ <code>ColorF(0.0, 1.0)</code> で中身をクリアするよう仕様変更しました</li>
<li><code>JSONWriter::write(bool)</code> の挙動が正しくなかった問題を修正しました</li>
<li><code>BasicCamera3D</code> の <code>experimental::</code> を外しました</li>
<li>その他軽微な修正多数</li>
</ul>
</details>
<details class="summary">
<summary>v0.4.2 | 2019-12-01</summary>
<h4 id="1-sdffont">1. SDFFont<a class="headerlink" href="#1-sdffont" title="Permanent link">&para;</a></h4>
<p><code>SDFFont</code> は、グリフの画像を Distance field 形式で持つ <code>Font</code> クラスです。<br />
これまでの <code>Font</code> クラスは、コンストラクタで指定した固定サイズでグリフごとのビットマップ画像を生成し、それをレンダリングするため、拡大描画時にぼやけるなど、サイズの変更に弱く、縁取りのようなエフェクトを適用することも困難でした。<br />
<code>SDFFont</code> クラスは、グリフごとの Distance Field を生成し、拡大してもぼやけない手法でテキストをレンダリングします。<code>draw()</code> ごとに第一引数でフォントのサイズを指定でき、大きな値を入れても結果がぼやけることはありません。また、<code>Garphics2D::SetSDFParameters()</code> でパラメータを調整することで、レンダリング時に文字を太らせられます。太さと色を変えて 2 回以上テキストを描画することで、縁取りの表現も可能です。<br />
ただし、<code>SDFFont</code> の生成や描画のコストは <code>Font</code> に比べて大きいため、<code>Font</code> で十分なケースでは従来通り <code>Font</code> を使うべきです。<br />
<code>SDFFont</code> の品質は、コンストラクタで指定するグリフの Distance Field のサイズと、描画する字形の複雑さに影響されます。画数の少ない数字やアルファベット、曲線的でシンプルな字形であれば、40 ピクセル以下の Distance Field でもきれいなテキストをレンダリングできますが、複雑な字形になるほど、小さな Distance Field では描画結果が乱れたり、ノイズが目立つことがあります。文字の太らせについても、大きい値ではノイズが目立つことがあります。<code>SDFFont</code> をアプリケーションで使用する際は、テキストの描画結果をチェックし、適切な Distance Field サイズを設定しましょう。</p>
<h5 id="sdffont-の基本">SDFFont の基本<a class="headerlink" href="#sdffont-の基本" title="Permanent link">&para;</a></h5>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v042/01.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="p">{</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">));</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">	</span><span class="c1">// グリフごとの Distance field のサイズ</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">int32</span><span class="w"> </span><span class="n">distanceFieldSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">	</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="w">	</span><span class="c1">// SDFFont</span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">SDFFont</span><span class="w"> </span><span class="n">sdfFont</span><span class="p">(</span><span class="n">distanceFieldSize</span><span class="p">,</span><span class="w"> </span><span class="n">Typeface</span><span class="o">::</span><span class="n">Bold</span><span class="p">);</span>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;OpenSiv3D&quot;</span><span class="p">;</span>
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a><span class="w">		</span><span class="c1">// SDF パラメータの設定</span>
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a><span class="w">		</span><span class="n">Graphics2D</span><span class="o">::</span><span class="n">SetSDFParameters</span><span class="p">(</span><span class="n">sdfFont</span><span class="p">.</span><span class="n">pixelRange</span><span class="p">());</span>
<a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a><span class="w">		</span><span class="n">sdfFont</span><span class="p">(</span><span class="n">text</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">));</span>
<a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a><span class="w">		</span><span class="n">sdfFont</span><span class="p">(</span><span class="n">text</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">80</span><span class="p">));</span>
<a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a><span class="w">		</span><span class="n">sdfFont</span><span class="p">(</span><span class="n">text</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">180</span><span class="p">));</span>
<a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a>
<a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a><span class="w">		</span><span class="c1">// SDF パラメータの設定、太らせを 0.2 に</span>
<a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a><span class="w">		</span><span class="n">Graphics2D</span><span class="o">::</span><span class="n">SetSDFParameters</span><span class="p">(</span><span class="n">sdfFont</span><span class="p">.</span><span class="n">pixelRange</span><span class="p">(),</span><span class="w"> </span><span class="mf">0.2</span><span class="p">);</span>
<a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a><span class="w">		</span><span class="n">sdfFont</span><span class="p">(</span><span class="n">text</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">320</span><span class="p">),</span><span class="w"> </span><span class="n">Palette</span><span class="o">::</span><span class="n">Black</span><span class="p">);</span>
<a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a>
<a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a><span class="w">		</span><span class="c1">// SDF パラメータの設定、太らせを 0.0 に</span>
<a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a><span class="w">		</span><span class="n">Graphics2D</span><span class="o">::</span><span class="n">SetSDFParameters</span><span class="p">(</span><span class="n">sdfFont</span><span class="p">.</span><span class="n">pixelRange</span><span class="p">(),</span><span class="w"> </span><span class="mf">0.0</span><span class="p">);</span>
<a id="__codelineno-19-29" name="__codelineno-19-29" href="#__codelineno-19-29"></a><span class="w">		</span><span class="n">sdfFont</span><span class="p">(</span><span class="n">text</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">320</span><span class="p">));</span>
<a id="__codelineno-19-30" name="__codelineno-19-30" href="#__codelineno-19-30"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-19-31" name="__codelineno-19-31" href="#__codelineno-19-31"></a><span class="p">}</span>
</code></pre></div>
<h5 id="sdffont-の事前生成">SDFFont の事前生成<a class="headerlink" href="#sdffont-の事前生成" title="Permanent link">&para;</a></h5>
<p><code>SDFFont</code> の各グリフの Distance field は、生成に時間がかかるため、使用するグリフをあらかじめ生成して保存しておくとアプリケーションの速度低下が防げます。<code>SDFFont::preload(s)</code> で、文字列 <code>s</code> 含まれるグリフの Distance field を生成、<code>SDFFont::preload(imagePath, jsonPath)</code> で 2 つのファイルに生成結果を保存し、<code>SDFFont</code> のコンストラクタでこれらのファイルをロードします。事前生成されていなかったグリフは実行時に生成されます。</p>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v042/02.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="p">{</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">));</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">	</span><span class="c1">// グリフごとの Distance field のサイズ</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">int32</span><span class="w"> </span><span class="n">distanceFieldSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">	</span><span class="c1">//////////////////////////////////////////</span>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">	</span><span class="c1">//</span>
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="w">	</span><span class="c1">// SDFFont Distance field の事前生成</span>
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="w">	</span><span class="c1">//</span>
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="w">	</span><span class="c1">// ※ 保存できたら不要なのでコメントアウト</span>
<a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a><span class="w">		</span><span class="n">String</span><span class="w"> </span><span class="n">s</span><span class="p">;</span>
<a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Range</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="mi">126</span><span class="p">))</span>
<a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a><span class="w">			</span><span class="n">s</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">char32</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-20-21" name="__codelineno-20-21" href="#__codelineno-20-21"></a>
<a id="__codelineno-20-22" name="__codelineno-20-22" href="#__codelineno-20-22"></a><span class="w">		</span><span class="c1">// SDF の作成には時間がかかるので、</span>
<a id="__codelineno-20-23" name="__codelineno-20-23" href="#__codelineno-20-23"></a><span class="w">		</span><span class="c1">// ASCII 文字をあらかじめ SDF 化して、フォント情報を保存しておく</span>
<a id="__codelineno-20-24" name="__codelineno-20-24" href="#__codelineno-20-24"></a><span class="w">		</span><span class="n">SDFFont</span><span class="p">(</span><span class="n">distanceFieldSize</span><span class="p">,</span><span class="w"> </span><span class="n">Typeface</span><span class="o">::</span><span class="n">Bold</span><span class="p">)</span>
<a id="__codelineno-20-25" name="__codelineno-20-25" href="#__codelineno-20-25"></a><span class="w">			</span><span class="p">.</span><span class="n">preload</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<a id="__codelineno-20-26" name="__codelineno-20-26" href="#__codelineno-20-26"></a><span class="w">			</span><span class="p">.</span><span class="n">saveGlyphs</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;sdf-font/bold_60.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;sdf-font/bold_60.json&quot;</span><span class="p">);</span>
<a id="__codelineno-20-27" name="__codelineno-20-27" href="#__codelineno-20-27"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-20-28" name="__codelineno-20-28" href="#__codelineno-20-28"></a><span class="w">	</span><span class="c1">//</span>
<a id="__codelineno-20-29" name="__codelineno-20-29" href="#__codelineno-20-29"></a><span class="w">	</span><span class="c1">//////////////////////////////////////////</span>
<a id="__codelineno-20-30" name="__codelineno-20-30" href="#__codelineno-20-30"></a><span class="w">	</span>
<a id="__codelineno-20-31" name="__codelineno-20-31" href="#__codelineno-20-31"></a><span class="w">	</span><span class="c1">// SDFFont を作成し、事前生成した Distance field をロード</span>
<a id="__codelineno-20-32" name="__codelineno-20-32" href="#__codelineno-20-32"></a><span class="w">	</span><span class="c1">// フォントの種類や Distance field が一致しないといけない</span>
<a id="__codelineno-20-33" name="__codelineno-20-33" href="#__codelineno-20-33"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">SDFFont</span><span class="w"> </span><span class="n">sdfFont</span><span class="p">({</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;sdf-font/bold_60.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;sdf-font/bold_60.json&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">distanceFieldSize</span><span class="p">,</span><span class="w"> </span><span class="n">Typeface</span><span class="o">::</span><span class="n">Bold</span><span class="p">);</span>
<a id="__codelineno-20-34" name="__codelineno-20-34" href="#__codelineno-20-34"></a>
<a id="__codelineno-20-35" name="__codelineno-20-35" href="#__codelineno-20-35"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">sdfFont</span><span class="p">)</span><span class="w"> </span><span class="c1">// ロードに失敗したら</span>
<a id="__codelineno-20-36" name="__codelineno-20-36" href="#__codelineno-20-36"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-20-37" name="__codelineno-20-37" href="#__codelineno-20-37"></a><span class="w">		</span><span class="k">throw</span><span class="w"> </span><span class="n">Error</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Failed to load SDFFont&quot;</span><span class="p">);</span>
<a id="__codelineno-20-38" name="__codelineno-20-38" href="#__codelineno-20-38"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-20-39" name="__codelineno-20-39" href="#__codelineno-20-39"></a>
<a id="__codelineno-20-40" name="__codelineno-20-40" href="#__codelineno-20-40"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;OpenSiv3D&quot;</span><span class="p">;</span>
<a id="__codelineno-20-41" name="__codelineno-20-41" href="#__codelineno-20-41"></a>
<a id="__codelineno-20-42" name="__codelineno-20-42" href="#__codelineno-20-42"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-20-43" name="__codelineno-20-43" href="#__codelineno-20-43"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-20-44" name="__codelineno-20-44" href="#__codelineno-20-44"></a><span class="w">		</span><span class="c1">// SDF パラメータの設定</span>
<a id="__codelineno-20-45" name="__codelineno-20-45" href="#__codelineno-20-45"></a><span class="w">		</span><span class="n">Graphics2D</span><span class="o">::</span><span class="n">SetSDFParameters</span><span class="p">(</span><span class="n">sdfFont</span><span class="p">.</span><span class="n">pixelRange</span><span class="p">());</span>
<a id="__codelineno-20-46" name="__codelineno-20-46" href="#__codelineno-20-46"></a><span class="w">		</span><span class="n">sdfFont</span><span class="p">(</span><span class="n">text</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">));</span>
<a id="__codelineno-20-47" name="__codelineno-20-47" href="#__codelineno-20-47"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-20-48" name="__codelineno-20-48" href="#__codelineno-20-48"></a><span class="p">}</span>
</code></pre></div>
<h5 id="比較用サンプル">比較用サンプル<a class="headerlink" href="#比較用サンプル" title="Permanent link">&para;</a></h5>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v042/03.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="p">{</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">	</span><span class="n">Window</span><span class="o">::</span><span class="n">Resize</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">);</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">));</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="n">Vec2</span><span class="w"> </span><span class="n">pos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;OpenSiv3D</span><span class="se">\n</span><span class="s">あいうえお&quot;</span><span class="p">;</span>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="w">	</span><span class="c1">//////////////////////////////////////////</span>
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="w">	</span><span class="c1">//</span>
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="w">	</span><span class="c1">// SDFFont Distance field の事前生成</span>
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="w">	</span><span class="c1">//</span>
<a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a><span class="w">	</span><span class="c1">// ※ 保存できたら不要なのでコメントアウト</span>
<a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a><span class="w">		</span><span class="n">String</span><span class="w"> </span><span class="n">s</span><span class="p">;</span>
<a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Range</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="mi">126</span><span class="p">))</span>
<a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a><span class="w">			</span><span class="n">s</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">char32</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<a id="__codelineno-21-21" name="__codelineno-21-21" href="#__codelineno-21-21"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-21-22" name="__codelineno-21-22" href="#__codelineno-21-22"></a><span class="w">		</span><span class="n">s</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">text</span><span class="p">;</span>
<a id="__codelineno-21-23" name="__codelineno-21-23" href="#__codelineno-21-23"></a>
<a id="__codelineno-21-24" name="__codelineno-21-24" href="#__codelineno-21-24"></a><span class="w">		</span><span class="c1">// SDF の作成には時間がかかるので、</span>
<a id="__codelineno-21-25" name="__codelineno-21-25" href="#__codelineno-21-25"></a><span class="w">		</span><span class="c1">// ASCII 文字と text をあらかじめ SDF 化して、フォント情報を保存しておく</span>
<a id="__codelineno-21-26" name="__codelineno-21-26" href="#__codelineno-21-26"></a><span class="w">		</span><span class="n">SDFFont</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="n">Typeface</span><span class="o">::</span><span class="n">Light</span><span class="p">).</span><span class="n">preload</span><span class="p">(</span><span class="n">s</span><span class="p">).</span><span class="n">saveGlyphs</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;sdf-font/light_60.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;sdf-font/light_60.json&quot;</span><span class="p">);</span>
<a id="__codelineno-21-27" name="__codelineno-21-27" href="#__codelineno-21-27"></a><span class="w">		</span><span class="n">SDFFont</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="n">Typeface</span><span class="o">::</span><span class="n">Heavy</span><span class="p">).</span><span class="n">preload</span><span class="p">(</span><span class="n">s</span><span class="p">).</span><span class="n">saveGlyphs</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;sdf-font/heavy_60.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;sdf-font/heavy_60.json&quot;</span><span class="p">);</span>
<a id="__codelineno-21-28" name="__codelineno-21-28" href="#__codelineno-21-28"></a><span class="w">		</span><span class="n">SDFFont</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;example/font/LogoTypeGothic/LogoTypeGothic.otf&quot;</span><span class="p">).</span><span class="n">preload</span><span class="p">(</span><span class="n">s</span><span class="p">).</span><span class="n">saveGlyphs</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;sdf-font/logo_50.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;sdf-font/logo_50.json&quot;</span><span class="p">);</span>
<a id="__codelineno-21-29" name="__codelineno-21-29" href="#__codelineno-21-29"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-21-30" name="__codelineno-21-30" href="#__codelineno-21-30"></a><span class="w">	</span><span class="c1">//</span>
<a id="__codelineno-21-31" name="__codelineno-21-31" href="#__codelineno-21-31"></a><span class="w">	</span><span class="c1">//////////////////////////////////////////</span>
<a id="__codelineno-21-32" name="__codelineno-21-32" href="#__codelineno-21-32"></a>
<a id="__codelineno-21-33" name="__codelineno-21-33" href="#__codelineno-21-33"></a><span class="w">	</span><span class="c1">// SDFFont を作成し、事前生成した Distance field をロード</span>
<a id="__codelineno-21-34" name="__codelineno-21-34" href="#__codelineno-21-34"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="n">SDFFont</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sdfFonts</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-21-35" name="__codelineno-21-35" href="#__codelineno-21-35"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-21-36" name="__codelineno-21-36" href="#__codelineno-21-36"></a><span class="w">		</span><span class="n">SDFFont</span><span class="p">({</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;sdf-font/light_60.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;sdf-font/light_60.json&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="n">Typeface</span><span class="o">::</span><span class="n">Light</span><span class="p">),</span>
<a id="__codelineno-21-37" name="__codelineno-21-37" href="#__codelineno-21-37"></a><span class="w">		</span><span class="n">SDFFont</span><span class="p">({</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;sdf-font/heavy_60.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;sdf-font/heavy_60.json&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="n">Typeface</span><span class="o">::</span><span class="n">Heavy</span><span class="p">),</span>
<a id="__codelineno-21-38" name="__codelineno-21-38" href="#__codelineno-21-38"></a><span class="w">		</span><span class="n">SDFFont</span><span class="p">({</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;sdf-font/logo_50.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;sdf-font/logo_50.json&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;example/font/LogoTypeGothic/LogoTypeGothic.otf&quot;</span><span class="p">),</span>
<a id="__codelineno-21-39" name="__codelineno-21-39" href="#__codelineno-21-39"></a><span class="w">	</span><span class="p">};</span>
<a id="__codelineno-21-40" name="__codelineno-21-40" href="#__codelineno-21-40"></a>
<a id="__codelineno-21-41" name="__codelineno-21-41" href="#__codelineno-21-41"></a><span class="w">	</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">sdfFont</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">sdfFonts</span><span class="p">)</span>
<a id="__codelineno-21-42" name="__codelineno-21-42" href="#__codelineno-21-42"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-21-43" name="__codelineno-21-43" href="#__codelineno-21-43"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">sdfFont</span><span class="p">)</span><span class="w"> </span><span class="c1">// ロードに失敗したら</span>
<a id="__codelineno-21-44" name="__codelineno-21-44" href="#__codelineno-21-44"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-21-45" name="__codelineno-21-45" href="#__codelineno-21-45"></a><span class="w">			</span><span class="k">throw</span><span class="w"> </span><span class="n">Error</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Failed to load SDFFont&quot;</span><span class="p">);</span>
<a id="__codelineno-21-46" name="__codelineno-21-46" href="#__codelineno-21-46"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-21-47" name="__codelineno-21-47" href="#__codelineno-21-47"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-21-48" name="__codelineno-21-48" href="#__codelineno-21-48"></a>
<a id="__codelineno-21-49" name="__codelineno-21-49" href="#__codelineno-21-49"></a><span class="w">	</span><span class="c1">// 比較用の通常 Font</span>
<a id="__codelineno-21-50" name="__codelineno-21-50" href="#__codelineno-21-50"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="n">Font</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fonts</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-21-51" name="__codelineno-21-51" href="#__codelineno-21-51"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-21-52" name="__codelineno-21-52" href="#__codelineno-21-52"></a><span class="w">		</span><span class="n">Font</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="n">Typeface</span><span class="o">::</span><span class="n">Light</span><span class="p">),</span>
<a id="__codelineno-21-53" name="__codelineno-21-53" href="#__codelineno-21-53"></a><span class="w">		</span><span class="n">Font</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="n">Typeface</span><span class="o">::</span><span class="n">Heavy</span><span class="p">),</span>
<a id="__codelineno-21-54" name="__codelineno-21-54" href="#__codelineno-21-54"></a><span class="w">		</span><span class="n">Font</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;example/font/LogoTypeGothic/LogoTypeGothic.otf&quot;</span><span class="p">),</span>
<a id="__codelineno-21-55" name="__codelineno-21-55" href="#__codelineno-21-55"></a><span class="w">	</span><span class="p">};</span>
<a id="__codelineno-21-56" name="__codelineno-21-56" href="#__codelineno-21-56"></a>
<a id="__codelineno-21-57" name="__codelineno-21-57" href="#__codelineno-21-57"></a><span class="w">	</span><span class="kt">size_t</span><span class="w"> </span><span class="n">fontIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-21-58" name="__codelineno-21-58" href="#__codelineno-21-58"></a><span class="w">	</span><span class="kt">double</span><span class="w"> </span><span class="n">fontSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="n">outline1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">outline2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<a id="__codelineno-21-59" name="__codelineno-21-59" href="#__codelineno-21-59"></a><span class="w">	</span><span class="n">HSV</span><span class="w"> </span><span class="n">innerColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Palette</span><span class="o">::</span><span class="n">Black</span><span class="p">,</span><span class="w"> </span><span class="n">outlineColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Palette</span><span class="o">::</span><span class="n">White</span><span class="p">;</span>
<a id="__codelineno-21-60" name="__codelineno-21-60" href="#__codelineno-21-60"></a>
<a id="__codelineno-21-61" name="__codelineno-21-61" href="#__codelineno-21-61"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-21-62" name="__codelineno-21-62" href="#__codelineno-21-62"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-21-63" name="__codelineno-21-63" href="#__codelineno-21-63"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">sdfFont</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sdfFonts</span><span class="p">[</span><span class="n">fontIndex</span><span class="p">];</span>
<a id="__codelineno-21-64" name="__codelineno-21-64" href="#__codelineno-21-64"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">font</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fonts</span><span class="p">[</span><span class="n">fontIndex</span><span class="p">];</span>
<a id="__codelineno-21-65" name="__codelineno-21-65" href="#__codelineno-21-65"></a>
<a id="__codelineno-21-66" name="__codelineno-21-66" href="#__codelineno-21-66"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">method</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-21-67" name="__codelineno-21-67" href="#__codelineno-21-67"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-21-68" name="__codelineno-21-68" href="#__codelineno-21-68"></a><span class="w">			</span><span class="n">Graphics2D</span><span class="o">::</span><span class="n">SetSDFParameters</span><span class="p">(</span><span class="n">sdfFont</span><span class="p">.</span><span class="n">pixelRange</span><span class="p">(),</span><span class="w"> </span><span class="n">outline2</span><span class="p">);</span>
<a id="__codelineno-21-69" name="__codelineno-21-69" href="#__codelineno-21-69"></a><span class="w">			</span><span class="n">sdfFont</span><span class="p">(</span><span class="n">text</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">fontSize</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">innerColor</span><span class="p">);</span>
<a id="__codelineno-21-70" name="__codelineno-21-70" href="#__codelineno-21-70"></a>
<a id="__codelineno-21-71" name="__codelineno-21-71" href="#__codelineno-21-71"></a><span class="w">			</span><span class="n">Graphics2D</span><span class="o">::</span><span class="n">SetSDFParameters</span><span class="p">(</span><span class="n">sdfFont</span><span class="p">.</span><span class="n">pixelRange</span><span class="p">(),</span><span class="w"> </span><span class="n">outline1</span><span class="p">);</span>
<a id="__codelineno-21-72" name="__codelineno-21-72" href="#__codelineno-21-72"></a><span class="w">			</span><span class="n">sdfFont</span><span class="p">(</span><span class="n">text</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">fontSize</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">outlineColor</span><span class="p">);</span>
<a id="__codelineno-21-73" name="__codelineno-21-73" href="#__codelineno-21-73"></a>
<a id="__codelineno-21-74" name="__codelineno-21-74" href="#__codelineno-21-74"></a><span class="w">			</span><span class="n">Graphics2D</span><span class="o">::</span><span class="n">SetSDFParameters</span><span class="p">(</span><span class="n">sdfFont</span><span class="p">.</span><span class="n">pixelRange</span><span class="p">());</span>
<a id="__codelineno-21-75" name="__codelineno-21-75" href="#__codelineno-21-75"></a><span class="w">			</span><span class="n">sdfFont</span><span class="p">(</span><span class="n">text</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">fontSize</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">innerColor</span><span class="p">);</span>
<a id="__codelineno-21-76" name="__codelineno-21-76" href="#__codelineno-21-76"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-21-77" name="__codelineno-21-77" href="#__codelineno-21-77"></a><span class="w">		</span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">method</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-21-78" name="__codelineno-21-78" href="#__codelineno-21-78"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-21-79" name="__codelineno-21-79" href="#__codelineno-21-79"></a><span class="w">			</span><span class="n">Transformer2D</span><span class="w"> </span><span class="n">tr</span><span class="p">(</span><span class="n">Mat3x2</span><span class="o">::</span><span class="n">Scale</span><span class="p">(</span><span class="n">fontSize</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">font</span><span class="p">.</span><span class="n">fontSize</span><span class="p">()));</span>
<a id="__codelineno-21-80" name="__codelineno-21-80" href="#__codelineno-21-80"></a><span class="w">			</span><span class="n">font</span><span class="p">(</span><span class="n">text</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">innerColor</span><span class="p">);</span>
<a id="__codelineno-21-81" name="__codelineno-21-81" href="#__codelineno-21-81"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-21-82" name="__codelineno-21-82" href="#__codelineno-21-82"></a>
<a id="__codelineno-21-83" name="__codelineno-21-83" href="#__codelineno-21-83"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">RadioButtons</span><span class="p">(</span><span class="n">fontIndex</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Light 60&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Heavy 60&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Logo 50&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">360</span><span class="p">),</span><span class="w"> </span><span class="mi">150</span><span class="p">);</span>
<a id="__codelineno-21-84" name="__codelineno-21-84" href="#__codelineno-21-84"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">RadioButtons</span><span class="p">(</span><span class="n">method</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;SDFFont&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Font&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">480</span><span class="p">),</span><span class="w"> </span><span class="mi">150</span><span class="p">);</span>
<a id="__codelineno-21-85" name="__codelineno-21-85" href="#__codelineno-21-85"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Slider</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;size: {:.0f}&quot;</span><span class="n">_fmt</span><span class="p">(</span><span class="n">fontSize</span><span class="p">),</span><span class="w"> </span><span class="n">fontSize</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">550</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">560</span><span class="p">),</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span>
<a id="__codelineno-21-86" name="__codelineno-21-86" href="#__codelineno-21-86"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Slider</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;outline1: {:.2f}&quot;</span><span class="n">_fmt</span><span class="p">(</span><span class="n">outline1</span><span class="p">),</span><span class="w"> </span><span class="n">outline1</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.49</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">600</span><span class="p">),</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">method</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">));</span>
<a id="__codelineno-21-87" name="__codelineno-21-87" href="#__codelineno-21-87"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Slider</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;outline2: {:.2f}&quot;</span><span class="n">_fmt</span><span class="p">(</span><span class="n">outline2</span><span class="p">),</span><span class="w"> </span><span class="n">outline2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.49</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">640</span><span class="p">),</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">method</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">));</span>
<a id="__codelineno-21-88" name="__codelineno-21-88" href="#__codelineno-21-88"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">ColorPicker</span><span class="p">(</span><span class="n">innerColor</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">560</span><span class="p">));</span>
<a id="__codelineno-21-89" name="__codelineno-21-89" href="#__codelineno-21-89"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">ColorPicker</span><span class="p">(</span><span class="n">outlineColor</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">580</span><span class="p">,</span><span class="w"> </span><span class="mi">560</span><span class="p">));</span>
<a id="__codelineno-21-90" name="__codelineno-21-90" href="#__codelineno-21-90"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-21-91" name="__codelineno-21-91" href="#__codelineno-21-91"></a><span class="p">}</span>
</code></pre></div>
<h4 id="2-集中線描画">2. 集中線描画<a class="headerlink" href="#2-集中線描画" title="Permanent link">&para;</a></h4>
<p>実験的ライブラリ群 HamFramework に追加された <code>SaturatedLinework</code> クラスによって、コミカルな効果や疾走感を演出するための集中線を簡単に描画できるようになりました。設定するパラメータは、ターゲットの図形、外周の長方形、線の本数、線の太さ、長さのばらつき、乱数シードなどがあり、<code>.draw()</code> の引数で色を指定できます。多数の三角形を生成して描画する方法で表現されています。パラメータを変更しなければ、生成した三角形は再利用されます。</p>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v042/04.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;HamFramework.hpp&gt;</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="p">{</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.98</span><span class="p">,</span><span class="w"> </span><span class="mf">0.96</span><span class="p">,</span><span class="w"> </span><span class="mf">0.94</span><span class="p">));</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">	</span><span class="c1">// ターゲットの図形</span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="w">	</span><span class="n">Ellipse</span><span class="w"> </span><span class="n">target</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w"> </span><span class="mi">120</span><span class="p">);</span>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="w">	</span><span class="c1">// 外周の長方形</span>
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="w">	</span><span class="n">Rect</span><span class="w"> </span><span class="n">outer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Scene</span><span class="o">::</span><span class="n">Rect</span><span class="p">();</span>
<a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a>
<a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="w">	</span><span class="c1">// 線の太さ</span>
<a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="w">	</span><span class="kt">double</span><span class="w"> </span><span class="n">minThickness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.0</span><span class="p">,</span><span class="w"> </span><span class="n">maxThickness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">10.0</span><span class="p">;</span>
<a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a><span class="w">	</span>
<a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="w">	</span><span class="c1">// 線の本数</span>
<a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a><span class="w">	</span><span class="kt">double</span><span class="w"> </span><span class="n">lineCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">150</span><span class="p">;</span>
<a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a>
<a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a><span class="w">	</span><span class="c1">// 線の長さのばらつき</span>
<a id="__codelineno-22-21" name="__codelineno-22-21" href="#__codelineno-22-21"></a><span class="w">	</span><span class="kt">double</span><span class="w"> </span><span class="n">offsetRange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">60.0</span><span class="p">;</span>
<a id="__codelineno-22-22" name="__codelineno-22-22" href="#__codelineno-22-22"></a>
<a id="__codelineno-22-23" name="__codelineno-22-23" href="#__codelineno-22-23"></a><span class="w">	</span><span class="c1">// 乱数シード</span>
<a id="__codelineno-22-24" name="__codelineno-22-24" href="#__codelineno-22-24"></a><span class="w">	</span><span class="n">uint64</span><span class="w"> </span><span class="n">seed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12345</span><span class="p">;</span>
<a id="__codelineno-22-25" name="__codelineno-22-25" href="#__codelineno-22-25"></a>
<a id="__codelineno-22-26" name="__codelineno-22-26" href="#__codelineno-22-26"></a><span class="w">	</span><span class="n">SaturatedLinework</span><span class="o">&lt;</span><span class="n">Ellipse</span><span class="o">&gt;</span><span class="w"> </span><span class="n">linework</span><span class="p">(</span><span class="n">target</span><span class="p">,</span><span class="w"> </span><span class="n">outer</span><span class="p">);</span>
<a id="__codelineno-22-27" name="__codelineno-22-27" href="#__codelineno-22-27"></a><span class="w">	</span><span class="n">linework</span>
<a id="__codelineno-22-28" name="__codelineno-22-28" href="#__codelineno-22-28"></a><span class="w">		</span><span class="p">.</span><span class="n">setThickness</span><span class="p">(</span><span class="n">minThickness</span><span class="p">,</span><span class="w"> </span><span class="n">maxThickness</span><span class="p">)</span>
<a id="__codelineno-22-29" name="__codelineno-22-29" href="#__codelineno-22-29"></a><span class="w">		</span><span class="p">.</span><span class="n">setLineCount</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">size_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">lineCount</span><span class="p">))</span>
<a id="__codelineno-22-30" name="__codelineno-22-30" href="#__codelineno-22-30"></a><span class="w">		</span><span class="p">.</span><span class="n">setOffsetRange</span><span class="p">(</span><span class="n">offsetRange</span><span class="p">);</span>
<a id="__codelineno-22-31" name="__codelineno-22-31" href="#__codelineno-22-31"></a>
<a id="__codelineno-22-32" name="__codelineno-22-32" href="#__codelineno-22-32"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">texture</span><span class="p">(</span><span class="n">Emoji</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;🦀&quot;</span><span class="p">));</span>
<a id="__codelineno-22-33" name="__codelineno-22-33" href="#__codelineno-22-33"></a>
<a id="__codelineno-22-34" name="__codelineno-22-34" href="#__codelineno-22-34"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-22-35" name="__codelineno-22-35" href="#__codelineno-22-35"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-22-36" name="__codelineno-22-36" href="#__codelineno-22-36"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">MouseR</span><span class="p">.</span><span class="n">down</span><span class="p">())</span>
<a id="__codelineno-22-37" name="__codelineno-22-37" href="#__codelineno-22-37"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-22-38" name="__codelineno-22-38" href="#__codelineno-22-38"></a><span class="w">			</span><span class="n">target</span><span class="p">.</span><span class="n">setCenter</span><span class="p">(</span><span class="n">Cursor</span><span class="o">::</span><span class="n">Pos</span><span class="p">());</span>
<a id="__codelineno-22-39" name="__codelineno-22-39" href="#__codelineno-22-39"></a><span class="w">			</span><span class="n">linework</span><span class="p">.</span><span class="n">setTargetShape</span><span class="p">(</span><span class="n">target</span><span class="p">);</span>
<a id="__codelineno-22-40" name="__codelineno-22-40" href="#__codelineno-22-40"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-22-41" name="__codelineno-22-41" href="#__codelineno-22-41"></a>
<a id="__codelineno-22-42" name="__codelineno-22-42" href="#__codelineno-22-42"></a><span class="w">		</span><span class="n">texture</span><span class="p">.</span><span class="n">scaled</span><span class="p">(</span><span class="mf">1.6</span><span class="p">).</span><span class="n">drawAt</span><span class="p">(</span><span class="n">target</span><span class="p">.</span><span class="n">center</span><span class="p">);</span>
<a id="__codelineno-22-43" name="__codelineno-22-43" href="#__codelineno-22-43"></a>
<a id="__codelineno-22-44" name="__codelineno-22-44" href="#__codelineno-22-44"></a><span class="w">		</span><span class="c1">// 集中線を描画</span>
<a id="__codelineno-22-45" name="__codelineno-22-45" href="#__codelineno-22-45"></a><span class="w">		</span><span class="n">linework</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.1</span><span class="p">));</span>
<a id="__codelineno-22-46" name="__codelineno-22-46" href="#__codelineno-22-46"></a>
<a id="__codelineno-22-47" name="__codelineno-22-47" href="#__codelineno-22-47"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Slider</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;lineCount&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">lineCount</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">400.0</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">),</span><span class="w"> </span><span class="mi">150</span><span class="p">))</span>
<a id="__codelineno-22-48" name="__codelineno-22-48" href="#__codelineno-22-48"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-22-49" name="__codelineno-22-49" href="#__codelineno-22-49"></a><span class="w">			</span><span class="n">linework</span><span class="p">.</span><span class="n">setLineCount</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">size_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">lineCount</span><span class="p">));</span>
<a id="__codelineno-22-50" name="__codelineno-22-50" href="#__codelineno-22-50"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-22-51" name="__codelineno-22-51" href="#__codelineno-22-51"></a>
<a id="__codelineno-22-52" name="__codelineno-22-52" href="#__codelineno-22-52"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Slider</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;offsetRange&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">offsetRange</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">),</span><span class="w"> </span><span class="mi">150</span><span class="p">))</span>
<a id="__codelineno-22-53" name="__codelineno-22-53" href="#__codelineno-22-53"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-22-54" name="__codelineno-22-54" href="#__codelineno-22-54"></a><span class="w">			</span><span class="n">linework</span><span class="p">.</span><span class="n">setOffsetRange</span><span class="p">(</span><span class="n">offsetRange</span><span class="p">);</span>
<a id="__codelineno-22-55" name="__codelineno-22-55" href="#__codelineno-22-55"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-22-56" name="__codelineno-22-56" href="#__codelineno-22-56"></a>
<a id="__codelineno-22-57" name="__codelineno-22-57" href="#__codelineno-22-57"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Change seed&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)))</span>
<a id="__codelineno-22-58" name="__codelineno-22-58" href="#__codelineno-22-58"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-22-59" name="__codelineno-22-59" href="#__codelineno-22-59"></a><span class="w">			</span><span class="n">seed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RandomUint64</span><span class="p">();</span>
<a id="__codelineno-22-60" name="__codelineno-22-60" href="#__codelineno-22-60"></a><span class="w">			</span><span class="n">linework</span><span class="p">.</span><span class="n">setSeed</span><span class="p">(</span><span class="n">seed</span><span class="p">);</span>
<a id="__codelineno-22-61" name="__codelineno-22-61" href="#__codelineno-22-61"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-22-62" name="__codelineno-22-62" href="#__codelineno-22-62"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-22-63" name="__codelineno-22-63" href="#__codelineno-22-63"></a><span class="p">}</span>
</code></pre></div>
<h4 id="3-シリアル通信">3. シリアル通信<a class="headerlink" href="#3-シリアル通信" title="Permanent link">&para;</a></h4>
<p>シリアル通信を使って、外部デバイスとデータの送受信ができるようになりました。以下では Arduino UNO で LED の点灯/消灯を PC から制御し、合わせて 1 バイトの数値データをやり取りするサンプルを示します。</p>
<h5 id="arduino-のコード">Arduino のコード<a class="headerlink" href="#arduino-のコード" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="p">{</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">	</span><span class="n">pinMode</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span><span class="w"> </span><span class="c1">// 13 ピン - LED - 抵抗 - GND</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">	</span><span class="c1">// 9600bps でシリアルポートを開く</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">	</span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="p">}</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// テスト用に PC 側に送る値</span>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span>
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="p">{</span>
<a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="w">	</span><span class="c1">// 250 ミリ秒止める</span>
<a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="w">	</span><span class="n">delay</span><span class="p">(</span><span class="mi">250</span><span class="p">);</span>
<a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a>
<a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="w">	</span><span class="c1">// シリアルポートに 1 バイト出力</span>
<a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="w">	</span><span class="n">Serial</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a>
<a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a><span class="w">	</span><span class="o">++</span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a>
<a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a><span class="w">	</span><span class="c1">// シリアル通信で受信したデータを読み込む</span>
<a id="__codelineno-23-22" name="__codelineno-23-22" href="#__codelineno-23-22"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Serial</span><span class="p">.</span><span class="n">read</span><span class="p">();</span>
<a id="__codelineno-23-23" name="__codelineno-23-23" href="#__codelineno-23-23"></a>
<a id="__codelineno-23-24" name="__codelineno-23-24" href="#__codelineno-23-24"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="c1">// 受信したデーが無い</span>
<a id="__codelineno-23-25" name="__codelineno-23-25" href="#__codelineno-23-25"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-23-26" name="__codelineno-23-26" href="#__codelineno-23-26"></a><span class="w">		</span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-23-27" name="__codelineno-23-27" href="#__codelineno-23-27"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-23-28" name="__codelineno-23-28" href="#__codelineno-23-28"></a>
<a id="__codelineno-23-29" name="__codelineno-23-29" href="#__codelineno-23-29"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-23-30" name="__codelineno-23-30" href="#__codelineno-23-30"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-23-31" name="__codelineno-23-31" href="#__codelineno-23-31"></a><span class="w">		</span><span class="n">digitalWrite</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span><span class="w"> </span><span class="c1">// LOW を出力</span>
<a id="__codelineno-23-32" name="__codelineno-23-32" href="#__codelineno-23-32"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-23-33" name="__codelineno-23-33" href="#__codelineno-23-33"></a><span class="w">	</span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-23-34" name="__codelineno-23-34" href="#__codelineno-23-34"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-23-35" name="__codelineno-23-35" href="#__codelineno-23-35"></a><span class="w">		</span><span class="n">digitalWrite</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span><span class="w"> </span><span class="c1">// HIGH を出力</span>
<a id="__codelineno-23-36" name="__codelineno-23-36" href="#__codelineno-23-36"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-23-37" name="__codelineno-23-37" href="#__codelineno-23-37"></a><span class="w">	</span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-23-38" name="__codelineno-23-38" href="#__codelineno-23-38"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-23-39" name="__codelineno-23-39" href="#__codelineno-23-39"></a><span class="w">		</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-23-40" name="__codelineno-23-40" href="#__codelineno-23-40"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-23-41" name="__codelineno-23-41" href="#__codelineno-23-41"></a><span class="p">}</span>
</code></pre></div>
<h5 id="pc-側のコード">PC 側のコード<a class="headerlink" href="#pc-側のコード" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="p">{</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">	</span><span class="c1">// シリアルポートの一覧を取得</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="n">SerialPortInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="n">infos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="o">::</span><span class="n">EnumerateSerialPorts</span><span class="p">();</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">infos</span><span class="p">.</span><span class="n">map</span><span class="p">([](</span><span class="k">const</span><span class="w"> </span><span class="n">SerialPortInfo</span><span class="o">&amp;</span><span class="w"> </span><span class="n">info</span><span class="p">)</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;{} ({})&quot;</span><span class="n">_fmt</span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">info</span><span class="p">.</span><span class="n">description</span><span class="p">);</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="w">	</span><span class="p">})</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;none&quot;</span><span class="p">;</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="w">	</span><span class="n">Serial</span><span class="w"> </span><span class="n">serial</span><span class="p">;</span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="w">	</span><span class="kt">size_t</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">options</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a>
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">isOpen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">serial</span><span class="p">.</span><span class="n">isOpen</span><span class="p">();</span><span class="w"> </span><span class="c1">// OpenSiv3D v0.4.2 以前は serial.isOpened()</span>
<a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a>
<a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Write 0&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">),</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="n">isOpen</span><span class="p">))</span>
<a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a><span class="w">			</span><span class="c1">// 1 バイトのデータ (0) を書き込む</span>
<a id="__codelineno-24-22" name="__codelineno-24-22" href="#__codelineno-24-22"></a><span class="w">			</span><span class="n">serial</span><span class="p">.</span><span class="n">writeByte</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-24-23" name="__codelineno-24-23" href="#__codelineno-24-23"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-24-24" name="__codelineno-24-24" href="#__codelineno-24-24"></a>
<a id="__codelineno-24-25" name="__codelineno-24-25" href="#__codelineno-24-25"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Write 1&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">340</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">),</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="n">isOpen</span><span class="p">))</span>
<a id="__codelineno-24-26" name="__codelineno-24-26" href="#__codelineno-24-26"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-24-27" name="__codelineno-24-27" href="#__codelineno-24-27"></a><span class="w">			</span><span class="c1">// 1 バイトのデータ (1) を書き込む</span>
<a id="__codelineno-24-28" name="__codelineno-24-28" href="#__codelineno-24-28"></a><span class="w">			</span><span class="n">serial</span><span class="p">.</span><span class="n">writeByte</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-24-29" name="__codelineno-24-29" href="#__codelineno-24-29"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-24-30" name="__codelineno-24-30" href="#__codelineno-24-30"></a>
<a id="__codelineno-24-31" name="__codelineno-24-31" href="#__codelineno-24-31"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Write 2&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">480</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">),</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="n">isOpen</span><span class="p">))</span>
<a id="__codelineno-24-32" name="__codelineno-24-32" href="#__codelineno-24-32"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-24-33" name="__codelineno-24-33" href="#__codelineno-24-33"></a><span class="w">			</span><span class="c1">// 1 バイトのデータ (2) を書き込む</span>
<a id="__codelineno-24-34" name="__codelineno-24-34" href="#__codelineno-24-34"></a><span class="w">			</span><span class="n">serial</span><span class="p">.</span><span class="n">writeByte</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-24-35" name="__codelineno-24-35" href="#__codelineno-24-35"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-24-36" name="__codelineno-24-36" href="#__codelineno-24-36"></a>
<a id="__codelineno-24-37" name="__codelineno-24-37" href="#__codelineno-24-37"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">RadioButtons</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">)))</span>
<a id="__codelineno-24-38" name="__codelineno-24-38" href="#__codelineno-24-38"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-24-39" name="__codelineno-24-39" href="#__codelineno-24-39"></a><span class="w">			</span><span class="n">ClearPrint</span><span class="p">();</span>
<a id="__codelineno-24-40" name="__codelineno-24-40" href="#__codelineno-24-40"></a>
<a id="__codelineno-24-41" name="__codelineno-24-41" href="#__codelineno-24-41"></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">(</span><span class="n">options</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-24-42" name="__codelineno-24-42" href="#__codelineno-24-42"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-24-43" name="__codelineno-24-43" href="#__codelineno-24-43"></a><span class="w">				</span><span class="n">serial</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Serial</span><span class="p">();</span>
<a id="__codelineno-24-44" name="__codelineno-24-44" href="#__codelineno-24-44"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-24-45" name="__codelineno-24-45" href="#__codelineno-24-45"></a><span class="w">			</span><span class="k">else</span>
<a id="__codelineno-24-46" name="__codelineno-24-46" href="#__codelineno-24-46"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-24-47" name="__codelineno-24-47" href="#__codelineno-24-47"></a><span class="w">				</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Open {}&quot;</span><span class="n">_fmt</span><span class="p">(</span><span class="n">infos</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">port</span><span class="p">);</span>
<a id="__codelineno-24-48" name="__codelineno-24-48" href="#__codelineno-24-48"></a>
<a id="__codelineno-24-49" name="__codelineno-24-49" href="#__codelineno-24-49"></a><span class="w">				</span><span class="c1">// シリアルポートをオープン</span>
<a id="__codelineno-24-50" name="__codelineno-24-50" href="#__codelineno-24-50"></a><span class="w">				</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">serial</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="n">infos</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">port</span><span class="p">))</span>
<a id="__codelineno-24-51" name="__codelineno-24-51" href="#__codelineno-24-51"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-24-52" name="__codelineno-24-52" href="#__codelineno-24-52"></a><span class="w">					</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Succeeded&quot;</span><span class="p">;</span>
<a id="__codelineno-24-53" name="__codelineno-24-53" href="#__codelineno-24-53"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-24-54" name="__codelineno-24-54" href="#__codelineno-24-54"></a><span class="w">				</span><span class="k">else</span>
<a id="__codelineno-24-55" name="__codelineno-24-55" href="#__codelineno-24-55"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-24-56" name="__codelineno-24-56" href="#__codelineno-24-56"></a><span class="w">					</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Failed&quot;</span><span class="p">;</span>
<a id="__codelineno-24-57" name="__codelineno-24-57" href="#__codelineno-24-57"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-24-58" name="__codelineno-24-58" href="#__codelineno-24-58"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-24-59" name="__codelineno-24-59" href="#__codelineno-24-59"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-24-60" name="__codelineno-24-60" href="#__codelineno-24-60"></a>
<a id="__codelineno-24-61" name="__codelineno-24-61" href="#__codelineno-24-61"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">serial</span><span class="p">.</span><span class="n">available</span><span class="p">())</span>
<a id="__codelineno-24-62" name="__codelineno-24-62" href="#__codelineno-24-62"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-24-63" name="__codelineno-24-63" href="#__codelineno-24-63"></a><span class="w">			</span><span class="c1">// シリアル通信で受信したデータを読み込んで表示</span>
<a id="__codelineno-24-64" name="__codelineno-24-64" href="#__codelineno-24-64"></a><span class="w">			</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;READ: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">serial</span><span class="p">.</span><span class="n">readBytes</span><span class="p">();</span>
<a id="__codelineno-24-65" name="__codelineno-24-65" href="#__codelineno-24-65"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-24-66" name="__codelineno-24-66" href="#__codelineno-24-66"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-24-67" name="__codelineno-24-67" href="#__codelineno-24-67"></a><span class="p">}</span>
</code></pre></div>
<h4 id="4-poissondisk2d">4. PoissonDisk2D<a class="headerlink" href="#4-poissondisk2d" title="Permanent link">&para;</a></h4>
<p>ほどよい距離で重ならない点群を生成する <code>PoissonDisk2D</code> クラスが追加されました。</p>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v042/05.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="p">{</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4</span><span class="p">));</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Rect</span><span class="w"> </span><span class="n">rect</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">);</span>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="w">	</span><span class="kt">double</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">15.0</span><span class="p">;</span>
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="w">	</span><span class="c1">// 点群を生成</span>
<a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="w">	</span><span class="n">PoissonDisk2D</span><span class="w"> </span><span class="n">pd</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">);</span>
<a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a>
<a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a><span class="w">		</span><span class="n">rect</span><span class="p">.</span><span class="n">drawFrame</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.2</span><span class="p">));</span>
<a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a>
<a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">pd</span><span class="p">.</span><span class="n">getPoints</span><span class="p">())</span>
<a id="__codelineno-25-19" name="__codelineno-25-19" href="#__codelineno-25-19"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-25-20" name="__codelineno-25-20" href="#__codelineno-25-20"></a><span class="w">			</span><span class="n">Circle</span><span class="p">(</span><span class="n">point</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">4</span><span class="p">).</span><span class="n">movedBy</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="n">pos</span><span class="p">).</span><span class="n">draw</span><span class="p">();</span>
<a id="__codelineno-25-21" name="__codelineno-25-21" href="#__codelineno-25-21"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-25-22" name="__codelineno-25-22" href="#__codelineno-25-22"></a>
<a id="__codelineno-25-23" name="__codelineno-25-23" href="#__codelineno-25-23"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Slider</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w"> </span><span class="mf">40.0</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)))</span>
<a id="__codelineno-25-24" name="__codelineno-25-24" href="#__codelineno-25-24"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-25-25" name="__codelineno-25-25" href="#__codelineno-25-25"></a><span class="w">			</span><span class="n">pd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PoissonDisk2D</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">);</span>
<a id="__codelineno-25-26" name="__codelineno-25-26" href="#__codelineno-25-26"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-25-27" name="__codelineno-25-27" href="#__codelineno-25-27"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-25-28" name="__codelineno-25-28" href="#__codelineno-25-28"></a><span class="p">}</span>
</code></pre></div>
<h4 id="5-jsonwriter">5. JSONWriter<a class="headerlink" href="#5-jsonwriter" title="Permanent link">&para;</a></h4>
<p>成形された JSON ファイルを出力するヘルパークラスが追加されました。順次出力のため、実際に保存されるのと同じ順番でデータを出力をする必要があります。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="p">{</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="w">	</span><span class="n">JSONWriter</span><span class="w"> </span><span class="n">json</span><span class="p">;</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="w">	</span><span class="n">json</span><span class="p">.</span><span class="n">startObject</span><span class="p">();</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="w">		</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Window&quot;</span><span class="p">).</span><span class="n">startObject</span><span class="p">();</span>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="w">			</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;title&quot;</span><span class="p">).</span><span class="n">write</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;My application&quot;</span><span class="p">);</span>
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="w">			</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;width&quot;</span><span class="p">).</span><span class="n">write</span><span class="p">(</span><span class="mi">800</span><span class="p">);</span>
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="w">			</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;height&quot;</span><span class="p">).</span><span class="n">write</span><span class="p">(</span><span class="mi">600</span><span class="p">);</span>
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a><span class="w">			</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;sizable&quot;</span><span class="p">).</span><span class="n">write</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="w">		</span><span class="n">json</span><span class="p">.</span><span class="n">endObject</span><span class="p">();</span>
<a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a>
<a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a><span class="w">		</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Scene&quot;</span><span class="p">).</span><span class="n">startObject</span><span class="p">();</span>
<a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a><span class="w">			</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;background&quot;</span><span class="p">).</span><span class="n">write</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span><span class="w"> </span><span class="mf">0.9</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-26-21" name="__codelineno-26-21" href="#__codelineno-26-21"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-26-22" name="__codelineno-26-22" href="#__codelineno-26-22"></a><span class="w">		</span><span class="n">json</span><span class="p">.</span><span class="n">endObject</span><span class="p">();</span>
<a id="__codelineno-26-23" name="__codelineno-26-23" href="#__codelineno-26-23"></a>
<a id="__codelineno-26-24" name="__codelineno-26-24" href="#__codelineno-26-24"></a><span class="w">		</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Array&quot;</span><span class="p">).</span><span class="n">startObject</span><span class="p">();</span>
<a id="__codelineno-26-25" name="__codelineno-26-25" href="#__codelineno-26-25"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-26-26" name="__codelineno-26-26" href="#__codelineno-26-26"></a><span class="w">			</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;values&quot;</span><span class="p">).</span><span class="n">writeArray</span><span class="p">({</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w"> </span><span class="mi">44</span><span class="p">,</span><span class="w"> </span><span class="mi">55</span><span class="w"> </span><span class="p">});</span>
<a id="__codelineno-26-27" name="__codelineno-26-27" href="#__codelineno-26-27"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-26-28" name="__codelineno-26-28" href="#__codelineno-26-28"></a><span class="w">		</span><span class="n">json</span><span class="p">.</span><span class="n">endObject</span><span class="p">();</span>
<a id="__codelineno-26-29" name="__codelineno-26-29" href="#__codelineno-26-29"></a>
<a id="__codelineno-26-30" name="__codelineno-26-30" href="#__codelineno-26-30"></a><span class="w">		</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Items&quot;</span><span class="p">).</span><span class="n">startArray</span><span class="p">();</span>
<a id="__codelineno-26-31" name="__codelineno-26-31" href="#__codelineno-26-31"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-26-32" name="__codelineno-26-32" href="#__codelineno-26-32"></a><span class="w">			</span><span class="n">json</span><span class="p">.</span><span class="n">startObject</span><span class="p">();</span>
<a id="__codelineno-26-33" name="__codelineno-26-33" href="#__codelineno-26-33"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-26-34" name="__codelineno-26-34" href="#__codelineno-26-34"></a><span class="w">				</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;label&quot;</span><span class="p">).</span><span class="n">write</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Forest&quot;</span><span class="p">);</span>
<a id="__codelineno-26-35" name="__codelineno-26-35" href="#__codelineno-26-35"></a>
<a id="__codelineno-26-36" name="__codelineno-26-36" href="#__codelineno-26-36"></a><span class="w">				</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;pos&quot;</span><span class="p">).</span><span class="n">startObject</span><span class="p">();</span>
<a id="__codelineno-26-37" name="__codelineno-26-37" href="#__codelineno-26-37"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-26-38" name="__codelineno-26-38" href="#__codelineno-26-38"></a><span class="w">					</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;x&quot;</span><span class="p">).</span><span class="n">write</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<a id="__codelineno-26-39" name="__codelineno-26-39" href="#__codelineno-26-39"></a><span class="w">					</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;y&quot;</span><span class="p">).</span><span class="n">write</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<a id="__codelineno-26-40" name="__codelineno-26-40" href="#__codelineno-26-40"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-26-41" name="__codelineno-26-41" href="#__codelineno-26-41"></a><span class="w">				</span><span class="n">json</span><span class="p">.</span><span class="n">endObject</span><span class="p">();</span>
<a id="__codelineno-26-42" name="__codelineno-26-42" href="#__codelineno-26-42"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-26-43" name="__codelineno-26-43" href="#__codelineno-26-43"></a><span class="w">			</span><span class="n">json</span><span class="p">.</span><span class="n">endObject</span><span class="p">();</span>
<a id="__codelineno-26-44" name="__codelineno-26-44" href="#__codelineno-26-44"></a>
<a id="__codelineno-26-45" name="__codelineno-26-45" href="#__codelineno-26-45"></a><span class="w">			</span><span class="n">json</span><span class="p">.</span><span class="n">startObject</span><span class="p">();</span>
<a id="__codelineno-26-46" name="__codelineno-26-46" href="#__codelineno-26-46"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-26-47" name="__codelineno-26-47" href="#__codelineno-26-47"></a><span class="w">				</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;label&quot;</span><span class="p">).</span><span class="n">write</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Ocean&quot;</span><span class="p">);</span>
<a id="__codelineno-26-48" name="__codelineno-26-48" href="#__codelineno-26-48"></a>
<a id="__codelineno-26-49" name="__codelineno-26-49" href="#__codelineno-26-49"></a><span class="w">				</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;pos&quot;</span><span class="p">).</span><span class="n">startObject</span><span class="p">();</span>
<a id="__codelineno-26-50" name="__codelineno-26-50" href="#__codelineno-26-50"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-26-51" name="__codelineno-26-51" href="#__codelineno-26-51"></a><span class="w">					</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;x&quot;</span><span class="p">).</span><span class="n">write</span><span class="p">(</span><span class="mi">300</span><span class="p">);</span>
<a id="__codelineno-26-52" name="__codelineno-26-52" href="#__codelineno-26-52"></a><span class="w">					</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;y&quot;</span><span class="p">).</span><span class="n">write</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
<a id="__codelineno-26-53" name="__codelineno-26-53" href="#__codelineno-26-53"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-26-54" name="__codelineno-26-54" href="#__codelineno-26-54"></a><span class="w">				</span><span class="n">json</span><span class="p">.</span><span class="n">endObject</span><span class="p">();</span>
<a id="__codelineno-26-55" name="__codelineno-26-55" href="#__codelineno-26-55"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-26-56" name="__codelineno-26-56" href="#__codelineno-26-56"></a><span class="w">			</span><span class="n">json</span><span class="p">.</span><span class="n">endObject</span><span class="p">();</span>
<a id="__codelineno-26-57" name="__codelineno-26-57" href="#__codelineno-26-57"></a>
<a id="__codelineno-26-58" name="__codelineno-26-58" href="#__codelineno-26-58"></a><span class="w">			</span><span class="n">json</span><span class="p">.</span><span class="n">startObject</span><span class="p">();</span>
<a id="__codelineno-26-59" name="__codelineno-26-59" href="#__codelineno-26-59"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-26-60" name="__codelineno-26-60" href="#__codelineno-26-60"></a><span class="w">				</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;label&quot;</span><span class="p">).</span><span class="n">write</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Mountain&quot;</span><span class="p">);</span>
<a id="__codelineno-26-61" name="__codelineno-26-61" href="#__codelineno-26-61"></a>
<a id="__codelineno-26-62" name="__codelineno-26-62" href="#__codelineno-26-62"></a><span class="w">				</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;pos&quot;</span><span class="p">).</span><span class="n">startObject</span><span class="p">();</span>
<a id="__codelineno-26-63" name="__codelineno-26-63" href="#__codelineno-26-63"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-26-64" name="__codelineno-26-64" href="#__codelineno-26-64"></a><span class="w">					</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;x&quot;</span><span class="p">).</span><span class="n">write</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<a id="__codelineno-26-65" name="__codelineno-26-65" href="#__codelineno-26-65"></a><span class="w">					</span><span class="n">json</span><span class="p">.</span><span class="n">key</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;y&quot;</span><span class="p">).</span><span class="n">write</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<a id="__codelineno-26-66" name="__codelineno-26-66" href="#__codelineno-26-66"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-26-67" name="__codelineno-26-67" href="#__codelineno-26-67"></a><span class="w">				</span><span class="n">json</span><span class="p">.</span><span class="n">endObject</span><span class="p">();</span>
<a id="__codelineno-26-68" name="__codelineno-26-68" href="#__codelineno-26-68"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-26-69" name="__codelineno-26-69" href="#__codelineno-26-69"></a><span class="w">			</span><span class="n">json</span><span class="p">.</span><span class="n">endObject</span><span class="p">();</span>
<a id="__codelineno-26-70" name="__codelineno-26-70" href="#__codelineno-26-70"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-26-71" name="__codelineno-26-71" href="#__codelineno-26-71"></a><span class="w">		</span><span class="n">json</span><span class="p">.</span><span class="n">endArray</span><span class="p">();</span>
<a id="__codelineno-26-72" name="__codelineno-26-72" href="#__codelineno-26-72"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-26-73" name="__codelineno-26-73" href="#__codelineno-26-73"></a><span class="w">	</span><span class="n">json</span><span class="p">.</span><span class="n">endObject</span><span class="p">();</span>
<a id="__codelineno-26-74" name="__codelineno-26-74" href="#__codelineno-26-74"></a>
<a id="__codelineno-26-75" name="__codelineno-26-75" href="#__codelineno-26-75"></a><span class="w">	</span><span class="c1">// ここまでの内容を保存</span>
<a id="__codelineno-26-76" name="__codelineno-26-76" href="#__codelineno-26-76"></a><span class="w">	</span><span class="n">json</span><span class="p">.</span><span class="n">save</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;test.json&quot;</span><span class="p">);</span>
<a id="__codelineno-26-77" name="__codelineno-26-77" href="#__codelineno-26-77"></a>
<a id="__codelineno-26-78" name="__codelineno-26-78" href="#__codelineno-26-78"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-26-79" name="__codelineno-26-79" href="#__codelineno-26-79"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-26-80" name="__codelineno-26-80" href="#__codelineno-26-80"></a>
<a id="__codelineno-26-81" name="__codelineno-26-81" href="#__codelineno-26-81"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-26-82" name="__codelineno-26-82" href="#__codelineno-26-82"></a><span class="p">}</span>
</code></pre></div>
<p>出力される JSON ファイル
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="p">{</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="nt">&quot;Window&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">	</span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;My application&quot;</span><span class="p">,</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="w">	</span><span class="nt">&quot;width&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">800</span><span class="p">,</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="w">	</span><span class="nt">&quot;height&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="w">	</span><span class="nt">&quot;sizable&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;false&quot;</span>
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="p">},</span>
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="nt">&quot;Scene&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="w">	</span><span class="nt">&quot;background&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;(0.8, 0.9, 1, 1)&quot;</span>
<a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="p">},</span>
<a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="nt">&quot;Array&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="w">	</span><span class="nt">&quot;values&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a><span class="w">	</span><span class="mi">11</span><span class="p">,</span>
<a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a><span class="w">	</span><span class="mi">22</span><span class="p">,</span>
<a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a><span class="w">	</span><span class="mi">33</span><span class="p">,</span>
<a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a><span class="w">	</span><span class="mi">44</span><span class="p">,</span>
<a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a><span class="w">	</span><span class="mi">55</span>
<a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a><span class="w">	</span><span class="p">]</span>
<a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a><span class="p">},</span>
<a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a><span class="nt">&quot;Items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-27-22" name="__codelineno-27-22" href="#__codelineno-27-22"></a><span class="w">	</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Forest&quot;</span><span class="p">,</span>
<a id="__codelineno-27-23" name="__codelineno-27-23" href="#__codelineno-27-23"></a><span class="w">	</span><span class="nt">&quot;pos&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-24" name="__codelineno-27-24" href="#__codelineno-27-24"></a><span class="w">		</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<a id="__codelineno-27-25" name="__codelineno-27-25" href="#__codelineno-27-25"></a><span class="w">		</span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span>
<a id="__codelineno-27-26" name="__codelineno-27-26" href="#__codelineno-27-26"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-27-27" name="__codelineno-27-27" href="#__codelineno-27-27"></a><span class="w">	</span><span class="p">},</span>
<a id="__codelineno-27-28" name="__codelineno-27-28" href="#__codelineno-27-28"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-27-29" name="__codelineno-27-29" href="#__codelineno-27-29"></a><span class="w">	</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Ocean&quot;</span><span class="p">,</span>
<a id="__codelineno-27-30" name="__codelineno-27-30" href="#__codelineno-27-30"></a><span class="w">	</span><span class="nt">&quot;pos&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-31" name="__codelineno-27-31" href="#__codelineno-27-31"></a><span class="w">		</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span>
<a id="__codelineno-27-32" name="__codelineno-27-32" href="#__codelineno-27-32"></a><span class="w">		</span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span>
<a id="__codelineno-27-33" name="__codelineno-27-33" href="#__codelineno-27-33"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-27-34" name="__codelineno-27-34" href="#__codelineno-27-34"></a><span class="w">	</span><span class="p">},</span>
<a id="__codelineno-27-35" name="__codelineno-27-35" href="#__codelineno-27-35"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-27-36" name="__codelineno-27-36" href="#__codelineno-27-36"></a><span class="w">	</span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mountain&quot;</span><span class="p">,</span>
<a id="__codelineno-27-37" name="__codelineno-27-37" href="#__codelineno-27-37"></a><span class="w">	</span><span class="nt">&quot;pos&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-38" name="__codelineno-27-38" href="#__codelineno-27-38"></a><span class="w">		</span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<a id="__codelineno-27-39" name="__codelineno-27-39" href="#__codelineno-27-39"></a><span class="w">		</span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span>
<a id="__codelineno-27-40" name="__codelineno-27-40" href="#__codelineno-27-40"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-27-41" name="__codelineno-27-41" href="#__codelineno-27-41"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-27-42" name="__codelineno-27-42" href="#__codelineno-27-42"></a><span class="p">]</span>
<a id="__codelineno-27-43" name="__codelineno-27-43" href="#__codelineno-27-43"></a><span class="p">}</span>
</code></pre></div></p>
<h4 id="6-geometry2disclockwise">6. Geometry2D::IsClockwise()<a class="headerlink" href="#6-geometry2disclockwise" title="Permanent link">&para;</a></h4>
<p>頂点の配列が時計回りかどうかを判定する関数が追加されました。</p>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v042/06.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="p">{</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.96</span><span class="p">,</span><span class="w"> </span><span class="mf">0.98</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="w">	</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="w">	</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">Vec2</span><span class="o">&gt;</span><span class="w"> </span><span class="n">points</span><span class="p">;</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">MouseL</span><span class="p">.</span><span class="n">down</span><span class="p">())</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="w">			</span><span class="n">points</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Cursor</span><span class="o">::</span><span class="n">Pos</span><span class="p">();</span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">MouseR</span><span class="p">.</span><span class="n">down</span><span class="p">())</span>
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="w">			</span><span class="n">points</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
<a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a>
<a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">isClockwise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Geometry2D</span><span class="o">::</span><span class="n">IsClockwise</span><span class="p">(</span><span class="n">points</span><span class="p">);</span>
<a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a>
<a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a><span class="w">		</span><span class="n">ClearPrint</span><span class="p">();</span>
<a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a><span class="w">		</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">isClockwise</span><span class="p">;</span>
<a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a>
<a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">points</span><span class="p">)</span>
<a id="__codelineno-28-27" name="__codelineno-28-27" href="#__codelineno-28-27"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-28-28" name="__codelineno-28-28" href="#__codelineno-28-28"></a><span class="w">			</span><span class="n">Circle</span><span class="p">(</span><span class="n">point</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">Palette</span><span class="o">::</span><span class="n">Orange</span><span class="p">);</span>
<a id="__codelineno-28-29" name="__codelineno-28-29" href="#__codelineno-28-29"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-28-30" name="__codelineno-28-30" href="#__codelineno-28-30"></a>
<a id="__codelineno-28-31" name="__codelineno-28-31" href="#__codelineno-28-31"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">points</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-28-32" name="__codelineno-28-32" href="#__codelineno-28-32"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-28-33" name="__codelineno-28-33" href="#__codelineno-28-33"></a><span class="w">			</span><span class="c1">// 時計回りになるように矢印でつなぐ</span>
<a id="__codelineno-28-34" name="__codelineno-28-34" href="#__codelineno-28-34"></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isClockwise</span><span class="p">)</span>
<a id="__codelineno-28-35" name="__codelineno-28-35" href="#__codelineno-28-35"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-28-36" name="__codelineno-28-36" href="#__codelineno-28-36"></a><span class="w">				</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">points</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-28-37" name="__codelineno-28-37" href="#__codelineno-28-37"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-28-38" name="__codelineno-28-38" href="#__codelineno-28-38"></a><span class="w">					</span><span class="n">Line</span><span class="p">(</span><span class="n">points</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">points</span><span class="p">[(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">points</span><span class="p">.</span><span class="n">size</span><span class="p">()])</span>
<a id="__codelineno-28-39" name="__codelineno-28-39" href="#__codelineno-28-39"></a><span class="w">						</span><span class="p">.</span><span class="n">stretched</span><span class="p">(</span><span class="mi">-10</span><span class="p">)</span>
<a id="__codelineno-28-40" name="__codelineno-28-40" href="#__codelineno-28-40"></a><span class="w">						</span><span class="p">.</span><span class="n">drawArrow</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="o">::</span><span class="n">All</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.25</span><span class="p">));</span>
<a id="__codelineno-28-41" name="__codelineno-28-41" href="#__codelineno-28-41"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-28-42" name="__codelineno-28-42" href="#__codelineno-28-42"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-28-43" name="__codelineno-28-43" href="#__codelineno-28-43"></a><span class="w">			</span><span class="k">else</span>
<a id="__codelineno-28-44" name="__codelineno-28-44" href="#__codelineno-28-44"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-28-45" name="__codelineno-28-45" href="#__codelineno-28-45"></a><span class="w">				</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">points</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-28-46" name="__codelineno-28-46" href="#__codelineno-28-46"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-28-47" name="__codelineno-28-47" href="#__codelineno-28-47"></a><span class="w">					</span><span class="n">Line</span><span class="p">(</span><span class="n">points</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="n">points</span><span class="p">[(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">points</span><span class="p">.</span><span class="n">size</span><span class="p">()])</span>
<a id="__codelineno-28-48" name="__codelineno-28-48" href="#__codelineno-28-48"></a><span class="w">						</span><span class="p">.</span><span class="n">reversed</span><span class="p">()</span>
<a id="__codelineno-28-49" name="__codelineno-28-49" href="#__codelineno-28-49"></a><span class="w">						</span><span class="p">.</span><span class="n">stretched</span><span class="p">(</span><span class="mi">-10</span><span class="p">)</span>
<a id="__codelineno-28-50" name="__codelineno-28-50" href="#__codelineno-28-50"></a><span class="w">						</span><span class="p">.</span><span class="n">drawArrow</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="o">::</span><span class="n">All</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.25</span><span class="p">));</span>
<a id="__codelineno-28-51" name="__codelineno-28-51" href="#__codelineno-28-51"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-28-52" name="__codelineno-28-52" href="#__codelineno-28-52"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-28-53" name="__codelineno-28-53" href="#__codelineno-28-53"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-28-54" name="__codelineno-28-54" href="#__codelineno-28-54"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-28-55" name="__codelineno-28-55" href="#__codelineno-28-55"></a><span class="p">}</span>
</code></pre></div>
<h4 id="7-circledrawinnercolor-outercolor">7. Circle::draw(innerColor, outerColor)<a class="headerlink" href="#7-circledrawinnercolor-outercolor" title="Permanent link">&para;</a></h4>
<p><code>Circle</code> や <code>Ellipse</code> で中心の色と外周の色を指定し、グラデーションで描画できるようになりました。</p>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v042/07.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="p">{</span>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="w">		</span><span class="c1">// 中心が黄色、外周が黒</span>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="w">		</span><span class="n">Circle</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Center</span><span class="p">(),</span><span class="w"> </span><span class="mi">400</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">Palette</span><span class="o">::</span><span class="n">Yellow</span><span class="p">,</span><span class="w"> </span><span class="n">Palette</span><span class="o">::</span><span class="n">Black</span><span class="p">);</span>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="p">}</span>
</code></pre></div>
<h4 id="8-simpleguiheadline--colorpicker">8. SimpleGUI::Headline / ColorPicker<a class="headerlink" href="#8-simpleguiheadline--colorpicker" title="Permanent link">&para;</a></h4>
<p>SimpleGUI に、見出しを付けるヘッドラインと、色を選択するカラーピッカーが追加されました。</p>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v042/08.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="p">{</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="w">	</span><span class="kt">double</span><span class="w"> </span><span class="n">p0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.5</span><span class="p">;</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="w">	</span><span class="n">HSV</span><span class="w"> </span><span class="n">hsv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Palette</span><span class="o">::</span><span class="n">Gray</span><span class="p">;</span>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="w">	</span><span class="kt">size_t</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="w">		</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">hsv</span><span class="p">);</span>
<a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a>
<a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a><span class="w">		</span><span class="c1">// Headline</span>
<a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Headline</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Config&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">));</span>
<a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a><span class="w">			</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Slider</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Param1&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">p0</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">));</span>
<a id="__codelineno-30-17" name="__codelineno-30-17" href="#__codelineno-30-17"></a><span class="w">			</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Slider</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Param2&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">));</span>
<a id="__codelineno-30-18" name="__codelineno-30-18" href="#__codelineno-30-18"></a><span class="w">			</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Slider</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Param3&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">140</span><span class="p">));</span>
<a id="__codelineno-30-19" name="__codelineno-30-19" href="#__codelineno-30-19"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-30-20" name="__codelineno-30-20" href="#__codelineno-30-20"></a>
<a id="__codelineno-30-21" name="__codelineno-30-21" href="#__codelineno-30-21"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Headline</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Background&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">240</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">));</span>
<a id="__codelineno-30-22" name="__codelineno-30-22" href="#__codelineno-30-22"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-30-23" name="__codelineno-30-23" href="#__codelineno-30-23"></a><span class="w">			</span><span class="c1">// カラーピッカー</span>
<a id="__codelineno-30-24" name="__codelineno-30-24" href="#__codelineno-30-24"></a><span class="w">			</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">ColorPicker</span><span class="p">(</span><span class="n">hsv</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">240</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">));</span>
<a id="__codelineno-30-25" name="__codelineno-30-25" href="#__codelineno-30-25"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-30-26" name="__codelineno-30-26" href="#__codelineno-30-26"></a>
<a id="__codelineno-30-27" name="__codelineno-30-27" href="#__codelineno-30-27"></a><span class="w">		</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Headline</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Terrain&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">420</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">));</span>
<a id="__codelineno-30-28" name="__codelineno-30-28" href="#__codelineno-30-28"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-30-29" name="__codelineno-30-29" href="#__codelineno-30-29"></a><span class="w">			</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">RadioButtons</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Plain&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Hill&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Mountain&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">420</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">),</span><span class="w"> </span><span class="mi">150</span><span class="p">);</span>
<a id="__codelineno-30-30" name="__codelineno-30-30" href="#__codelineno-30-30"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-30-31" name="__codelineno-30-31" href="#__codelineno-30-31"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-30-32" name="__codelineno-30-32" href="#__codelineno-30-32"></a><span class="p">}</span>
</code></pre></div>
<h4 id="9-toastnotification">9. ToastNotification<a class="headerlink" href="#9-toastnotification" title="Permanent link">&para;</a></h4>
<p>Windows でトースト通知を出せるようになりました。</p>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v042/09.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="p">{</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.9</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">));</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="w">	</span>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="w">	</span><span class="c1">// 通知ごとに割り振られる ID</span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="w">	</span><span class="n">NotificationID</span><span class="w"> </span><span class="n">latest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a>
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="w">	</span><span class="c1">// 画像を作成・保存</span>
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="w">	</span><span class="n">Emoji</span><span class="o">::</span><span class="n">CreateImage</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;🍕&quot;</span><span class="p">).</span><span class="n">save</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;pizza.png&quot;</span><span class="p">);</span>
<a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a>
<a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="w">		</span><span class="n">ClearPrint</span><span class="p">();</span>
<a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a>
<a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="w">		</span><span class="c1">// 通知の状態</span>
<a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="w">		</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">int32</span><span class="p">)</span><span class="n">Platform</span><span class="o">::</span><span class="n">Windows</span><span class="o">::</span><span class="n">ToastNotification</span><span class="o">::</span><span class="n">GetState</span><span class="p">(</span><span class="n">latest</span><span class="p">);</span>
<a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a>
<a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a><span class="w">		</span><span class="c1">// アクションボタンの結果</span>
<a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a><span class="w">		</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Action: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Platform</span><span class="o">::</span><span class="n">Windows</span><span class="o">::</span><span class="n">ToastNotification</span><span class="o">::</span><span class="n">GetAction</span><span class="p">(</span><span class="n">latest</span><span class="p">);</span>
<a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a>
<a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Send a notification&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">70</span><span class="p">)))</span>
<a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a><span class="w">			</span><span class="n">ToastNotificationProperty</span><span class="w"> </span><span class="n">toast</span><span class="p">{</span>
<a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a><span class="w">				</span><span class="p">.</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Title&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// 通知のタイトル</span>
<a id="__codelineno-31-27" name="__codelineno-31-27" href="#__codelineno-31-27"></a><span class="w">				</span><span class="p">.</span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Message&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// 通知の本文</span>
<a id="__codelineno-31-28" name="__codelineno-31-28" href="#__codelineno-31-28"></a><span class="w">				</span><span class="p">.</span><span class="n">imagePath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;pizza.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// 大きい画像だと使われないことがある</span>
<a id="__codelineno-31-29" name="__codelineno-31-29" href="#__codelineno-31-29"></a><span class="w">				</span><span class="p">.</span><span class="n">actions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Yes&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;No&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// アクションボタン（不要な場合は設定しない）</span>
<a id="__codelineno-31-30" name="__codelineno-31-30" href="#__codelineno-31-30"></a><span class="w">			</span><span class="p">};</span>
<a id="__codelineno-31-31" name="__codelineno-31-31" href="#__codelineno-31-31"></a>
<a id="__codelineno-31-32" name="__codelineno-31-32" href="#__codelineno-31-32"></a><span class="w">			</span><span class="c1">// 通知ごとに割り振られる ID を取得</span>
<a id="__codelineno-31-33" name="__codelineno-31-33" href="#__codelineno-31-33"></a><span class="w">			</span><span class="n">latest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Platform</span><span class="o">::</span><span class="n">Windows</span><span class="o">::</span><span class="n">ToastNotification</span><span class="o">::</span><span class="n">Show</span><span class="p">(</span><span class="n">toast</span><span class="p">);</span>
<a id="__codelineno-31-34" name="__codelineno-31-34" href="#__codelineno-31-34"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-31-35" name="__codelineno-31-35" href="#__codelineno-31-35"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-31-36" name="__codelineno-31-36" href="#__codelineno-31-36"></a><span class="p">}</span>
</code></pre></div>
<h4 id="10-simpleguimanager">10. SimpleGUIManager<a class="headerlink" href="#10-simpleguimanager" title="Permanent link">&para;</a></h4>
<p>TOML ファイルに SimpleGUI の各ウィジェットを記述し、プログラムでロードできるようになります。実行中に操作した値を保存することもできます。</p>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v042/10.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="p">{</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="w">	</span><span class="c1">// SimpleGUI のウィジェット情報を記述したファイル</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">FilePath</span><span class="w"> </span><span class="n">tomlPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FileSystem</span><span class="o">::</span><span class="n">FullPath</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;example/gui/gui.toml&quot;</span><span class="p">);</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="w">	</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="w">	</span><span class="c1">// 更新を検知</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">DirectoryWatcher</span><span class="w"> </span><span class="n">watcher</span><span class="p">(</span><span class="n">FileSystem</span><span class="o">::</span><span class="n">ParentPath</span><span class="p">(</span><span class="n">tomlPath</span><span class="p">));</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="w">	</span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="w">	</span><span class="c1">// GUI をロード</span>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="w">	</span><span class="n">SimpleGUIManager</span><span class="w"> </span><span class="n">gui</span><span class="p">(</span><span class="n">tomlPath</span><span class="p">);</span>
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a>
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a><span class="w">		</span><span class="c1">// TOML が更新されたら GUI を再ロード</span>
<a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">watcher</span><span class="p">.</span><span class="n">retrieveChanges</span><span class="p">())</span>
<a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">change</span><span class="p">.</span><span class="n">first</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">tomlPath</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">change</span><span class="p">.</span><span class="n">second</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">FileAction</span><span class="o">::</span><span class="n">Modified</span><span class="p">)</span>
<a id="__codelineno-32-20" name="__codelineno-32-20" href="#__codelineno-32-20"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-32-21" name="__codelineno-32-21" href="#__codelineno-32-21"></a><span class="w">				</span><span class="n">ClearPrint</span><span class="p">();</span>
<a id="__codelineno-32-22" name="__codelineno-32-22" href="#__codelineno-32-22"></a><span class="w">				</span><span class="n">gui</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">tomlPath</span><span class="p">);</span>
<a id="__codelineno-32-23" name="__codelineno-32-23" href="#__codelineno-32-23"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-32-24" name="__codelineno-32-24" href="#__codelineno-32-24"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-32-25" name="__codelineno-32-25" href="#__codelineno-32-25"></a>
<a id="__codelineno-32-26" name="__codelineno-32-26" href="#__codelineno-32-26"></a><span class="w">		</span><span class="c1">// GUI を更新・描画</span>
<a id="__codelineno-32-27" name="__codelineno-32-27" href="#__codelineno-32-27"></a><span class="w">		</span><span class="n">gui</span><span class="p">.</span><span class="n">draw</span><span class="p">();</span>
<a id="__codelineno-32-28" name="__codelineno-32-28" href="#__codelineno-32-28"></a>
<a id="__codelineno-32-29" name="__codelineno-32-29" href="#__codelineno-32-29"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">gui</span><span class="p">.</span><span class="n">button</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;bt-OK&quot;</span><span class="p">))</span><span class="w"> </span><span class="c1">// &quot;bt-OK&quot; という名前のボタンが押された</span>
<a id="__codelineno-32-30" name="__codelineno-32-30" href="#__codelineno-32-30"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-32-31" name="__codelineno-32-31" href="#__codelineno-32-31"></a><span class="w">			</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;OK&quot;</span><span class="p">;</span>
<a id="__codelineno-32-32" name="__codelineno-32-32" href="#__codelineno-32-32"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-32-33" name="__codelineno-32-33" href="#__codelineno-32-33"></a><span class="w">		</span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">gui</span><span class="p">.</span><span class="n">button</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;bt-Cancel&quot;</span><span class="p">))</span><span class="w"> </span><span class="c1">// &quot;bt-Cancel&quot; という名前のボタンが押された</span>
<a id="__codelineno-32-34" name="__codelineno-32-34" href="#__codelineno-32-34"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-32-35" name="__codelineno-32-35" href="#__codelineno-32-35"></a><span class="w">			</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Cancel&quot;</span><span class="p">;</span>
<a id="__codelineno-32-36" name="__codelineno-32-36" href="#__codelineno-32-36"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-32-37" name="__codelineno-32-37" href="#__codelineno-32-37"></a>
<a id="__codelineno-32-38" name="__codelineno-32-38" href="#__codelineno-32-38"></a><span class="w">		</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">gui</span><span class="p">.</span><span class="n">colorPicker</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;cp-Color&quot;</span><span class="p">));</span><span class="w"> </span><span class="c1">// &quot;cp-Color という名前のカラーピッカーの値 </span>
<a id="__codelineno-32-39" name="__codelineno-32-39" href="#__codelineno-32-39"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-32-40" name="__codelineno-32-40" href="#__codelineno-32-40"></a>
<a id="__codelineno-32-41" name="__codelineno-32-41" href="#__codelineno-32-41"></a><span class="w">	</span><span class="c1">// ウィジェット情報と値を save.toml という名前で保存する</span>
<a id="__codelineno-32-42" name="__codelineno-32-42" href="#__codelineno-32-42"></a><span class="w">	</span><span class="c1">// これを SimpleGUIManager で読み込ませることもできる</span>
<a id="__codelineno-32-43" name="__codelineno-32-43" href="#__codelineno-32-43"></a><span class="w">	</span><span class="c1">//gui.save(U&quot;save.toml&quot;);</span>
<a id="__codelineno-32-44" name="__codelineno-32-44" href="#__codelineno-32-44"></a><span class="p">}</span>
</code></pre></div>
<h4 id="11-print-の排他制御">11. Print の排他制御<a class="headerlink" href="#11-print-の排他制御" title="Permanent link">&para;</a></h4>
<p>デバッグなどの用途のために、<code>Print</code> を複数スレッドから同時に呼び出し可能になりました。</p>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v042/11.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1">// Siv3D の並列処理関数を有効化するマクロ</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="c1">// ヘッダが増えるためコンパイル時間が少し長くなる</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="cp"># define SIV3D_CONCURRENT</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="p">{</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="w">	</span><span class="c1">// 0～15 の数に対して、複数スレッドで処理</span>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="w">	</span><span class="n">Range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">).</span><span class="n">parallel_each</span><span class="p">([](</span><span class="n">int32</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="w">		</span><span class="c1">// スレッド識別子を合わせて表示</span>
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a><span class="w">		</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;{}: {}&quot;</span><span class="n">_fmt</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">get_id</span><span class="p">(),</span><span class="w"> </span><span class="n">i</span><span class="p">);</span>
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="w">	</span><span class="p">});</span>
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a>
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a>
<a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a><span class="p">}</span>
</code></pre></div>
<h4 id="12-3d-形状">12. 3D 形状<a class="headerlink" href="#12-3d-形状" title="Permanent link">&para;</a></h4>
<p><code>Quaternion</code>, <code>OBB</code> が追加されました。<code>Ray</code> と各種 3D 形状との交差判定もいくつか追加されました。</p>
<p>ただし v0.4.1 と同様、2D 描画で 3D をエミュレートする簡易的なものなので、次のような制約があります。</p>
<ul>
<li>深度バッファが無いので前後判定ができない</li>
<li>遠近クリップが無いのでカメラに近すぎるオブジェクトが正しく表示されない</li>
</ul>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v042/12.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="p">{</span>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">fov</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">45</span><span class="n">_deg</span><span class="p">;</span>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="w">	</span><span class="n">Vec3</span><span class="w"> </span><span class="n">eyePosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="w">	</span><span class="n">experimental</span><span class="o">::</span><span class="n">BasicCamera3D</span><span class="w"> </span><span class="n">camera</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Size</span><span class="p">(),</span><span class="w"> </span><span class="n">fov</span><span class="p">,</span><span class="w"> </span><span class="n">eyePosition</span><span class="p">,</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">);</span>
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a>
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a><span class="w">	</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">OBB</span><span class="o">&gt;</span><span class="w"> </span><span class="n">objects</span><span class="p">;</span>
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a>
<a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a><span class="w">	</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Range</span><span class="p">(</span><span class="mi">-2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">-2</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">))</span>
<a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a><span class="w">			</span><span class="n">objects</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">OBB</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">),</span><span class="w"> </span><span class="n">Quaternion</span><span class="o">::</span><span class="n">RollPitchYaw</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">30</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">));</span>
<a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a><span class="w">			</span><span class="n">objects</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">OBB</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">Quaternion</span><span class="o">::</span><span class="n">RollPitchYaw</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">30</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">));</span>
<a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a>
<a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-34-22" name="__codelineno-34-22" href="#__codelineno-34-22"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-34-23" name="__codelineno-34-23" href="#__codelineno-34-23"></a><span class="w">		</span><span class="n">eyePosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cylindrical</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="n">Scene</span><span class="o">::</span><span class="n">Time</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">30</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Periodic</span><span class="o">::</span><span class="n">Sine0_1</span><span class="p">(</span><span class="mi">4</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<a id="__codelineno-34-24" name="__codelineno-34-24" href="#__codelineno-34-24"></a><span class="w">		</span><span class="n">camera</span><span class="p">.</span><span class="n">setView</span><span class="p">(</span><span class="n">eyePosition</span><span class="p">,</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">);</span>
<a id="__codelineno-34-25" name="__codelineno-34-25" href="#__codelineno-34-25"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="n">Mat4x4</span><span class="w"> </span><span class="n">mat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">camera</span><span class="p">.</span><span class="n">getMat4x4</span><span class="p">();</span>
<a id="__codelineno-34-26" name="__codelineno-34-26" href="#__codelineno-34-26"></a>
<a id="__codelineno-34-27" name="__codelineno-34-27" href="#__codelineno-34-27"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-34-28" name="__codelineno-34-28" href="#__codelineno-34-28"></a><span class="w">			</span><span class="n">ScopedRenderStates2D</span><span class="w"> </span><span class="n">culling</span><span class="p">(</span><span class="n">RasterizerState</span><span class="o">::</span><span class="n">SolidCullBack</span><span class="p">);</span>
<a id="__codelineno-34-29" name="__codelineno-34-29" href="#__codelineno-34-29"></a>
<a id="__codelineno-34-30" name="__codelineno-34-30" href="#__codelineno-34-30"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Range</span><span class="p">(</span><span class="mi">-10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">))</span>
<a id="__codelineno-34-31" name="__codelineno-34-31" href="#__codelineno-34-31"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-34-32" name="__codelineno-34-32" href="#__codelineno-34-32"></a><span class="w">				</span><span class="n">Line3D</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">-10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.5</span><span class="p">));</span>
<a id="__codelineno-34-33" name="__codelineno-34-33" href="#__codelineno-34-33"></a><span class="w">				</span><span class="n">Line3D</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">-10</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.5</span><span class="p">));</span>
<a id="__codelineno-34-34" name="__codelineno-34-34" href="#__codelineno-34-34"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-34-35" name="__codelineno-34-35" href="#__codelineno-34-35"></a>
<a id="__codelineno-34-36" name="__codelineno-34-36" href="#__codelineno-34-36"></a><span class="w">			</span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">eyePos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">camera</span><span class="p">.</span><span class="n">getEyePosition</span><span class="p">();</span>
<a id="__codelineno-34-37" name="__codelineno-34-37" href="#__codelineno-34-37"></a><span class="w">			</span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">rayEnd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">camera</span><span class="p">.</span><span class="n">screenToWorldPoint</span><span class="p">(</span><span class="n">Cursor</span><span class="o">::</span><span class="n">Pos</span><span class="p">(),</span><span class="w"> </span><span class="mf">0.5f</span><span class="p">);</span>
<a id="__codelineno-34-38" name="__codelineno-34-38" href="#__codelineno-34-38"></a><span class="w">			</span><span class="k">const</span><span class="w"> </span><span class="n">Ray</span><span class="w"> </span><span class="n">cursorRay</span><span class="p">(</span><span class="n">eyePos</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">rayEnd</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">eyePos</span><span class="p">).</span><span class="n">normalized</span><span class="p">());</span>
<a id="__codelineno-34-39" name="__codelineno-34-39" href="#__codelineno-34-39"></a>
<a id="__codelineno-34-40" name="__codelineno-34-40" href="#__codelineno-34-40"></a><span class="w">			</span><span class="n">objects</span><span class="p">.</span><span class="n">sort_by</span><span class="p">([</span><span class="o">&amp;</span><span class="p">](</span><span class="k">const</span><span class="w"> </span><span class="n">OBB</span><span class="o">&amp;</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">OBB</span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-34-41" name="__codelineno-34-41" href="#__codelineno-34-41"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-34-42" name="__codelineno-34-42" href="#__codelineno-34-42"></a><span class="w">				</span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">eyePos</span><span class="p">.</span><span class="n">distanceFromSq</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">center</span><span class="p">))</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">eyePos</span><span class="p">.</span><span class="n">distanceFromSq</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">center</span><span class="p">));</span>
<a id="__codelineno-34-43" name="__codelineno-34-43" href="#__codelineno-34-43"></a><span class="w">			</span><span class="p">});</span>
<a id="__codelineno-34-44" name="__codelineno-34-44" href="#__codelineno-34-44"></a>
<a id="__codelineno-34-45" name="__codelineno-34-45" href="#__codelineno-34-45"></a><span class="w">			</span><span class="n">Optional</span><span class="o">&lt;</span><span class="kt">size_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">intersectionIndex</span><span class="p">;</span>
<a id="__codelineno-34-46" name="__codelineno-34-46" href="#__codelineno-34-46"></a>
<a id="__codelineno-34-47" name="__codelineno-34-47" href="#__codelineno-34-47"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">object</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">IndexedReversed</span><span class="p">(</span><span class="n">objects</span><span class="p">))</span>
<a id="__codelineno-34-48" name="__codelineno-34-48" href="#__codelineno-34-48"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-34-49" name="__codelineno-34-49" href="#__codelineno-34-49"></a><span class="w">				</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cursorRay</span><span class="p">.</span><span class="n">intersects</span><span class="p">(</span><span class="n">object</span><span class="p">))</span>
<a id="__codelineno-34-50" name="__codelineno-34-50" href="#__codelineno-34-50"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-34-51" name="__codelineno-34-51" href="#__codelineno-34-51"></a><span class="w">					</span><span class="n">intersectionIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-34-52" name="__codelineno-34-52" href="#__codelineno-34-52"></a><span class="w">					</span><span class="n">Cursor</span><span class="o">::</span><span class="n">RequestStyle</span><span class="p">(</span><span class="n">CursorStyle</span><span class="o">::</span><span class="n">Hand</span><span class="p">);</span>
<a id="__codelineno-34-53" name="__codelineno-34-53" href="#__codelineno-34-53"></a><span class="w">					</span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-34-54" name="__codelineno-34-54" href="#__codelineno-34-54"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-34-55" name="__codelineno-34-55" href="#__codelineno-34-55"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-34-56" name="__codelineno-34-56" href="#__codelineno-34-56"></a>
<a id="__codelineno-34-57" name="__codelineno-34-57" href="#__codelineno-34-57"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">object</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Indexed</span><span class="p">(</span><span class="n">objects</span><span class="p">))</span>
<a id="__codelineno-34-58" name="__codelineno-34-58" href="#__codelineno-34-58"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-34-59" name="__codelineno-34-59" href="#__codelineno-34-59"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">HSV</span><span class="w"> </span><span class="n">color</span><span class="p">((</span><span class="n">object</span><span class="p">.</span><span class="n">center</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">object</span><span class="p">.</span><span class="n">center</span><span class="p">.</span><span class="n">z</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10</span><span class="p">),</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">intersectionIndex</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">0.3</span><span class="p">);</span>
<a id="__codelineno-34-60" name="__codelineno-34-60" href="#__codelineno-34-60"></a><span class="w">				</span><span class="n">object</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">);</span>
<a id="__codelineno-34-61" name="__codelineno-34-61" href="#__codelineno-34-61"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-34-62" name="__codelineno-34-62" href="#__codelineno-34-62"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-34-63" name="__codelineno-34-63" href="#__codelineno-34-63"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-34-64" name="__codelineno-34-64" href="#__codelineno-34-64"></a><span class="p">}</span>
</code></pre></div>
<h4 id="v041-サンプルアップデート">v0.4.1 サンプルアップデート<a class="headerlink" href="#v041-サンプルアップデート" title="Permanent link">&para;</a></h4>
<p><code>AABB</code>, <code>Triangle3D</code>, <code>Line3D</code> などが、<code>s3d::experimental</code> 名前空間から <code>s3d</code> 名前空間に移動しました。</p>
<h6 id="3d-triangles">3D Triangles<a class="headerlink" href="#3d-triangles" title="Permanent link">&para;</a></h6>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v041/17.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="p">{</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">Vec3</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vertices</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="w">		</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">),</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="w">		</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">),</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="w">		</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">),</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="w">		</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">),</span>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="w">		</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="w">		</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="w">		</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="w">		</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="w">	</span><span class="p">};</span>
<a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a>
<a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">uint32</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="o">&gt;</span><span class="w"> </span><span class="n">indices</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-35-18" name="__codelineno-35-18" href="#__codelineno-35-18"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-35-19" name="__codelineno-35-19" href="#__codelineno-35-19"></a><span class="w">		</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<a id="__codelineno-35-20" name="__codelineno-35-20" href="#__codelineno-35-20"></a><span class="w">		</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-35-21" name="__codelineno-35-21" href="#__codelineno-35-21"></a><span class="w">		</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<a id="__codelineno-35-22" name="__codelineno-35-22" href="#__codelineno-35-22"></a><span class="w">		</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-35-23" name="__codelineno-35-23" href="#__codelineno-35-23"></a><span class="w">		</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span>
<a id="__codelineno-35-24" name="__codelineno-35-24" href="#__codelineno-35-24"></a><span class="w">		</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<a id="__codelineno-35-25" name="__codelineno-35-25" href="#__codelineno-35-25"></a><span class="w">	</span><span class="p">};</span>
<a id="__codelineno-35-26" name="__codelineno-35-26" href="#__codelineno-35-26"></a>
<a id="__codelineno-35-27" name="__codelineno-35-27" href="#__codelineno-35-27"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">fov</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">45</span><span class="n">_deg</span><span class="p">;</span>
<a id="__codelineno-35-28" name="__codelineno-35-28" href="#__codelineno-35-28"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-35-29" name="__codelineno-35-29" href="#__codelineno-35-29"></a><span class="w">	</span><span class="n">Vec3</span><span class="w"> </span><span class="n">eyePosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-35-30" name="__codelineno-35-30" href="#__codelineno-35-30"></a><span class="w">	</span><span class="n">experimental</span><span class="o">::</span><span class="n">BasicCamera3D</span><span class="w"> </span><span class="n">camera</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Size</span><span class="p">(),</span><span class="w"> </span><span class="n">fov</span><span class="p">,</span><span class="w"> </span><span class="n">eyePosition</span><span class="p">,</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">);</span>
<a id="__codelineno-35-31" name="__codelineno-35-31" href="#__codelineno-35-31"></a>
<a id="__codelineno-35-32" name="__codelineno-35-32" href="#__codelineno-35-32"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-35-33" name="__codelineno-35-33" href="#__codelineno-35-33"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-35-34" name="__codelineno-35-34" href="#__codelineno-35-34"></a><span class="w">		</span><span class="n">eyePosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cylindrical</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">Scene</span><span class="o">::</span><span class="n">Time</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">30</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">Math</span><span class="o">::</span><span class="n">Sin</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Time</span><span class="p">())</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-35-35" name="__codelineno-35-35" href="#__codelineno-35-35"></a><span class="w">		</span><span class="n">camera</span><span class="p">.</span><span class="n">setView</span><span class="p">(</span><span class="n">eyePosition</span><span class="p">,</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">);</span>
<a id="__codelineno-35-36" name="__codelineno-35-36" href="#__codelineno-35-36"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="n">Mat4x4</span><span class="w"> </span><span class="n">mat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">camera</span><span class="p">.</span><span class="n">getMat4x4</span><span class="p">();</span>
<a id="__codelineno-35-37" name="__codelineno-35-37" href="#__codelineno-35-37"></a>
<a id="__codelineno-35-38" name="__codelineno-35-38" href="#__codelineno-35-38"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-35-39" name="__codelineno-35-39" href="#__codelineno-35-39"></a><span class="w">			</span><span class="n">ScopedRenderStates2D</span><span class="w"> </span><span class="n">culling</span><span class="p">(</span><span class="n">RasterizerState</span><span class="o">::</span><span class="n">SolidCullBack</span><span class="p">);</span>
<a id="__codelineno-35-40" name="__codelineno-35-40" href="#__codelineno-35-40"></a>
<a id="__codelineno-35-41" name="__codelineno-35-41" href="#__codelineno-35-41"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span>
<a id="__codelineno-35-42" name="__codelineno-35-42" href="#__codelineno-35-42"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-35-43" name="__codelineno-35-43" href="#__codelineno-35-43"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">p0</span><span class="p">(</span><span class="n">vertices</span><span class="p">[</span><span class="n">indices</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">0</span><span class="p">]]);</span>
<a id="__codelineno-35-44" name="__codelineno-35-44" href="#__codelineno-35-44"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">p1</span><span class="p">(</span><span class="n">vertices</span><span class="p">[</span><span class="n">indices</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">]]);</span>
<a id="__codelineno-35-45" name="__codelineno-35-45" href="#__codelineno-35-45"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">p2</span><span class="p">(</span><span class="n">vertices</span><span class="p">[</span><span class="n">indices</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p">]]);</span>
<a id="__codelineno-35-46" name="__codelineno-35-46" href="#__codelineno-35-46"></a>
<a id="__codelineno-35-47" name="__codelineno-35-47" href="#__codelineno-35-47"></a><span class="w">				</span><span class="n">Triangle3D</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span><span class="w"> </span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">HSV</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">30</span><span class="p">));</span>
<a id="__codelineno-35-48" name="__codelineno-35-48" href="#__codelineno-35-48"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-35-49" name="__codelineno-35-49" href="#__codelineno-35-49"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-35-50" name="__codelineno-35-50" href="#__codelineno-35-50"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-35-51" name="__codelineno-35-51" href="#__codelineno-35-51"></a><span class="p">}</span>
</code></pre></div>
<h5 id="3d-aabb">3D AABB<a class="headerlink" href="#3d-aabb" title="Permanent link">&para;</a></h5>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v041/18.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="p">{</span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">fov</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">45</span><span class="n">_deg</span><span class="p">;</span>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="w">	</span><span class="n">Vec3</span><span class="w"> </span><span class="n">eyePosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="w">	</span><span class="n">experimental</span><span class="o">::</span><span class="n">BasicCamera3D</span><span class="w"> </span><span class="n">camera</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Size</span><span class="p">(),</span><span class="w"> </span><span class="n">fov</span><span class="p">,</span><span class="w"> </span><span class="n">eyePosition</span><span class="p">,</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">);</span>
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a>
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="w">		</span><span class="n">eyePosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cylindrical</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="n">Scene</span><span class="o">::</span><span class="n">Time</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">30</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Periodic</span><span class="o">::</span><span class="n">Sine0_1</span><span class="p">(</span><span class="mi">4</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a><span class="w">		</span><span class="n">camera</span><span class="p">.</span><span class="n">setView</span><span class="p">(</span><span class="n">eyePosition</span><span class="p">,</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">);</span>
<a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="n">Mat4x4</span><span class="w"> </span><span class="n">mat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">camera</span><span class="p">.</span><span class="n">getMat4x4</span><span class="p">();</span>
<a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a>
<a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a><span class="w">			</span><span class="n">ScopedRenderStates2D</span><span class="w"> </span><span class="n">culling</span><span class="p">(</span><span class="n">RasterizerState</span><span class="o">::</span><span class="n">SolidCullBack</span><span class="p">);</span>
<a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a>
<a id="__codelineno-36-19" name="__codelineno-36-19" href="#__codelineno-36-19"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Range</span><span class="p">(</span><span class="mi">-10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">))</span>
<a id="__codelineno-36-20" name="__codelineno-36-20" href="#__codelineno-36-20"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-36-21" name="__codelineno-36-21" href="#__codelineno-36-21"></a><span class="w">				</span><span class="n">Line3D</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">-10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.5</span><span class="p">));</span>
<a id="__codelineno-36-22" name="__codelineno-36-22" href="#__codelineno-36-22"></a><span class="w">				</span><span class="n">Line3D</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">-10</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.5</span><span class="p">));</span>
<a id="__codelineno-36-23" name="__codelineno-36-23" href="#__codelineno-36-23"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-36-24" name="__codelineno-36-24" href="#__codelineno-36-24"></a>
<a id="__codelineno-36-25" name="__codelineno-36-25" href="#__codelineno-36-25"></a><span class="w">			</span><span class="n">AABB</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">Palette</span><span class="o">::</span><span class="n">White</span><span class="p">);</span>
<a id="__codelineno-36-26" name="__codelineno-36-26" href="#__codelineno-36-26"></a><span class="w">			</span><span class="n">AABB</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">-8</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">HSV</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>
<a id="__codelineno-36-27" name="__codelineno-36-27" href="#__codelineno-36-27"></a><span class="w">			</span><span class="n">AABB</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">HSV</span><span class="p">(</span><span class="mi">90</span><span class="p">));</span>
<a id="__codelineno-36-28" name="__codelineno-36-28" href="#__codelineno-36-28"></a><span class="w">			</span><span class="n">AABB</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">-8</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">HSV</span><span class="p">(</span><span class="mi">270</span><span class="p">));</span>
<a id="__codelineno-36-29" name="__codelineno-36-29" href="#__codelineno-36-29"></a><span class="w">			</span><span class="n">AABB</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">-8</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">-8</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">HSV</span><span class="p">(</span><span class="mi">180</span><span class="p">));</span>
<a id="__codelineno-36-30" name="__codelineno-36-30" href="#__codelineno-36-30"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-36-31" name="__codelineno-36-31" href="#__codelineno-36-31"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-36-32" name="__codelineno-36-32" href="#__codelineno-36-32"></a><span class="p">}</span>
</code></pre></div>
<h5 id="3d-terrain">3D Terrain<a class="headerlink" href="#3d-terrain" title="Permanent link">&para;</a></h5>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v041/19.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="p">{</span>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="w">	</span><span class="n">Window</span><span class="o">::</span><span class="n">Resize</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">);</span>
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.7</span><span class="p">));</span>
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a>
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="w">	</span><span class="n">RenderTexture</span><span class="w"> </span><span class="n">rt</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.0</span><span class="p">),</span><span class="w"> </span><span class="n">TextureFormat</span><span class="o">::</span><span class="n">R32_Float</span><span class="p">);</span>
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="w">	</span><span class="n">Grid</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="n">heightMap</span><span class="p">;</span>
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a><span class="w">	</span><span class="n">Grid</span><span class="o">&lt;</span><span class="n">Float3</span><span class="o">&gt;</span><span class="w"> </span><span class="n">positions</span><span class="p">;</span>
<a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a>
<a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">fov</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">45</span><span class="n">_deg</span><span class="p">;</span>
<a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">-50</span><span class="p">);</span>
<a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a><span class="w">	</span><span class="n">Vec3</span><span class="w"> </span><span class="n">eyePosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a><span class="w">	</span><span class="n">experimental</span><span class="o">::</span><span class="n">BasicCamera3D</span><span class="w"> </span><span class="n">camera</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Size</span><span class="p">(),</span><span class="w"> </span><span class="n">fov</span><span class="p">,</span><span class="w"> </span><span class="n">eyePosition</span><span class="p">,</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">);</span>
<a id="__codelineno-37-16" name="__codelineno-37-16" href="#__codelineno-37-16"></a>
<a id="__codelineno-37-17" name="__codelineno-37-17" href="#__codelineno-37-17"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-37-18" name="__codelineno-37-18" href="#__codelineno-37-18"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-37-19" name="__codelineno-37-19" href="#__codelineno-37-19"></a><span class="w">		</span><span class="n">eyePosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cylindrical</span><span class="p">(</span><span class="n">Arg</span><span class="o">::</span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="n">Arg</span><span class="o">::</span><span class="n">phi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Scene</span><span class="o">::</span><span class="n">Time</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">30</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">Arg</span><span class="o">::</span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">-50</span><span class="p">);</span>
<a id="__codelineno-37-20" name="__codelineno-37-20" href="#__codelineno-37-20"></a><span class="w">		</span><span class="n">camera</span><span class="p">.</span><span class="n">setView</span><span class="p">(</span><span class="n">eyePosition</span><span class="p">,</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">);</span>
<a id="__codelineno-37-21" name="__codelineno-37-21" href="#__codelineno-37-21"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="n">Mat4x4</span><span class="w"> </span><span class="n">mat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">camera</span><span class="p">.</span><span class="n">getMat4x4</span><span class="p">();</span>
<a id="__codelineno-37-22" name="__codelineno-37-22" href="#__codelineno-37-22"></a>
<a id="__codelineno-37-23" name="__codelineno-37-23" href="#__codelineno-37-23"></a><span class="w">		</span><span class="n">rt</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">heightMap</span><span class="p">);</span>
<a id="__codelineno-37-24" name="__codelineno-37-24" href="#__codelineno-37-24"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-37-25" name="__codelineno-37-25" href="#__codelineno-37-25"></a><span class="w">			</span><span class="n">positions</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">heightMap</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>
<a id="__codelineno-37-26" name="__codelineno-37-26" href="#__codelineno-37-26"></a>
<a id="__codelineno-37-27" name="__codelineno-37-27" href="#__codelineno-37-27"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="n">heightMap</span><span class="p">.</span><span class="n">size</span><span class="p">()))</span>
<a id="__codelineno-37-28" name="__codelineno-37-28" href="#__codelineno-37-28"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-37-29" name="__codelineno-37-29" href="#__codelineno-37-29"></a><span class="w">				</span><span class="n">positions</span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Float3</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">heightMap</span><span class="p">[</span><span class="n">p</span><span class="p">],</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
<a id="__codelineno-37-30" name="__codelineno-37-30" href="#__codelineno-37-30"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-37-31" name="__codelineno-37-31" href="#__codelineno-37-31"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-37-32" name="__codelineno-37-32" href="#__codelineno-37-32"></a>
<a id="__codelineno-37-33" name="__codelineno-37-33" href="#__codelineno-37-33"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-37-34" name="__codelineno-37-34" href="#__codelineno-37-34"></a><span class="w">			</span><span class="n">ScopedRenderTarget2D</span><span class="w"> </span><span class="n">target</span><span class="p">(</span><span class="n">rt</span><span class="p">);</span>
<a id="__codelineno-37-35" name="__codelineno-37-35" href="#__codelineno-37-35"></a><span class="w">			</span><span class="n">ScopedRenderStates2D</span><span class="w"> </span><span class="n">blend</span><span class="p">(</span><span class="n">BlendState</span><span class="o">::</span><span class="n">Additive</span><span class="p">);</span>
<a id="__codelineno-37-36" name="__codelineno-37-36" href="#__codelineno-37-36"></a>
<a id="__codelineno-37-37" name="__codelineno-37-37" href="#__codelineno-37-37"></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">MouseL</span><span class="p">.</span><span class="n">pressed</span><span class="p">())</span>
<a id="__codelineno-37-38" name="__codelineno-37-38" href="#__codelineno-37-38"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-37-39" name="__codelineno-37-39" href="#__codelineno-37-39"></a><span class="w">				</span><span class="n">Circle</span><span class="p">(</span><span class="n">Cursor</span><span class="o">::</span><span class="n">Pos</span><span class="p">(),</span><span class="w"> </span><span class="mi">8</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">DeltaTime</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">24.0</span><span class="p">));</span>
<a id="__codelineno-37-40" name="__codelineno-37-40" href="#__codelineno-37-40"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-37-41" name="__codelineno-37-41" href="#__codelineno-37-41"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-37-42" name="__codelineno-37-42" href="#__codelineno-37-42"></a>
<a id="__codelineno-37-43" name="__codelineno-37-43" href="#__codelineno-37-43"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">positions</span><span class="p">)</span>
<a id="__codelineno-37-44" name="__codelineno-37-44" href="#__codelineno-37-44"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-37-45" name="__codelineno-37-45" href="#__codelineno-37-45"></a><span class="w">			</span><span class="n">ScopedRenderStates2D</span><span class="w"> </span><span class="n">culling</span><span class="p">(</span><span class="n">RasterizerState</span><span class="o">::</span><span class="n">SolidCullBack</span><span class="p">);</span>
<a id="__codelineno-37-46" name="__codelineno-37-46" href="#__codelineno-37-46"></a>
<a id="__codelineno-37-47" name="__codelineno-37-47" href="#__codelineno-37-47"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="n">positions</span><span class="p">.</span><span class="n">width</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-37-48" name="__codelineno-37-48" href="#__codelineno-37-48"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-37-49" name="__codelineno-37-49" href="#__codelineno-37-49"></a><span class="w">				</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="n">positions</span><span class="p">.</span><span class="n">height</span><span class="p">()))</span>
<a id="__codelineno-37-50" name="__codelineno-37-50" href="#__codelineno-37-50"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-37-51" name="__codelineno-37-51" href="#__codelineno-37-51"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">Float3</span><span class="w"> </span><span class="n">begin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="p">[{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">}];</span>
<a id="__codelineno-37-52" name="__codelineno-37-52" href="#__codelineno-37-52"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">Float3</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="p">[{</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">}];</span>
<a id="__codelineno-37-53" name="__codelineno-37-53" href="#__codelineno-37-53"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">ColorF</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HSV</span><span class="p">(</span><span class="mi">120</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">begin</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">end</span><span class="p">.</span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mf">0.7</span><span class="p">);</span>
<a id="__codelineno-37-54" name="__codelineno-37-54" href="#__codelineno-37-54"></a><span class="w">					</span><span class="n">Line3D</span><span class="p">(</span><span class="n">begin</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">);</span>
<a id="__codelineno-37-55" name="__codelineno-37-55" href="#__codelineno-37-55"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-37-56" name="__codelineno-37-56" href="#__codelineno-37-56"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-37-57" name="__codelineno-37-57" href="#__codelineno-37-57"></a>
<a id="__codelineno-37-58" name="__codelineno-37-58" href="#__codelineno-37-58"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="n">positions</span><span class="p">.</span><span class="n">width</span><span class="p">()))</span>
<a id="__codelineno-37-59" name="__codelineno-37-59" href="#__codelineno-37-59"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-37-60" name="__codelineno-37-60" href="#__codelineno-37-60"></a><span class="w">				</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="n">positions</span><span class="p">.</span><span class="n">height</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-37-61" name="__codelineno-37-61" href="#__codelineno-37-61"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-37-62" name="__codelineno-37-62" href="#__codelineno-37-62"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">Float3</span><span class="w"> </span><span class="n">begin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="p">[{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">}];</span>
<a id="__codelineno-37-63" name="__codelineno-37-63" href="#__codelineno-37-63"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">Float3</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="p">[{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">}];</span>
<a id="__codelineno-37-64" name="__codelineno-37-64" href="#__codelineno-37-64"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">ColorF</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HSV</span><span class="p">(</span><span class="mi">120</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">begin</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">end</span><span class="p">.</span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mf">0.7</span><span class="p">);</span>
<a id="__codelineno-37-65" name="__codelineno-37-65" href="#__codelineno-37-65"></a><span class="w">					</span><span class="n">Line3D</span><span class="p">(</span><span class="n">begin</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">);</span>
<a id="__codelineno-37-66" name="__codelineno-37-66" href="#__codelineno-37-66"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-37-67" name="__codelineno-37-67" href="#__codelineno-37-67"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-37-68" name="__codelineno-37-68" href="#__codelineno-37-68"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-37-69" name="__codelineno-37-69" href="#__codelineno-37-69"></a>
<a id="__codelineno-37-70" name="__codelineno-37-70" href="#__codelineno-37-70"></a><span class="w">		</span><span class="n">rt</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.1</span><span class="p">));</span>
<a id="__codelineno-37-71" name="__codelineno-37-71" href="#__codelineno-37-71"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-37-72" name="__codelineno-37-72" href="#__codelineno-37-72"></a><span class="p">}</span>
</code></pre></div>
<h4 id="13-microphone-不具合修正">13. Microphone 不具合修正<a class="headerlink" href="#13-microphone-不具合修正" title="Permanent link">&para;</a></h4>
<p>macOS など一部の環境でマイクが使えなかった不具合を修正しました。</p>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v042/13.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="p">{</span>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="w">	</span><span class="c1">// マイクをセットアップ</span>
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="w">	</span><span class="n">Microphone</span><span class="w"> </span><span class="n">mic</span><span class="p">(</span><span class="n">unspecified</span><span class="p">);</span><span class="w"> </span><span class="c1">// unspecified を指定すると既定の音声入力デバイスを選択</span>
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a>
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">mic</span><span class="p">)</span>
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="w">		</span><span class="c1">// マイクを利用できない場合、終了</span>
<a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="w">		</span><span class="k">throw</span><span class="w"> </span><span class="n">Error</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Microphone not available&quot;</span><span class="p">);</span>
<a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a>
<a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="w">	</span><span class="c1">// 録音をスタート</span>
<a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a><span class="w">	</span><span class="n">mic</span><span class="p">.</span><span class="n">start</span><span class="p">();</span>
<a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a>
<a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a><span class="w">	</span><span class="n">LineString</span><span class="w"> </span><span class="n">points</span><span class="p">(</span><span class="mi">800</span><span class="p">);</span>
<a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a>
<a id="__codelineno-38-19" name="__codelineno-38-19" href="#__codelineno-38-19"></a><span class="w">	</span><span class="n">FFTResult</span><span class="w"> </span><span class="n">fft</span><span class="p">;</span>
<a id="__codelineno-38-20" name="__codelineno-38-20" href="#__codelineno-38-20"></a>
<a id="__codelineno-38-21" name="__codelineno-38-21" href="#__codelineno-38-21"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-38-22" name="__codelineno-38-22" href="#__codelineno-38-22"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-38-23" name="__codelineno-38-23" href="#__codelineno-38-23"></a><span class="w">		</span><span class="c1">// 波形を可視化</span>
<a id="__codelineno-38-24" name="__codelineno-38-24" href="#__codelineno-38-24"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-38-25" name="__codelineno-38-25" href="#__codelineno-38-25"></a><span class="w">			</span><span class="k">const</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mic</span><span class="p">.</span><span class="n">posSample</span><span class="p">();</span>
<a id="__codelineno-38-26" name="__codelineno-38-26" href="#__codelineno-38-26"></a><span class="w">			</span><span class="k">const</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="n">WaveSampleS16</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">buffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mic</span><span class="p">.</span><span class="n">getBuffer</span><span class="p">();</span>
<a id="__codelineno-38-27" name="__codelineno-38-27" href="#__codelineno-38-27"></a><span class="w">			</span><span class="k">const</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">bufferLength</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">buffer</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
<a id="__codelineno-38-28" name="__codelineno-38-28" href="#__codelineno-38-28"></a>
<a id="__codelineno-38-29" name="__codelineno-38-29" href="#__codelineno-38-29"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">points</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-38-30" name="__codelineno-38-30" href="#__codelineno-38-30"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-38-31" name="__codelineno-38-31" href="#__codelineno-38-31"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">bufferPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">pos</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">bufferLength</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="mi">800</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">i</span><span class="p">))</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">bufferLength</span><span class="p">;</span>
<a id="__codelineno-38-32" name="__codelineno-38-32" href="#__codelineno-38-32"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">buffer</span><span class="p">[</span><span class="n">bufferPos</span><span class="p">].</span><span class="n">left</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">32768.0</span><span class="p">;</span>
<a id="__codelineno-38-33" name="__codelineno-38-33" href="#__codelineno-38-33"></a><span class="w">				</span><span class="n">points</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">set</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">300</span><span class="p">);</span>
<a id="__codelineno-38-34" name="__codelineno-38-34" href="#__codelineno-38-34"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-38-35" name="__codelineno-38-35" href="#__codelineno-38-35"></a>
<a id="__codelineno-38-36" name="__codelineno-38-36" href="#__codelineno-38-36"></a><span class="w">			</span><span class="n">points</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-38-37" name="__codelineno-38-37" href="#__codelineno-38-37"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-38-38" name="__codelineno-38-38" href="#__codelineno-38-38"></a>
<a id="__codelineno-38-39" name="__codelineno-38-39" href="#__codelineno-38-39"></a><span class="w">		</span><span class="c1">// 周波数スペクトラムを取得</span>
<a id="__codelineno-38-40" name="__codelineno-38-40" href="#__codelineno-38-40"></a><span class="w">		</span><span class="n">mic</span><span class="p">.</span><span class="n">fft</span><span class="p">(</span><span class="n">fft</span><span class="p">);</span>
<a id="__codelineno-38-41" name="__codelineno-38-41" href="#__codelineno-38-41"></a>
<a id="__codelineno-38-42" name="__codelineno-38-42" href="#__codelineno-38-42"></a><span class="w">		</span><span class="c1">// 周波数スペクトラム結果を可視化</span>
<a id="__codelineno-38-43" name="__codelineno-38-43" href="#__codelineno-38-43"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="mi">800</span><span class="p">))</span>
<a id="__codelineno-38-44" name="__codelineno-38-44" href="#__codelineno-38-44"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-38-45" name="__codelineno-38-45" href="#__codelineno-38-45"></a><span class="w">			</span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Pow</span><span class="p">(</span><span class="n">fft</span><span class="p">.</span><span class="n">buffer</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="w"> </span><span class="mf">0.6f</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1200</span><span class="p">;</span>
<a id="__codelineno-38-46" name="__codelineno-38-46" href="#__codelineno-38-46"></a><span class="w">			</span><span class="n">RectF</span><span class="p">(</span><span class="n">Arg</span><span class="o">::</span><span class="n">bottomLeft</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">600</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">HSV</span><span class="p">(</span><span class="mi">240</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">i</span><span class="p">));</span>
<a id="__codelineno-38-47" name="__codelineno-38-47" href="#__codelineno-38-47"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-38-48" name="__codelineno-38-48" href="#__codelineno-38-48"></a>
<a id="__codelineno-38-49" name="__codelineno-38-49" href="#__codelineno-38-49"></a><span class="w">		</span><span class="c1">// 周波数スペクトラム上に周波数を表示</span>
<a id="__codelineno-38-50" name="__codelineno-38-50" href="#__codelineno-38-50"></a><span class="w">		</span><span class="n">Rect</span><span class="p">(</span><span class="n">Cursor</span><span class="o">::</span><span class="n">Pos</span><span class="p">().</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">Scene</span><span class="o">::</span><span class="n">Height</span><span class="p">()).</span><span class="n">draw</span><span class="p">();</span>
<a id="__codelineno-38-51" name="__codelineno-38-51" href="#__codelineno-38-51"></a><span class="w">		</span><span class="n">ClearPrint</span><span class="p">();</span>
<a id="__codelineno-38-52" name="__codelineno-38-52" href="#__codelineno-38-52"></a><span class="w">		</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;{} Hz&quot;</span><span class="n">_fmt</span><span class="p">(</span><span class="n">Cursor</span><span class="o">::</span><span class="n">Pos</span><span class="p">().</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fft</span><span class="p">.</span><span class="n">resolution</span><span class="p">);</span>
<a id="__codelineno-38-53" name="__codelineno-38-53" href="#__codelineno-38-53"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-38-54" name="__codelineno-38-54" href="#__codelineno-38-54"></a><span class="p">}</span>
</code></pre></div>
<h4 id="14-qrdecoder-不具合修正">14. QRDecoder 不具合修正<a class="headerlink" href="#14-qrdecoder-不具合修正" title="Permanent link">&para;</a></h4>
<p>複数の QR コードの検出の不具合を修正しました。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="p">{</span>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="w">	</span><span class="n">Window</span><span class="o">::</span><span class="n">Resize</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">);</span>
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a>
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="w">	</span><span class="c1">// Web カメラを起動</span>
<a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="w">	</span><span class="n">Webcam</span><span class="w"> </span><span class="n">webcam</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="w">	</span><span class="n">webcam</span><span class="p">.</span><span class="n">setResolution</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">);</span>
<a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">webcam</span><span class="p">.</span><span class="n">start</span><span class="p">())</span>
<a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a><span class="w">		</span><span class="k">throw</span><span class="w"> </span><span class="n">Error</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;&quot;</span><span class="p">);</span>
<a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-39-14" name="__codelineno-39-14" href="#__codelineno-39-14"></a>
<a id="__codelineno-39-15" name="__codelineno-39-15" href="#__codelineno-39-15"></a><span class="w">	</span><span class="n">Image</span><span class="w"> </span><span class="n">image</span><span class="p">;</span>
<a id="__codelineno-39-16" name="__codelineno-39-16" href="#__codelineno-39-16"></a><span class="w">	</span><span class="n">DynamicTexture</span><span class="w"> </span><span class="n">texture</span><span class="p">;</span>
<a id="__codelineno-39-17" name="__codelineno-39-17" href="#__codelineno-39-17"></a><span class="w">	</span><span class="n">QRDecoder</span><span class="w"> </span><span class="n">qrDecoder</span><span class="p">;</span>
<a id="__codelineno-39-18" name="__codelineno-39-18" href="#__codelineno-39-18"></a><span class="w">	</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">Quad</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">quads</span><span class="p">;</span>
<a id="__codelineno-39-19" name="__codelineno-39-19" href="#__codelineno-39-19"></a>
<a id="__codelineno-39-20" name="__codelineno-39-20" href="#__codelineno-39-20"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-39-21" name="__codelineno-39-21" href="#__codelineno-39-21"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-39-22" name="__codelineno-39-22" href="#__codelineno-39-22"></a><span class="w">		</span><span class="c1">// 新しい撮影フレームを取得</span>
<a id="__codelineno-39-23" name="__codelineno-39-23" href="#__codelineno-39-23"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">webcam</span><span class="p">.</span><span class="n">hasNewFrame</span><span class="p">())</span>
<a id="__codelineno-39-24" name="__codelineno-39-24" href="#__codelineno-39-24"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-39-25" name="__codelineno-39-25" href="#__codelineno-39-25"></a><span class="w">			</span><span class="n">webcam</span><span class="p">.</span><span class="n">getFrame</span><span class="p">(</span><span class="n">image</span><span class="p">);</span>
<a id="__codelineno-39-26" name="__codelineno-39-26" href="#__codelineno-39-26"></a>
<a id="__codelineno-39-27" name="__codelineno-39-27" href="#__codelineno-39-27"></a><span class="w">			</span><span class="n">Array</span><span class="o">&lt;</span><span class="n">QRContent</span><span class="o">&gt;</span><span class="w"> </span><span class="n">qrs</span><span class="p">;</span>
<a id="__codelineno-39-28" name="__codelineno-39-28" href="#__codelineno-39-28"></a>
<a id="__codelineno-39-29" name="__codelineno-39-29" href="#__codelineno-39-29"></a><span class="w">			</span><span class="c1">// QR コードを検出</span>
<a id="__codelineno-39-30" name="__codelineno-39-30" href="#__codelineno-39-30"></a><span class="w">			</span><span class="n">qrDecoder</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">image</span><span class="p">,</span><span class="w"> </span><span class="n">qrs</span><span class="p">);</span>
<a id="__codelineno-39-31" name="__codelineno-39-31" href="#__codelineno-39-31"></a>
<a id="__codelineno-39-32" name="__codelineno-39-32" href="#__codelineno-39-32"></a><span class="w">			</span><span class="n">quads</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
<a id="__codelineno-39-33" name="__codelineno-39-33" href="#__codelineno-39-33"></a>
<a id="__codelineno-39-34" name="__codelineno-39-34" href="#__codelineno-39-34"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">qr</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">qrs</span><span class="p">)</span>
<a id="__codelineno-39-35" name="__codelineno-39-35" href="#__codelineno-39-35"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-39-36" name="__codelineno-39-36" href="#__codelineno-39-36"></a><span class="w">				</span><span class="n">quads</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">qr</span><span class="p">.</span><span class="n">quad</span><span class="p">,</span><span class="w"> </span><span class="n">qr</span><span class="p">.</span><span class="n">isValid</span><span class="p">());</span>
<a id="__codelineno-39-37" name="__codelineno-39-37" href="#__codelineno-39-37"></a>
<a id="__codelineno-39-38" name="__codelineno-39-38" href="#__codelineno-39-38"></a><span class="w">				</span><span class="c1">// データの読み込みに成功した場合テキストを表示</span>
<a id="__codelineno-39-39" name="__codelineno-39-39" href="#__codelineno-39-39"></a><span class="w">				</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">qr</span><span class="p">.</span><span class="n">isValid</span><span class="p">())</span>
<a id="__codelineno-39-40" name="__codelineno-39-40" href="#__codelineno-39-40"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-39-41" name="__codelineno-39-41" href="#__codelineno-39-41"></a><span class="w">					</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">qr</span><span class="p">.</span><span class="n">text</span><span class="p">;</span>
<a id="__codelineno-39-42" name="__codelineno-39-42" href="#__codelineno-39-42"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-39-43" name="__codelineno-39-43" href="#__codelineno-39-43"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-39-44" name="__codelineno-39-44" href="#__codelineno-39-44"></a>
<a id="__codelineno-39-45" name="__codelineno-39-45" href="#__codelineno-39-45"></a><span class="w">			</span><span class="n">texture</span><span class="p">.</span><span class="n">fill</span><span class="p">(</span><span class="n">image</span><span class="p">);</span>
<a id="__codelineno-39-46" name="__codelineno-39-46" href="#__codelineno-39-46"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-39-47" name="__codelineno-39-47" href="#__codelineno-39-47"></a>
<a id="__codelineno-39-48" name="__codelineno-39-48" href="#__codelineno-39-48"></a><span class="w">		</span><span class="n">texture</span><span class="p">.</span><span class="n">draw</span><span class="p">();</span>
<a id="__codelineno-39-49" name="__codelineno-39-49" href="#__codelineno-39-49"></a>
<a id="__codelineno-39-50" name="__codelineno-39-50" href="#__codelineno-39-50"></a><span class="w">		</span><span class="c1">// QR コードの領域を表示</span>
<a id="__codelineno-39-51" name="__codelineno-39-51" href="#__codelineno-39-51"></a><span class="w">		</span><span class="c1">// データの読み込みに成功した場合赤色</span>
<a id="__codelineno-39-52" name="__codelineno-39-52" href="#__codelineno-39-52"></a><span class="w">		</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">quad</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">quads</span><span class="p">)</span>
<a id="__codelineno-39-53" name="__codelineno-39-53" href="#__codelineno-39-53"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-39-54" name="__codelineno-39-54" href="#__codelineno-39-54"></a><span class="w">			</span><span class="n">quad</span><span class="p">.</span><span class="n">first</span><span class="p">.</span><span class="n">drawFrame</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="n">quad</span><span class="p">.</span><span class="n">second</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">Palette</span><span class="o">::</span><span class="n">Red</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Palette</span><span class="o">::</span><span class="n">Gray</span><span class="p">);</span>
<a id="__codelineno-39-55" name="__codelineno-39-55" href="#__codelineno-39-55"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-39-56" name="__codelineno-39-56" href="#__codelineno-39-56"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-39-57" name="__codelineno-39-57" href="#__codelineno-39-57"></a><span class="p">}</span>
</code></pre></div>
<h4 id="15-rendertexture-msrendertexture-改善">15. RenderTexture, MSRenderTexture 改善<a class="headerlink" href="#15-rendertexture-msrendertexture-改善" title="Permanent link">&para;</a></h4>
<p><code>RenderTexture</code> や <code>MSRenderTexture</code> の <code>.clear()</code>, <code>.read()</code>, <code>.resolve()</code> が const メンバ関数に修正され、使いやすくなりました。</p>
</details>
<details class="summary">
<summary>v0.4.1 | 2019-07-20</summary>
<h4 id="1-レンダーテクスチャ">1. レンダーテクスチャ<a class="headerlink" href="#1-レンダーテクスチャ" title="Permanent link">&para;</a></h4>
<p>これまで、図形やテクスチャはシーンにしか描画できませんでしたが、プログラムで用意した別のレンダーテクスチャにも描画できるようになりました。<code>RenderTexture</code> を作成し、<code>ScopedRenderTarget2D</code> オブジェクトのコンストラクタにレンダーテクスチャを渡すと、<code>ScopedRenderTarget2D</code> オブジェクトのスコープが有効な間、図形やテクスチャがそのレンダーテクスチャに描画されます（レンダーターゲットの変更）。描画されたレンダーテクスチャは、レンダーターゲットから解除されたあとにテクスチャとして描画に転用できます。</p>
<p>注意: レンダーターゲットとして設定されている最中のレンダーテクスチャを、描画に使用することはできません。</p>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v041/1.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="p">{</span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="w">	</span><span class="c1">// シーンの背景色を淡い水色に設定</span>
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span><span class="w"> </span><span class="mf">0.9</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="w">	</span>
<a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a><span class="w">	</span><span class="c1">// 絵文字</span>
<a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">emoji</span><span class="p">(</span><span class="n">Emoji</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;😇&quot;</span><span class="p">));</span>
<a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a>
<a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a><span class="w">	</span><span class="c1">// レンダーテクスチャ</span>
<a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a><span class="w">	</span><span class="n">RenderTexture</span><span class="w"> </span><span class="n">rt</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w"> </span><span class="n">Palette</span><span class="o">::</span><span class="n">White</span><span class="p">);</span>
<a id="__codelineno-40-13" name="__codelineno-40-13" href="#__codelineno-40-13"></a>
<a id="__codelineno-40-14" name="__codelineno-40-14" href="#__codelineno-40-14"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-40-15" name="__codelineno-40-15" href="#__codelineno-40-15"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-40-16" name="__codelineno-40-16" href="#__codelineno-40-16"></a><span class="w">		</span><span class="c1">// マウスの左ボタンが押されていたら</span>
<a id="__codelineno-40-17" name="__codelineno-40-17" href="#__codelineno-40-17"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">MouseL</span><span class="p">.</span><span class="n">pressed</span><span class="p">())</span>
<a id="__codelineno-40-18" name="__codelineno-40-18" href="#__codelineno-40-18"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-40-19" name="__codelineno-40-19" href="#__codelineno-40-19"></a><span class="w">			</span><span class="c1">// レンダーターゲットを rt に設定</span>
<a id="__codelineno-40-20" name="__codelineno-40-20" href="#__codelineno-40-20"></a><span class="w">			</span><span class="n">ScopedRenderTarget2D</span><span class="w"> </span><span class="n">target</span><span class="p">(</span><span class="n">rt</span><span class="p">);</span>
<a id="__codelineno-40-21" name="__codelineno-40-21" href="#__codelineno-40-21"></a><span class="w">			</span><span class="n">emoji</span><span class="p">.</span><span class="n">drawAt</span><span class="p">(</span><span class="n">Cursor</span><span class="o">::</span><span class="n">Pos</span><span class="p">());</span>
<a id="__codelineno-40-22" name="__codelineno-40-22" href="#__codelineno-40-22"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-40-23" name="__codelineno-40-23" href="#__codelineno-40-23"></a>
<a id="__codelineno-40-24" name="__codelineno-40-24" href="#__codelineno-40-24"></a><span class="w">		</span><span class="n">rt</span><span class="p">.</span><span class="n">draw</span><span class="p">();</span>
<a id="__codelineno-40-25" name="__codelineno-40-25" href="#__codelineno-40-25"></a><span class="w">		</span><span class="n">emoji</span><span class="p">.</span><span class="n">drawAt</span><span class="p">(</span><span class="n">Cursor</span><span class="o">::</span><span class="n">Pos</span><span class="p">());</span>
<a id="__codelineno-40-26" name="__codelineno-40-26" href="#__codelineno-40-26"></a>
<a id="__codelineno-40-27" name="__codelineno-40-27" href="#__codelineno-40-27"></a><span class="w">		</span><span class="c1">// Clear ボタンが押されたら</span>
<a id="__codelineno-40-28" name="__codelineno-40-28" href="#__codelineno-40-28"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Clear&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">650</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)))</span>
<a id="__codelineno-40-29" name="__codelineno-40-29" href="#__codelineno-40-29"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-40-30" name="__codelineno-40-30" href="#__codelineno-40-30"></a><span class="w">			</span><span class="c1">// レンダーテクスチャを白でクリア</span>
<a id="__codelineno-40-31" name="__codelineno-40-31" href="#__codelineno-40-31"></a><span class="w">			</span><span class="n">rt</span><span class="p">.</span><span class="n">clear</span><span class="p">(</span><span class="n">Palette</span><span class="o">::</span><span class="n">White</span><span class="p">);</span>
<a id="__codelineno-40-32" name="__codelineno-40-32" href="#__codelineno-40-32"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-40-33" name="__codelineno-40-33" href="#__codelineno-40-33"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-40-34" name="__codelineno-40-34" href="#__codelineno-40-34"></a><span class="p">}</span>
</code></pre></div>
<h4 id="2-マルチサンプルレンダーテクスチャ">2. マルチサンプル・レンダーテクスチャ<a class="headerlink" href="#2-マルチサンプルレンダーテクスチャ" title="Permanent link">&para;</a></h4>
<p>通常の <code>RenderTexture</code> への描画ではマルチサンプル・アンチエイリアシングが有効にならないので、図形を描画した際にジャギーが生じます。<code>MSRenderTexture</code> を使うと、通常のシーンへの描画と同じように、マルチサンプル・アンチエイリアシングを有効にして描画できます。ただし、<code>MSRenderTexture</code> に描画された結果を、別の描画で使う際には、<code>Graphics2D::Flush()</code> によってその時点までの描画処理をすべて実行（フラッシュ）して <code>MSRenderTexture</code> に確実に描画したあとに、<code>MSRenderTexture::resolve()</code> を行い、<code>MSRenderTexture</code> 内のマルチサンプル・テクスチャを、描画で使用可能な通常のテクスチャに変換しておく必要があります。</p>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v041/2.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="p">{</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span><span class="w"> </span><span class="mf">0.9</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="w">	</span><span class="c1">// レンダーテクスチャ</span>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="w">	</span><span class="n">RenderTexture</span><span class="w"> </span><span class="n">rt</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a>
<a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="w">	</span><span class="c1">// マルチサンプル・レンダーテクスチャ</span>
<a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="w">	</span><span class="n">MSRenderTexture</span><span class="w"> </span><span class="n">msrt</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span>
<a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a>
<a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-41-14" name="__codelineno-41-14" href="#__codelineno-41-14"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-41-15" name="__codelineno-41-15" href="#__codelineno-41-15"></a><span class="w">		</span><span class="n">rt</span><span class="p">.</span><span class="n">clear</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-41-16" name="__codelineno-41-16" href="#__codelineno-41-16"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-41-17" name="__codelineno-41-17" href="#__codelineno-41-17"></a><span class="w">			</span><span class="n">ScopedRenderTarget2D</span><span class="w"> </span><span class="n">target</span><span class="p">(</span><span class="n">rt</span><span class="p">);</span>
<a id="__codelineno-41-18" name="__codelineno-41-18" href="#__codelineno-41-18"></a>
<a id="__codelineno-41-19" name="__codelineno-41-19" href="#__codelineno-41-19"></a><span class="w">			</span><span class="n">Rect</span><span class="p">(</span><span class="n">Arg</span><span class="o">::</span><span class="n">center</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">),</span><span class="w"> </span><span class="mi">80</span><span class="p">)</span>
<a id="__codelineno-41-20" name="__codelineno-41-20" href="#__codelineno-41-20"></a><span class="w">				</span><span class="p">.</span><span class="n">rotated</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Time</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">30</span><span class="n">_deg</span><span class="p">).</span><span class="n">draw</span><span class="p">();</span>
<a id="__codelineno-41-21" name="__codelineno-41-21" href="#__codelineno-41-21"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-41-22" name="__codelineno-41-22" href="#__codelineno-41-22"></a>
<a id="__codelineno-41-23" name="__codelineno-41-23" href="#__codelineno-41-23"></a><span class="w">		</span><span class="n">msrt</span><span class="p">.</span><span class="n">clear</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-41-24" name="__codelineno-41-24" href="#__codelineno-41-24"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-41-25" name="__codelineno-41-25" href="#__codelineno-41-25"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-41-26" name="__codelineno-41-26" href="#__codelineno-41-26"></a><span class="w">				</span><span class="n">ScopedRenderTarget2D</span><span class="w"> </span><span class="n">target</span><span class="p">(</span><span class="n">msrt</span><span class="p">);</span>
<a id="__codelineno-41-27" name="__codelineno-41-27" href="#__codelineno-41-27"></a>
<a id="__codelineno-41-28" name="__codelineno-41-28" href="#__codelineno-41-28"></a><span class="w">				</span><span class="n">Rect</span><span class="p">(</span><span class="n">Arg</span><span class="o">::</span><span class="n">center</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">),</span><span class="w"> </span><span class="mi">80</span><span class="p">)</span>
<a id="__codelineno-41-29" name="__codelineno-41-29" href="#__codelineno-41-29"></a><span class="w">					</span><span class="p">.</span><span class="n">rotated</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Time</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">30</span><span class="n">_deg</span><span class="p">).</span><span class="n">draw</span><span class="p">();</span>
<a id="__codelineno-41-30" name="__codelineno-41-30" href="#__codelineno-41-30"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-41-31" name="__codelineno-41-31" href="#__codelineno-41-31"></a>
<a id="__codelineno-41-32" name="__codelineno-41-32" href="#__codelineno-41-32"></a><span class="w">			</span><span class="c1">// 2D 描画をフラッシュ</span>
<a id="__codelineno-41-33" name="__codelineno-41-33" href="#__codelineno-41-33"></a><span class="w">			</span><span class="n">Graphics2D</span><span class="o">::</span><span class="n">Flush</span><span class="p">();</span>
<a id="__codelineno-41-34" name="__codelineno-41-34" href="#__codelineno-41-34"></a>
<a id="__codelineno-41-35" name="__codelineno-41-35" href="#__codelineno-41-35"></a><span class="w">			</span><span class="c1">// マルチサンプルテクスチャを描画可能なテクスチャに変換</span>
<a id="__codelineno-41-36" name="__codelineno-41-36" href="#__codelineno-41-36"></a><span class="w">			</span><span class="n">msrt</span><span class="p">.</span><span class="n">resolve</span><span class="p">();</span>
<a id="__codelineno-41-37" name="__codelineno-41-37" href="#__codelineno-41-37"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-41-38" name="__codelineno-41-38" href="#__codelineno-41-38"></a>
<a id="__codelineno-41-39" name="__codelineno-41-39" href="#__codelineno-41-39"></a><span class="w">		</span><span class="n">rt</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-41-40" name="__codelineno-41-40" href="#__codelineno-41-40"></a><span class="w">	</span>
<a id="__codelineno-41-41" name="__codelineno-41-41" href="#__codelineno-41-41"></a><span class="w">		</span><span class="n">msrt</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-41-42" name="__codelineno-41-42" href="#__codelineno-41-42"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-41-43" name="__codelineno-41-43" href="#__codelineno-41-43"></a><span class="p">}</span>
</code></pre></div>
<h4 id="3-レンダーテクスチャへのシェーダ処理">3. レンダーテクスチャへのシェーダ処理<a class="headerlink" href="#3-レンダーテクスチャへのシェーダ処理" title="Permanent link">&para;</a></h4>
<p>テクスチャから別のレンダーテクスチャへの様々な変換処理を関数 1 つで実行できます。レンダーステートの変更も不要です。提供される関数は次のとおりです。</p>
<h5 id="void-copyconst-textureregion-from-rendertexture-to"><code>void Copy(const TextureRegion&amp; from, RenderTexture&amp; to);</code><a class="headerlink" href="#void-copyconst-textureregion-from-rendertexture-to" title="Permanent link">&para;</a></h5>
<ul>
<li>from: 入力テクスチャ</li>
<li>to: 出力テクスチャ</li>
</ul>
<p><code>from</code> のテクスチャの内容を <code>to</code> に描画します。<code>from</code> と <code>to</code> はともに有効なテクスチャで、互いに異なり、領域のサイズが同じでなければなりません。</p>
<h5 id="void-downsampleconst-textureregion-from-rendertexture-to"><code>void Downsample(const TextureRegion&amp; from, RenderTexture&amp; to);</code><a class="headerlink" href="#void-downsampleconst-textureregion-from-rendertexture-to" title="Permanent link">&para;</a></h5>
<ul>
<li>from: 入力テクスチャ</li>
<li>to: 出力テクスチャ</li>
</ul>
<p><code>from</code> のテクスチャの内容を縮小して <code>to</code> に描画します。<code>from</code> と <code>to</code> はともに有効なテクスチャで、互いに異なるテクスチャでなければなりません。</p>
<h5 id="void-gaussianblurhconst-textureregion-from-rendertexture-to"><code>void GaussianBlurH(const TextureRegion&amp; from, RenderTexture&amp; to);</code><a class="headerlink" href="#void-gaussianblurhconst-textureregion-from-rendertexture-to" title="Permanent link">&para;</a></h5>
<ul>
<li>from: 入力テクスチャ</li>
<li>to: 出力テクスチャ</li>
</ul>
<p><code>from</code> のテクスチャの内容に横方向のガウスブラーをかけて <code>to</code> に描画します。<code>from</code> と <code>to</code> はともに有効なテクスチャで、互いに異なり、領域のサイズが同じでなければなりません。</p>
<h5 id="void-gaussianblurvconst-textureregion-from-rendertexture-to"><code>void GaussianBlurV(const TextureRegion&amp; from, RenderTexture&amp; to);</code><a class="headerlink" href="#void-gaussianblurvconst-textureregion-from-rendertexture-to" title="Permanent link">&para;</a></h5>
<ul>
<li>from: 入力テクスチャ</li>
<li>to: 出力テクスチャ</li>
</ul>
<p><code>from</code> のテクスチャの内容に縦方向のガウスブラーをかけて <code>to</code> に描画します。<code>from</code> と <code>to</code> はともに有効なテクスチャで、互いに異なり、領域のサイズが同じでなければなりません。</p>
<h5 id="void-gaussianblurconst-textureregion-from-rendertexture-to-const-vec2-direction"><code>void GaussianBlur(const TextureRegion&amp; from, RenderTexture&amp; to, const Vec2&amp; direction);</code><a class="headerlink" href="#void-gaussianblurconst-textureregion-from-rendertexture-to-const-vec2-direction" title="Permanent link">&para;</a></h5>
<ul>
<li>from: 入力テクスチャ</li>
<li>to: 出力テクスチャ</li>
<li>direction: ブラーの方向</li>
</ul>
<p><code>from</code> のテクスチャの内容に指定した方向のガウスブラーをかけて <code>to</code> に描画します。<code>from</code> と <code>to</code> はともに有効なテクスチャで、互いに異なり、領域のサイズが同じでなければなりません。</p>
<h5 id="void-gaussianblurconst-textureregion-from-rendertexture-internalbuffer-rendertexture-to"><code>void GaussianBlur(const TextureRegion&amp; from, RenderTexture&amp; internalBuffer, RenderTexture&amp; to);</code><a class="headerlink" href="#void-gaussianblurconst-textureregion-from-rendertexture-internalbuffer-rendertexture-to" title="Permanent link">&para;</a></h5>
<ul>
<li>from: 入力テクスチャ</li>
<li>internalBuffer: 中間テクスチャ</li>
<li>to: 出力テクスチャ</li>
</ul>
<p><code>from</code> のテクスチャの内容をに縦方向と横方向のガウスブラーをかけて <code>to</code> に描画します。<code>from</code>, <code>internalBuffer</code>, <code>to</code> はいずれも有効なテクスチャで、隣り合うもの同士は異なり、領域のサイズが同じでなければなりません。<br />
<code>GaussianBlurH(from, internalBuffer); GaussianBlurV(internalBuffer, to);</code> と等価です。</p>
<h5 id="ダウンサンプリング">ダウンサンプリング<a class="headerlink" href="#ダウンサンプリング" title="Permanent link">&para;</a></h5>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v041/3.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="p">{</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">texture</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;example/windmill.png&quot;</span><span class="p">);</span>
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="w">	</span><span class="c1">// 縦、横が 4 分の 1 サイズのレンダーテクスチャ</span>
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="w">	</span><span class="n">RenderTexture</span><span class="w"> </span><span class="n">rt</span><span class="p">(</span><span class="n">texture</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a>
<a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a><span class="w">	</span><span class="c1">// ダウンサンプリング</span>
<a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a><span class="w">	</span><span class="n">Shader</span><span class="o">::</span><span class="n">Downsample</span><span class="p">(</span><span class="n">texture</span><span class="p">,</span><span class="w"> </span><span class="n">rt</span><span class="p">);</span>
<a id="__codelineno-42-12" name="__codelineno-42-12" href="#__codelineno-42-12"></a>
<a id="__codelineno-42-13" name="__codelineno-42-13" href="#__codelineno-42-13"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-42-14" name="__codelineno-42-14" href="#__codelineno-42-14"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-42-15" name="__codelineno-42-15" href="#__codelineno-42-15"></a><span class="w">		</span><span class="n">rt</span><span class="p">.</span><span class="n">draw</span><span class="p">();</span>
<a id="__codelineno-42-16" name="__codelineno-42-16" href="#__codelineno-42-16"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-42-17" name="__codelineno-42-17" href="#__codelineno-42-17"></a><span class="p">}</span>
</code></pre></div>
<h5 id="ガウスぼかし">ガウスぼかし<a class="headerlink" href="#ガウスぼかし" title="Permanent link">&para;</a></h5>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v041/4.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="p">{</span>
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="w">	</span><span class="c1">// ウィンドウを 1280x720 にリサイズ</span>
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="w">	</span><span class="n">Window</span><span class="o">::</span><span class="n">Resize</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">);</span>
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a>
<a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="w">	</span><span class="c1">// bay.jpg は 2560x1440 なのでサイズを小さくしてロード</span>
<a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">Texture</span><span class="w"> </span><span class="n">texture</span><span class="p">(</span><span class="n">Image</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;example/bay.jpg&quot;</span><span class="p">).</span><span class="n">scale</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">));</span>
<a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a>
<a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a><span class="w">	</span><span class="c1">// ぼかしを適用する領域のサイズ</span>
<a id="__codelineno-43-12" name="__codelineno-43-12" href="#__codelineno-43-12"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="n">Size</span><span class="w"> </span><span class="n">blurAreaSize</span><span class="p">(</span><span class="mi">480</span><span class="p">,</span><span class="w"> </span><span class="mi">320</span><span class="p">);</span>
<a id="__codelineno-43-13" name="__codelineno-43-13" href="#__codelineno-43-13"></a>
<a id="__codelineno-43-14" name="__codelineno-43-14" href="#__codelineno-43-14"></a><span class="w">	</span><span class="c1">// ガウスぼかしの中間で使うレンダーテクスチャを用意</span>
<a id="__codelineno-43-15" name="__codelineno-43-15" href="#__codelineno-43-15"></a><span class="w">	</span><span class="n">RenderTexture</span><span class="w"> </span><span class="n">rtA</span><span class="p">(</span><span class="n">blurAreaSize</span><span class="p">),</span><span class="w"> </span><span class="n">rtB</span><span class="p">(</span><span class="n">blurAreaSize</span><span class="p">);</span>
<a id="__codelineno-43-16" name="__codelineno-43-16" href="#__codelineno-43-16"></a><span class="w">	</span><span class="n">RenderTexture</span><span class="w"> </span><span class="n">rtA4</span><span class="p">(</span><span class="n">blurAreaSize</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="n">rtB4</span><span class="p">(</span><span class="n">blurAreaSize</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-43-17" name="__codelineno-43-17" href="#__codelineno-43-17"></a><span class="w">	</span><span class="n">RenderTexture</span><span class="w"> </span><span class="n">rtA8</span><span class="p">(</span><span class="n">blurAreaSize</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">rtB8</span><span class="p">(</span><span class="n">blurAreaSize</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<a id="__codelineno-43-18" name="__codelineno-43-18" href="#__codelineno-43-18"></a>
<a id="__codelineno-43-19" name="__codelineno-43-19" href="#__codelineno-43-19"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-43-20" name="__codelineno-43-20" href="#__codelineno-43-20"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-43-21" name="__codelineno-43-21" href="#__codelineno-43-21"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="n">Point</span><span class="w"> </span><span class="n">cursorPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cursor</span><span class="o">::</span><span class="n">Pos</span><span class="p">();</span>
<a id="__codelineno-43-22" name="__codelineno-43-22" href="#__codelineno-43-22"></a>
<a id="__codelineno-43-23" name="__codelineno-43-23" href="#__codelineno-43-23"></a><span class="w">		</span><span class="c1">// 背景画像のうちぼかしを適用する領域</span>
<a id="__codelineno-43-24" name="__codelineno-43-24" href="#__codelineno-43-24"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="n">Rect</span><span class="w"> </span><span class="n">blurArea</span><span class="p">(</span><span class="n">cursorPos</span><span class="p">,</span><span class="w"> </span><span class="n">blurAreaSize</span><span class="p">);</span>
<a id="__codelineno-43-25" name="__codelineno-43-25" href="#__codelineno-43-25"></a>
<a id="__codelineno-43-26" name="__codelineno-43-26" href="#__codelineno-43-26"></a><span class="w">		</span><span class="c1">// [オリジナル]-&gt;[ガウスぼかし]-&gt;[1/4サイズ]-&gt;[ガウスぼかし]-&gt;[1/8サイズ]-&gt;[ガウスぼかし]</span>
<a id="__codelineno-43-27" name="__codelineno-43-27" href="#__codelineno-43-27"></a><span class="w">		</span><span class="n">Shader</span><span class="o">::</span><span class="n">GaussianBlur</span><span class="p">(</span><span class="n">texture</span><span class="p">(</span><span class="n">blurArea</span><span class="p">),</span><span class="w"> </span><span class="n">rtB</span><span class="p">,</span><span class="w"> </span><span class="n">rtA</span><span class="p">);</span>
<a id="__codelineno-43-28" name="__codelineno-43-28" href="#__codelineno-43-28"></a><span class="w">		</span><span class="n">Shader</span><span class="o">::</span><span class="n">Downsample</span><span class="p">(</span><span class="n">rtA</span><span class="p">,</span><span class="w"> </span><span class="n">rtA4</span><span class="p">);</span>
<a id="__codelineno-43-29" name="__codelineno-43-29" href="#__codelineno-43-29"></a><span class="w">		</span><span class="n">Shader</span><span class="o">::</span><span class="n">GaussianBlur</span><span class="p">(</span><span class="n">rtA4</span><span class="p">,</span><span class="w"> </span><span class="n">rtB4</span><span class="p">,</span><span class="w"> </span><span class="n">rtA4</span><span class="p">);</span>
<a id="__codelineno-43-30" name="__codelineno-43-30" href="#__codelineno-43-30"></a><span class="w">		</span><span class="n">Shader</span><span class="o">::</span><span class="n">Downsample</span><span class="p">(</span><span class="n">rtA4</span><span class="p">,</span><span class="w"> </span><span class="n">rtA8</span><span class="p">);</span>
<a id="__codelineno-43-31" name="__codelineno-43-31" href="#__codelineno-43-31"></a><span class="w">		</span><span class="n">Shader</span><span class="o">::</span><span class="n">GaussianBlur</span><span class="p">(</span><span class="n">rtA8</span><span class="p">,</span><span class="w"> </span><span class="n">rtB8</span><span class="p">,</span><span class="w"> </span><span class="n">rtA8</span><span class="p">);</span>
<a id="__codelineno-43-32" name="__codelineno-43-32" href="#__codelineno-43-32"></a>
<a id="__codelineno-43-33" name="__codelineno-43-33" href="#__codelineno-43-33"></a><span class="w">		</span><span class="c1">// 背景を描画</span>
<a id="__codelineno-43-34" name="__codelineno-43-34" href="#__codelineno-43-34"></a><span class="w">		</span><span class="n">texture</span><span class="p">.</span><span class="n">draw</span><span class="p">();</span>
<a id="__codelineno-43-35" name="__codelineno-43-35" href="#__codelineno-43-35"></a>
<a id="__codelineno-43-36" name="__codelineno-43-36" href="#__codelineno-43-36"></a><span class="w">		</span><span class="c1">// ガウスぼかし後のテクスチャを RoundRect に貼り付けて描画</span>
<a id="__codelineno-43-37" name="__codelineno-43-37" href="#__codelineno-43-37"></a><span class="w">		</span><span class="n">RoundRect</span><span class="p">(</span><span class="n">cursorPos</span><span class="p">,</span><span class="w"> </span><span class="n">blurAreaSize</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">)(</span><span class="n">rtA8</span><span class="p">.</span><span class="n">resized</span><span class="p">(</span><span class="n">blurAreaSize</span><span class="p">)).</span><span class="n">draw</span><span class="p">();</span>
<a id="__codelineno-43-38" name="__codelineno-43-38" href="#__codelineno-43-38"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-43-39" name="__codelineno-43-39" href="#__codelineno-43-39"></a><span class="p">}</span>
</code></pre></div>
<h4 id="4-カスタムピクセルシェーダ">4. カスタムピクセルシェーダ<a class="headerlink" href="#4-カスタムピクセルシェーダ" title="Permanent link">&para;</a></h4>
<p>2D のテクスチャや図形がレンダーターゲットに描かれるとき、どのような色を出力するかは、「ピクセルシェ―ダ」と呼ばれる、ピクセルごとに GPU 上で実行されるプログラムを通して決定されます。そのプログラムをカスタマイズできるようになりました。</p>
<h4 id="5-子プロセスの作成">5. 子プロセスの作成<a class="headerlink" href="#5-子プロセスの作成" title="Permanent link">&para;</a></h4>
<p>別のプログラムを「子プロセス」として起動、管理できるようになりました。別のアプリケーションを起動したり、別のプログラムと情報をやり取りする際に使えます。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="p">{</span>
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="cp"># if SIV3D_PLATFORM(WINDOWS)</span>
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a>
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="w">	</span><span class="c1">// 子プロセスで実行するファイルのパス</span>
<a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">FilePath</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;C:/Windows/System32/notepad.exe&quot;</span><span class="p">;</span>
<a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a>
<a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="cp"># elif SIV3D_PLATFORM(MACOS)</span>
<a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a>
<a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a><span class="w">	</span><span class="c1">// 子プロセスで実行するファイルのパス</span>
<a id="__codelineno-44-13" name="__codelineno-44-13" href="#__codelineno-44-13"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">FilePath</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;/System/Applications/Calculator.app/Contents/MacOS/Calculator&quot;</span><span class="p">;</span>
<a id="__codelineno-44-14" name="__codelineno-44-14" href="#__codelineno-44-14"></a>
<a id="__codelineno-44-15" name="__codelineno-44-15" href="#__codelineno-44-15"></a><span class="cp"># endif</span>
<a id="__codelineno-44-16" name="__codelineno-44-16" href="#__codelineno-44-16"></a>
<a id="__codelineno-44-17" name="__codelineno-44-17" href="#__codelineno-44-17"></a><span class="w">	</span><span class="c1">// 子プロセスを作成</span>
<a id="__codelineno-44-18" name="__codelineno-44-18" href="#__codelineno-44-18"></a><span class="w">	</span><span class="n">ChildProcess</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Process</span><span class="o">::</span><span class="n">Spawn</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>
<a id="__codelineno-44-19" name="__codelineno-44-19" href="#__codelineno-44-19"></a>
<a id="__codelineno-44-20" name="__codelineno-44-20" href="#__codelineno-44-20"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">child</span><span class="p">)</span>
<a id="__codelineno-44-21" name="__codelineno-44-21" href="#__codelineno-44-21"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-44-22" name="__codelineno-44-22" href="#__codelineno-44-22"></a><span class="w">		</span><span class="k">throw</span><span class="w"> </span><span class="n">Error</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Failed to create a process&quot;</span><span class="p">);</span>
<a id="__codelineno-44-23" name="__codelineno-44-23" href="#__codelineno-44-23"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-44-24" name="__codelineno-44-24" href="#__codelineno-44-24"></a>
<a id="__codelineno-44-25" name="__codelineno-44-25" href="#__codelineno-44-25"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-44-26" name="__codelineno-44-26" href="#__codelineno-44-26"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-44-27" name="__codelineno-44-27" href="#__codelineno-44-27"></a><span class="w">		</span><span class="n">ClearPrint</span><span class="p">();</span>
<a id="__codelineno-44-28" name="__codelineno-44-28" href="#__codelineno-44-28"></a>
<a id="__codelineno-44-29" name="__codelineno-44-29" href="#__codelineno-44-29"></a><span class="w">		</span><span class="c1">// プロセスが実行中かを取得</span>
<a id="__codelineno-44-30" name="__codelineno-44-30" href="#__codelineno-44-30"></a><span class="w">		</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">child</span><span class="p">.</span><span class="n">isRunning</span><span class="p">();</span>
<a id="__codelineno-44-31" name="__codelineno-44-31" href="#__codelineno-44-31"></a>
<a id="__codelineno-44-32" name="__codelineno-44-32" href="#__codelineno-44-32"></a><span class="w">		</span><span class="c1">// プロセスが終了した場合、その終了コード</span>
<a id="__codelineno-44-33" name="__codelineno-44-33" href="#__codelineno-44-33"></a><span class="w">		</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">child</span><span class="p">.</span><span class="n">getExitCode</span><span class="p">();</span>
<a id="__codelineno-44-34" name="__codelineno-44-34" href="#__codelineno-44-34"></a>
<a id="__codelineno-44-35" name="__codelineno-44-35" href="#__codelineno-44-35"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">child</span><span class="p">.</span><span class="n">isRunning</span><span class="p">())</span>
<a id="__codelineno-44-36" name="__codelineno-44-36" href="#__codelineno-44-36"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-44-37" name="__codelineno-44-37" href="#__codelineno-44-37"></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SimpleGUI</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Terminate&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Vec2</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)))</span>
<a id="__codelineno-44-38" name="__codelineno-44-38" href="#__codelineno-44-38"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-44-39" name="__codelineno-44-39" href="#__codelineno-44-39"></a><span class="w">				</span><span class="c1">// プロセスを強制終了</span>
<a id="__codelineno-44-40" name="__codelineno-44-40" href="#__codelineno-44-40"></a><span class="w">				</span><span class="n">child</span><span class="p">.</span><span class="n">terminate</span><span class="p">();</span>
<a id="__codelineno-44-41" name="__codelineno-44-41" href="#__codelineno-44-41"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-44-42" name="__codelineno-44-42" href="#__codelineno-44-42"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-44-43" name="__codelineno-44-43" href="#__codelineno-44-43"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-44-44" name="__codelineno-44-44" href="#__codelineno-44-44"></a><span class="p">}</span>
</code></pre></div>
<h5 id="子プロセスとの標準入出力のパイプライン処理">子プロセスとの標準入出力のパイプライン処理<a class="headerlink" href="#子プロセスとの標準入出力のパイプライン処理" title="Permanent link">&para;</a></h5>
<p>子プロセスとのパイプライン処理によって、一方の標準出力を他方の標準入力とすることができます。次のサンプルでは、"Console" は通常の C++ コンソールプロジェクトとしてビルドします。</p>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v041/16.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="p">{</span>
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="w">	</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="w">	</span><span class="n">std</span><span class="o">::</span><span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="w">	</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a><span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="p">{</span>
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="cp"># if SIV3D_PLATFORM(WINDOWS)</span>
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a>
<a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="w">	</span><span class="c1">// 子プロセスで実行するファイルのパス</span>
<a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">FilePath</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Console.exe&quot;</span><span class="p">;</span>
<a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a>
<a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a><span class="cp"># else</span>
<a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a>
<a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a><span class="w">	</span><span class="c1">// 子プロセスで実行するファイルのパス</span>
<a id="__codelineno-46-13" name="__codelineno-46-13" href="#__codelineno-46-13"></a><span class="w">	</span><span class="k">const</span><span class="w"> </span><span class="n">FilePath</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;Console&quot;</span><span class="p">;</span>
<a id="__codelineno-46-14" name="__codelineno-46-14" href="#__codelineno-46-14"></a>
<a id="__codelineno-46-15" name="__codelineno-46-15" href="#__codelineno-46-15"></a><span class="cp"># endif</span>
<a id="__codelineno-46-16" name="__codelineno-46-16" href="#__codelineno-46-16"></a>
<a id="__codelineno-46-17" name="__codelineno-46-17" href="#__codelineno-46-17"></a><span class="w">	</span><span class="c1">// 子プロセスを作成（パイプライン処理）</span>
<a id="__codelineno-46-18" name="__codelineno-46-18" href="#__codelineno-46-18"></a><span class="w">	</span><span class="n">ChildProcess</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Process</span><span class="o">::</span><span class="n">Spawn</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="n">Pipe</span><span class="o">::</span><span class="n">StdInOut</span><span class="p">);</span>
<a id="__codelineno-46-19" name="__codelineno-46-19" href="#__codelineno-46-19"></a>
<a id="__codelineno-46-20" name="__codelineno-46-20" href="#__codelineno-46-20"></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">child</span><span class="p">)</span>
<a id="__codelineno-46-21" name="__codelineno-46-21" href="#__codelineno-46-21"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-46-22" name="__codelineno-46-22" href="#__codelineno-46-22"></a><span class="w">		</span><span class="k">throw</span><span class="w"> </span><span class="n">Error</span><span class="p">(</span><span class="sa">U</span><span class="s">&quot;Failed to create a process&quot;</span><span class="p">);</span>
<a id="__codelineno-46-23" name="__codelineno-46-23" href="#__codelineno-46-23"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-46-24" name="__codelineno-46-24" href="#__codelineno-46-24"></a>
<a id="__codelineno-46-25" name="__codelineno-46-25" href="#__codelineno-46-25"></a><span class="w">	</span><span class="n">child</span><span class="p">.</span><span class="n">ostream</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-46-26" name="__codelineno-46-26" href="#__codelineno-46-26"></a><span class="w">	</span><span class="n">child</span><span class="p">.</span><span class="n">ostream</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-46-27" name="__codelineno-46-27" href="#__codelineno-46-27"></a>
<a id="__codelineno-46-28" name="__codelineno-46-28" href="#__codelineno-46-28"></a><span class="w">	</span><span class="n">int32</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<a id="__codelineno-46-29" name="__codelineno-46-29" href="#__codelineno-46-29"></a><span class="w">	</span><span class="n">child</span><span class="p">.</span><span class="n">istream</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<a id="__codelineno-46-30" name="__codelineno-46-30" href="#__codelineno-46-30"></a><span class="w">	</span><span class="n">Print</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="sa">U</span><span class="s">&quot;result: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<a id="__codelineno-46-31" name="__codelineno-46-31" href="#__codelineno-46-31"></a>
<a id="__codelineno-46-32" name="__codelineno-46-32" href="#__codelineno-46-32"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-46-33" name="__codelineno-46-33" href="#__codelineno-46-33"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-46-34" name="__codelineno-46-34" href="#__codelineno-46-34"></a>
<a id="__codelineno-46-35" name="__codelineno-46-35" href="#__codelineno-46-35"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-46-36" name="__codelineno-46-36" href="#__codelineno-46-36"></a><span class="p">}</span>
</code></pre></div>
<h4 id="6-実験的な-3d-描画対応">6. 実験的な 3D 描画対応<a class="headerlink" href="#6-実験的な-3d-描画対応" title="Permanent link">&para;</a></h4>
<p>実験的な 3D 機能が実装されました。ただし、2D 描画で 3D をエミュレートする簡易的なものなので、次のような制約があります。</p>
<ul>
<li>深度バッファが無いので前後判定ができない</li>
<li>遠近クリップが無いのでカメラに近すぎるオブジェクトが正しく表示されない</li>
</ul>
<h5 id="3d-triangles_1">3D Triangles<a class="headerlink" href="#3d-triangles_1" title="Permanent link">&para;</a></h5>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v041/17.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="p">{</span>
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">Vec3</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vertices</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="w">		</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">),</span>
<a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="w">		</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">),</span>
<a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="w">		</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">),</span>
<a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="w">		</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">),</span>
<a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a><span class="w">		</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a><span class="w">		</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-47-13" name="__codelineno-47-13" href="#__codelineno-47-13"></a><span class="w">		</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-47-14" name="__codelineno-47-14" href="#__codelineno-47-14"></a><span class="w">		</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-47-15" name="__codelineno-47-15" href="#__codelineno-47-15"></a><span class="w">	</span><span class="p">};</span>
<a id="__codelineno-47-16" name="__codelineno-47-16" href="#__codelineno-47-16"></a>
<a id="__codelineno-47-17" name="__codelineno-47-17" href="#__codelineno-47-17"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">uint32</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="o">&gt;</span><span class="w"> </span><span class="n">indices</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-47-18" name="__codelineno-47-18" href="#__codelineno-47-18"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-47-19" name="__codelineno-47-19" href="#__codelineno-47-19"></a><span class="w">		</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<a id="__codelineno-47-20" name="__codelineno-47-20" href="#__codelineno-47-20"></a><span class="w">		</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-47-21" name="__codelineno-47-21" href="#__codelineno-47-21"></a><span class="w">		</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<a id="__codelineno-47-22" name="__codelineno-47-22" href="#__codelineno-47-22"></a><span class="w">		</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-47-23" name="__codelineno-47-23" href="#__codelineno-47-23"></a><span class="w">		</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span>
<a id="__codelineno-47-24" name="__codelineno-47-24" href="#__codelineno-47-24"></a><span class="w">		</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<a id="__codelineno-47-25" name="__codelineno-47-25" href="#__codelineno-47-25"></a><span class="w">	</span><span class="p">};</span>
<a id="__codelineno-47-26" name="__codelineno-47-26" href="#__codelineno-47-26"></a>
<a id="__codelineno-47-27" name="__codelineno-47-27" href="#__codelineno-47-27"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">fov</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">45</span><span class="n">_deg</span><span class="p">;</span>
<a id="__codelineno-47-28" name="__codelineno-47-28" href="#__codelineno-47-28"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-47-29" name="__codelineno-47-29" href="#__codelineno-47-29"></a><span class="w">	</span><span class="n">Vec3</span><span class="w"> </span><span class="n">eyePosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-47-30" name="__codelineno-47-30" href="#__codelineno-47-30"></a><span class="w">	</span><span class="n">experimental</span><span class="o">::</span><span class="n">BasicCamera3D</span><span class="w"> </span><span class="n">camera</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Size</span><span class="p">(),</span><span class="w"> </span><span class="n">fov</span><span class="p">,</span><span class="w"> </span><span class="n">eyePosition</span><span class="p">,</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">);</span>
<a id="__codelineno-47-31" name="__codelineno-47-31" href="#__codelineno-47-31"></a>
<a id="__codelineno-47-32" name="__codelineno-47-32" href="#__codelineno-47-32"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-47-33" name="__codelineno-47-33" href="#__codelineno-47-33"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-47-34" name="__codelineno-47-34" href="#__codelineno-47-34"></a><span class="w">		</span><span class="n">eyePosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cylindrical</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">Scene</span><span class="o">::</span><span class="n">Time</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">30</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">Math</span><span class="o">::</span><span class="n">Sin</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Time</span><span class="p">())</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-47-35" name="__codelineno-47-35" href="#__codelineno-47-35"></a><span class="w">		</span><span class="n">camera</span><span class="p">.</span><span class="n">setView</span><span class="p">(</span><span class="n">eyePosition</span><span class="p">,</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">);</span>
<a id="__codelineno-47-36" name="__codelineno-47-36" href="#__codelineno-47-36"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="n">Mat4x4</span><span class="w"> </span><span class="n">mat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">camera</span><span class="p">.</span><span class="n">getMat4x4</span><span class="p">();</span>
<a id="__codelineno-47-37" name="__codelineno-47-37" href="#__codelineno-47-37"></a>
<a id="__codelineno-47-38" name="__codelineno-47-38" href="#__codelineno-47-38"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-47-39" name="__codelineno-47-39" href="#__codelineno-47-39"></a><span class="w">			</span><span class="n">ScopedRenderStates2D</span><span class="w"> </span><span class="n">culling</span><span class="p">(</span><span class="n">RasterizerState</span><span class="o">::</span><span class="n">SolidCullBack</span><span class="p">);</span>
<a id="__codelineno-47-40" name="__codelineno-47-40" href="#__codelineno-47-40"></a>
<a id="__codelineno-47-41" name="__codelineno-47-41" href="#__codelineno-47-41"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span>
<a id="__codelineno-47-42" name="__codelineno-47-42" href="#__codelineno-47-42"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-47-43" name="__codelineno-47-43" href="#__codelineno-47-43"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">p0</span><span class="p">(</span><span class="n">vertices</span><span class="p">[</span><span class="n">indices</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">0</span><span class="p">]]);</span>
<a id="__codelineno-47-44" name="__codelineno-47-44" href="#__codelineno-47-44"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">p1</span><span class="p">(</span><span class="n">vertices</span><span class="p">[</span><span class="n">indices</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">]]);</span>
<a id="__codelineno-47-45" name="__codelineno-47-45" href="#__codelineno-47-45"></a><span class="w">				</span><span class="k">const</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">p2</span><span class="p">(</span><span class="n">vertices</span><span class="p">[</span><span class="n">indices</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p">]]);</span>
<a id="__codelineno-47-46" name="__codelineno-47-46" href="#__codelineno-47-46"></a>
<a id="__codelineno-47-47" name="__codelineno-47-47" href="#__codelineno-47-47"></a><span class="w">				</span><span class="n">experimental</span><span class="o">::</span><span class="n">Triangle3D</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span><span class="w"> </span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">HSV</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">30</span><span class="p">));</span>
<a id="__codelineno-47-48" name="__codelineno-47-48" href="#__codelineno-47-48"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-47-49" name="__codelineno-47-49" href="#__codelineno-47-49"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-47-50" name="__codelineno-47-50" href="#__codelineno-47-50"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-47-51" name="__codelineno-47-51" href="#__codelineno-47-51"></a><span class="p">}</span>
</code></pre></div>
<h5 id="3d-aabb_1">3D AABB<a class="headerlink" href="#3d-aabb_1" title="Permanent link">&para;</a></h5>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v041/18.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="p">{</span>
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">fov</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">45</span><span class="n">_deg</span><span class="p">;</span>
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="w">	</span><span class="n">Vec3</span><span class="w"> </span><span class="n">eyePosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="w">	</span><span class="n">experimental</span><span class="o">::</span><span class="n">BasicCamera3D</span><span class="w"> </span><span class="n">camera</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Size</span><span class="p">(),</span><span class="w"> </span><span class="n">fov</span><span class="p">,</span><span class="w"> </span><span class="n">eyePosition</span><span class="p">,</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">);</span>
<a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a>
<a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a><span class="w">		</span><span class="n">eyePosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cylindrical</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="n">Scene</span><span class="o">::</span><span class="n">Time</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">30</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Periodic</span><span class="o">::</span><span class="n">Sine0_1</span><span class="p">(</span><span class="mi">4</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a><span class="w">		</span><span class="n">camera</span><span class="p">.</span><span class="n">setView</span><span class="p">(</span><span class="n">eyePosition</span><span class="p">,</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">);</span>
<a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="n">Mat4x4</span><span class="w"> </span><span class="n">mat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">camera</span><span class="p">.</span><span class="n">getMat4x4</span><span class="p">();</span>
<a id="__codelineno-48-15" name="__codelineno-48-15" href="#__codelineno-48-15"></a>
<a id="__codelineno-48-16" name="__codelineno-48-16" href="#__codelineno-48-16"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-48-17" name="__codelineno-48-17" href="#__codelineno-48-17"></a><span class="w">			</span><span class="n">ScopedRenderStates2D</span><span class="w"> </span><span class="n">culling</span><span class="p">(</span><span class="n">RasterizerState</span><span class="o">::</span><span class="n">SolidCullBack</span><span class="p">);</span>
<a id="__codelineno-48-18" name="__codelineno-48-18" href="#__codelineno-48-18"></a>
<a id="__codelineno-48-19" name="__codelineno-48-19" href="#__codelineno-48-19"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Range</span><span class="p">(</span><span class="mi">-10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">))</span>
<a id="__codelineno-48-20" name="__codelineno-48-20" href="#__codelineno-48-20"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-48-21" name="__codelineno-48-21" href="#__codelineno-48-21"></a><span class="w">				</span><span class="n">experimental</span><span class="o">::</span><span class="n">Line3D</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">-10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.5</span><span class="p">));</span>
<a id="__codelineno-48-22" name="__codelineno-48-22" href="#__codelineno-48-22"></a><span class="w">				</span><span class="n">experimental</span><span class="o">::</span><span class="n">Line3D</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">-10</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.5</span><span class="p">));</span>
<a id="__codelineno-48-23" name="__codelineno-48-23" href="#__codelineno-48-23"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-48-24" name="__codelineno-48-24" href="#__codelineno-48-24"></a>
<a id="__codelineno-48-25" name="__codelineno-48-25" href="#__codelineno-48-25"></a><span class="w">			</span><span class="n">experimental</span><span class="o">::</span><span class="n">AABB</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">Palette</span><span class="o">::</span><span class="n">White</span><span class="p">);</span>
<a id="__codelineno-48-26" name="__codelineno-48-26" href="#__codelineno-48-26"></a><span class="w">			</span><span class="n">experimental</span><span class="o">::</span><span class="n">AABB</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">-8</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">HSV</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>
<a id="__codelineno-48-27" name="__codelineno-48-27" href="#__codelineno-48-27"></a><span class="w">			</span><span class="n">experimental</span><span class="o">::</span><span class="n">AABB</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">HSV</span><span class="p">(</span><span class="mi">90</span><span class="p">));</span>
<a id="__codelineno-48-28" name="__codelineno-48-28" href="#__codelineno-48-28"></a><span class="w">			</span><span class="n">experimental</span><span class="o">::</span><span class="n">AABB</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">-8</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">HSV</span><span class="p">(</span><span class="mi">270</span><span class="p">));</span>
<a id="__codelineno-48-29" name="__codelineno-48-29" href="#__codelineno-48-29"></a><span class="w">			</span><span class="n">experimental</span><span class="o">::</span><span class="n">AABB</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="mi">-8</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">-8</span><span class="p">),</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">HSV</span><span class="p">(</span><span class="mi">180</span><span class="p">));</span>
<a id="__codelineno-48-30" name="__codelineno-48-30" href="#__codelineno-48-30"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-48-31" name="__codelineno-48-31" href="#__codelineno-48-31"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-48-32" name="__codelineno-48-32" href="#__codelineno-48-32"></a><span class="p">}</span>
</code></pre></div>
<h5 id="3d-terrain_1">3D Terrain<a class="headerlink" href="#3d-terrain_1" title="Permanent link">&para;</a></h5>
<p>マウスクリックで、左上の高さマップに山を描きます。</p>
<p><img alt="" src="https://github.com/Siv3D/siv3d.docs.images/blob/master/news/v041/19.png?raw=true" /></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;Siv3D.hpp&gt;</span>
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">()</span>
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="p">{</span>
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="w">	</span><span class="n">Window</span><span class="o">::</span><span class="n">Resize</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">);</span>
<a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a><span class="w">	</span><span class="n">Scene</span><span class="o">::</span><span class="n">SetBackground</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.7</span><span class="p">));</span>
<a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a>
<a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a><span class="w">	</span><span class="n">RenderTexture</span><span class="w"> </span><span class="n">rt</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.0</span><span class="p">),</span><span class="w"> </span><span class="n">TextureFormat</span><span class="o">::</span><span class="n">R32_Float</span><span class="p">);</span>
<a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a><span class="w">	</span><span class="n">Grid</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="n">heightMap</span><span class="p">;</span>
<a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a><span class="w">	</span><span class="n">Grid</span><span class="o">&lt;</span><span class="n">Float3</span><span class="o">&gt;</span><span class="w"> </span><span class="n">positions</span><span class="p">;</span>
<a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a>
<a id="__codelineno-49-12" name="__codelineno-49-12" href="#__codelineno-49-12"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">fov</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">45</span><span class="n">_deg</span><span class="p">;</span>
<a id="__codelineno-49-13" name="__codelineno-49-13" href="#__codelineno-49-13"></a><span class="w">	</span><span class="k">constexpr</span><span class="w"> </span><span class="n">Vec3</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">-50</span><span class="p">);</span>
<a id="__codelineno-49-14" name="__codelineno-49-14" href="#__codelineno-49-14"></a><span class="w">	</span><span class="n">Vec3</span><span class="w"> </span><span class="n">eyePosition</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-49-15" name="__codelineno-49-15" href="#__codelineno-49-15"></a><span class="w">	</span><span class="n">experimental</span><span class="o">::</span><span class="n">BasicCamera3D</span><span class="w"> </span><span class="n">camera</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">Size</span><span class="p">(),</span><span class="w"> </span><span class="n">fov</span><span class="p">,</span><span class="w"> </span><span class="n">eyePosition</span><span class="p">,</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">);</span>
<a id="__codelineno-49-16" name="__codelineno-49-16" href="#__codelineno-49-16"></a>
<a id="__codelineno-49-17" name="__codelineno-49-17" href="#__codelineno-49-17"></a><span class="w">	</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="o">::</span><span class="n">Update</span><span class="p">())</span>
<a id="__codelineno-49-18" name="__codelineno-49-18" href="#__codelineno-49-18"></a><span class="w">	</span><span class="p">{</span>
<a id="__codelineno-49-19" name="__codelineno-49-19" href="#__codelineno-49-19"></a><span class="w">		</span><span class="n">eyePosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cylindrical</span><span class="p">(</span><span class="n">Arg</span><span class="o">::</span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="n">Arg</span><span class="o">::</span><span class="n">phi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Scene</span><span class="o">::</span><span class="n">Time</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">30</span><span class="n">_deg</span><span class="p">,</span><span class="w"> </span><span class="n">Arg</span><span class="o">::</span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Vec3</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">-50</span><span class="p">);</span>
<a id="__codelineno-49-20" name="__codelineno-49-20" href="#__codelineno-49-20"></a><span class="w">		</span><span class="n">camera</span><span class="p">.</span><span class="n">setView</span><span class="p">(</span><span class="n">eyePosition</span><span class="p">,</span><span class="w"> </span><span class="n">focusPosition</span><span class="p">);</span>
<a id="__codelineno-49-21" name="__codelineno-49-21" href="#__codelineno-49-21"></a><span class="w">		</span><span class="k">const</span><span class="w"> </span><span class="n">Mat4x4</span><span class="w"> </span><span class="n">mat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">camera</span><span class="p">.</span><span class="n">getMat4x4</span><span class="p">();</span>
<a id="__codelineno-49-22" name="__codelineno-49-22" href="#__codelineno-49-22"></a>
<a id="__codelineno-49-23" name="__codelineno-49-23" href="#__codelineno-49-23"></a><span class="w">		</span><span class="n">rt</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">heightMap</span><span class="p">);</span>
<a id="__codelineno-49-24" name="__codelineno-49-24" href="#__codelineno-49-24"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-49-25" name="__codelineno-49-25" href="#__codelineno-49-25"></a><span class="w">			</span><span class="n">positions</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">heightMap</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>
<a id="__codelineno-49-26" name="__codelineno-49-26" href="#__codelineno-49-26"></a>
<a id="__codelineno-49-27" name="__codelineno-49-27" href="#__codelineno-49-27"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="n">heightMap</span><span class="p">.</span><span class="n">size</span><span class="p">()))</span>
<a id="__codelineno-49-28" name="__codelineno-49-28" href="#__codelineno-49-28"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-49-29" name="__codelineno-49-29" href="#__codelineno-49-29"></a><span class="w">				</span><span class="n">positions</span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Float3</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">heightMap</span><span class="p">[</span><span class="n">p</span><span class="p">],</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
<a id="__codelineno-49-30" name="__codelineno-49-30" href="#__codelineno-49-30"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-49-31" name="__codelineno-49-31" href="#__codelineno-49-31"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-49-32" name="__codelineno-49-32" href="#__codelineno-49-32"></a>
<a id="__codelineno-49-33" name="__codelineno-49-33" href="#__codelineno-49-33"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-49-34" name="__codelineno-49-34" href="#__codelineno-49-34"></a><span class="w">			</span><span class="n">ScopedRenderTarget2D</span><span class="w"> </span><span class="n">target</span><span class="p">(</span><span class="n">rt</span><span class="p">);</span>
<a id="__codelineno-49-35" name="__codelineno-49-35" href="#__codelineno-49-35"></a><span class="w">			</span><span class="n">ScopedRenderStates2D</span><span class="w"> </span><span class="n">blend</span><span class="p">(</span><span class="n">BlendState</span><span class="o">::</span><span class="n">Additive</span><span class="p">);</span>
<a id="__codelineno-49-36" name="__codelineno-49-36" href="#__codelineno-49-36"></a>
<a id="__codelineno-49-37" name="__codelineno-49-37" href="#__codelineno-49-37"></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">MouseL</span><span class="p">.</span><span class="n">pressed</span><span class="p">())</span>
<a id="__codelineno-49-38" name="__codelineno-49-38" href="#__codelineno-49-38"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-49-39" name="__codelineno-49-39" href="#__codelineno-49-39"></a><span class="w">				</span><span class="n">Circle</span><span class="p">(</span><span class="n">Cursor</span><span class="o">::</span><span class="n">Pos</span><span class="p">(),</span><span class="w"> </span><span class="mi">8</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="n">Scene</span><span class="o">::</span><span class="n">DeltaTime</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">24.0</span><span class="p">));</span>
<a id="__codelineno-49-40" name="__codelineno-49-40" href="#__codelineno-49-40"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-49-41" name="__codelineno-49-41" href="#__codelineno-49-41"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-49-42" name="__codelineno-49-42" href="#__codelineno-49-42"></a>
<a id="__codelineno-49-43" name="__codelineno-49-43" href="#__codelineno-49-43"></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">positions</span><span class="p">)</span>
<a id="__codelineno-49-44" name="__codelineno-49-44" href="#__codelineno-49-44"></a><span class="w">		</span><span class="p">{</span>
<a id="__codelineno-49-45" name="__codelineno-49-45" href="#__codelineno-49-45"></a><span class="w">			</span><span class="n">ScopedRenderStates2D</span><span class="w"> </span><span class="n">culling</span><span class="p">(</span><span class="n">RasterizerState</span><span class="o">::</span><span class="n">SolidCullBack</span><span class="p">);</span>
<a id="__codelineno-49-46" name="__codelineno-49-46" href="#__codelineno-49-46"></a>
<a id="__codelineno-49-47" name="__codelineno-49-47" href="#__codelineno-49-47"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="n">positions</span><span class="p">.</span><span class="n">width</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-49-48" name="__codelineno-49-48" href="#__codelineno-49-48"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-49-49" name="__codelineno-49-49" href="#__codelineno-49-49"></a><span class="w">				</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="n">positions</span><span class="p">.</span><span class="n">height</span><span class="p">()))</span>
<a id="__codelineno-49-50" name="__codelineno-49-50" href="#__codelineno-49-50"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-49-51" name="__codelineno-49-51" href="#__codelineno-49-51"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">Float3</span><span class="w"> </span><span class="n">begin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="p">[{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">}];</span>
<a id="__codelineno-49-52" name="__codelineno-49-52" href="#__codelineno-49-52"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">Float3</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="p">[{</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">}];</span>
<a id="__codelineno-49-53" name="__codelineno-49-53" href="#__codelineno-49-53"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">ColorF</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HSV</span><span class="p">(</span><span class="mi">120</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">begin</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">end</span><span class="p">.</span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mf">0.7</span><span class="p">);</span>
<a id="__codelineno-49-54" name="__codelineno-49-54" href="#__codelineno-49-54"></a><span class="w">					</span><span class="n">experimental</span><span class="o">::</span><span class="n">Line3D</span><span class="p">(</span><span class="n">begin</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">);</span>
<a id="__codelineno-49-55" name="__codelineno-49-55" href="#__codelineno-49-55"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-49-56" name="__codelineno-49-56" href="#__codelineno-49-56"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-49-57" name="__codelineno-49-57" href="#__codelineno-49-57"></a>
<a id="__codelineno-49-58" name="__codelineno-49-58" href="#__codelineno-49-58"></a><span class="w">			</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="n">positions</span><span class="p">.</span><span class="n">width</span><span class="p">()))</span>
<a id="__codelineno-49-59" name="__codelineno-49-59" href="#__codelineno-49-59"></a><span class="w">			</span><span class="p">{</span>
<a id="__codelineno-49-60" name="__codelineno-49-60" href="#__codelineno-49-60"></a><span class="w">				</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="n">positions</span><span class="p">.</span><span class="n">height</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-49-61" name="__codelineno-49-61" href="#__codelineno-49-61"></a><span class="w">				</span><span class="p">{</span>
<a id="__codelineno-49-62" name="__codelineno-49-62" href="#__codelineno-49-62"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">Float3</span><span class="w"> </span><span class="n">begin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="p">[{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">}];</span>
<a id="__codelineno-49-63" name="__codelineno-49-63" href="#__codelineno-49-63"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">Float3</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="p">[{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">}];</span>
<a id="__codelineno-49-64" name="__codelineno-49-64" href="#__codelineno-49-64"></a><span class="w">					</span><span class="k">const</span><span class="w"> </span><span class="n">ColorF</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HSV</span><span class="p">(</span><span class="mi">120</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">begin</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">end</span><span class="p">.</span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mf">0.7</span><span class="p">);</span>
<a id="__codelineno-49-65" name="__codelineno-49-65" href="#__codelineno-49-65"></a><span class="w">					</span><span class="n">experimental</span><span class="o">::</span><span class="n">Line3D</span><span class="p">(</span><span class="n">begin</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">).</span><span class="n">draw</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">);</span>
<a id="__codelineno-49-66" name="__codelineno-49-66" href="#__codelineno-49-66"></a><span class="w">				</span><span class="p">}</span>
<a id="__codelineno-49-67" name="__codelineno-49-67" href="#__codelineno-49-67"></a><span class="w">			</span><span class="p">}</span>
<a id="__codelineno-49-68" name="__codelineno-49-68" href="#__codelineno-49-68"></a><span class="w">		</span><span class="p">}</span>
<a id="__codelineno-49-69" name="__codelineno-49-69" href="#__codelineno-49-69"></a>
<a id="__codelineno-49-70" name="__codelineno-49-70" href="#__codelineno-49-70"></a><span class="w">		</span><span class="n">rt</span><span class="p">.</span><span class="n">draw</span><span class="p">(</span><span class="n">ColorF</span><span class="p">(</span><span class="mf">0.1</span><span class="p">));</span>
<a id="__codelineno-49-71" name="__codelineno-49-71" href="#__codelineno-49-71"></a><span class="w">	</span><span class="p">}</span>
<a id="__codelineno-49-72" name="__codelineno-49-72" href="#__codelineno-49-72"></a><span class="p">}</span>
</code></pre></div>
</details>
<h2 id="v00v03-世代">v0.0～v0.3 世代<a class="headerlink" href="#v00v03-世代" title="Permanent link">&para;</a></h2>
<h2 id="旧-siv3d">旧 Siv3D<a class="headerlink" href="#旧-siv3d" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://github.com/Siv3D/Reference-JP/wiki/%E6%9B%B4%E6%96%B0%E5%B1%A5%E6%AD%B4" target="_blank">旧 Siv3D 更新履歴 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3m-2 16H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7h-2v7Z"/></svg></span></a></li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            ページトップへ戻る
          </button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="フッター" >
        
          
          <a href="../sponsorship/corporate-sponsor-guideline/" class="md-footer__link md-footer__link--prev" aria-label="前: 協賛特典" rel="prev">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                前
              </span>
              <div class="md-ellipsis">
                協賛特典
              </div>
            </div>
          </a>
        
        
          
          <a href="../mascot/" class="md-footer__link md-footer__link--next" aria-label="次: Siv3D くん" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                次
              </span>
              <div class="md-ellipsis">
                Siv3D くん
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright (c) 2012 - 2023, Ryo Suzuki<br>Copyright (c) 2012 - 2023, OpenSiv3D Project
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.top", "navigation.footer", "search.suggest", "search.highlight", "content.code.annotate", "content.code.copy"], "search": "../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}}</script>
    
    
      <script src="../assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
    
  </body>
</html>